<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Design and analysis of flexible platform trials with non-concurrent controls. Functions for data generation, analysis, visualization and running simulation studies are provided. 
    The implemented analysis methods are described in: 
    Bofill Roig et al. (2022) &lt;https://doi.org/10.1186/s12874-022-01683-w&gt;, 
    Saville et al. (2022) &lt;https://doi.org/10.1177/17407745221112013&gt; and 
    Schmidli et al. (2014) &lt;https://doi.org/10.1111/biom.12242&gt;.">
<title>Simulation and analysis of platform trials with non-concurrent controls • NCC</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Simulation and analysis of platform trials with non-concurrent controls">
<meta property="og:description" content="Design and analysis of flexible platform trials with non-concurrent controls. Functions for data generation, analysis, visualization and running simulation studies are provided. 
    The implemented analysis methods are described in: 
    Bofill Roig et al. (2022) &lt;https://doi.org/10.1186/s12874-022-01683-w&gt;, 
    Saville et al. (2022) &lt;https://doi.org/10.1177/17407745221112013&gt; and 
    Schmidli et al. (2014) &lt;https://doi.org/10.1111/biom.12242&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">NCC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/ncc_intro.html">NCC Introduction
</a>
    <a class="dropdown-item" href="articles/datasim_bin.html">How to simulate binary data
</a>
    <a class="dropdown-item" href="articles/datasim_cont.html">How to simulate continuous data
</a>
    <a class="dropdown-item" href="articles/how_to_run_sim_study.html">How to run a simulation study
</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pavlakrotka/NCC">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ncc-simulation-and-analysis-of-platform-trials-with-non-concurrent-controls-">NCC: Simulation and analysis of platform trials with non-concurrent
controls
<img src="reference/figures/NCC_hexsticker.png" align="right" height="200"><a class="anchor" aria-label="anchor" href="#ncc-simulation-and-analysis-of-platform-trials-with-non-concurrent-controls-"></a>
</h1></div>
<p><code>NCC</code> package allows users to simulate platform trials and
to compare arms using non-concurrent control data.</p>
<div class="section level2">
<h2 id="design-overview">Design overview<a class="anchor" aria-label="anchor" href="#design-overview"></a>
</h2>
<p>We consider a platform trial evaluating the efficacy of <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;K" title="K" alt="K"> treatment arms compared to a shared control. We
assume that treatment arms enter the platform trial sequentially. In
particular, we consider a trial starting with one initial treatment arm,
where a new arm is added after every <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;d%3D%28d_1%2C...%2Cd_K%29" title="d=(d_1,...,d_K)" alt="d=(d_1,…,d_K)"> patients have been
recruited to the trial (with <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;d_1%3D0" title="d_1=0" alt="d_1=0">).</p>
<p>We divide the duration of the trial into <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;S" title="S" alt="S"> periods, where the periods are the time intervals
bounded by times at which a treatment arm either enters or leaves the
platform.</p>
<p>The below figure illustrates the considered trial design.</p>
<p><img src="./reference/figures/trial_general_3.PNG" width="70%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<p>This package contains the following functions:</p>
<div class="section level3">
<h3 id="data-generation">Data generation<a class="anchor" aria-label="anchor" href="#data-generation"></a>
</h3>
<div class="section level4">
<h4 id="main-functions-for-data-generation">Main functions for data generation<a class="anchor" aria-label="anchor" href="#main-functions-for-data-generation"></a>
</h4>
<ul>
<li>
<code><a href="reference/datasim_bin.html">datasim_bin()</a></code> simulates data with binary outcomes</li>
<li>
<code><a href="reference/datasim_cont.html">datasim_cont()</a></code> simulates data with continuous
outcomes</li>
</ul>
</div>
<div class="section level4">
<h4 id="auxiliary-functions-for-data-generation">Auxiliary functions for data generation<a class="anchor" aria-label="anchor" href="#auxiliary-functions-for-data-generation"></a>
</h4>
<ul>
<li>
<code><a href="reference/get_ss_matrix.html">get_ss_matrix()</a></code> computes sample sizes per arm and
period</li>
<li>
<code><a href="reference/linear_trend.html">linear_trend()</a></code> is the linear time trend function, used
to generate the trend for each patient</li>
<li>
<code><a href="reference/sw_trend.html">sw_trend()</a></code> is the step-wise time trend function, used
generate the trend for each patient</li>
<li>
<code><a href="reference/inv_u_trend.html">inv_u_trend()</a></code> is the inverted-u time trend function,
used generate the trend for each patient</li>
<li>
<code><a href="reference/seasonal_trend.html">seasonal_trend()</a></code> is the seasonal time trend function,
used generate the trend for each patient</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="data-analysis">Data analysis<a class="anchor" aria-label="anchor" href="#data-analysis"></a>
</h3>
<div class="section level4">
<h4 id="treatment-control-comparisons-for-binary-endpoints">Treatment-control comparisons for binary endpoints<a class="anchor" aria-label="anchor" href="#treatment-control-comparisons-for-binary-endpoints"></a>
</h4>
<div class="section level5">
<h5 id="frequentist-approaches">Frequentist approaches<a class="anchor" aria-label="anchor" href="#frequentist-approaches"></a>
</h5>
<ul>
<li>
<code><a href="reference/fixmodel_bin.html">fixmodel_bin()</a></code> performs analysis using a regression
model adjusting for periods</li>
<li>
<code><a href="reference/fixmodel_cal_bin.html">fixmodel_cal_bin()</a></code> performs analysis using a regression
model adjusting for calendar time</li>
<li>
<code><a href="reference/poolmodel_bin.html">poolmodel_bin()</a></code> performs pooled analysis</li>
<li>
<code><a href="reference/sepmodel_bin.html">sepmodel_bin()</a></code> performs separate analysis</li>
<li>
<code><a href="reference/sepmodel_adj_bin.html">sepmodel_adj_bin()</a></code> performs separate analysis adjusting
for periods</li>
</ul>
</div>
<div class="section level5">
<h5 id="bayesian-approaches">Bayesian approaches<a class="anchor" aria-label="anchor" href="#bayesian-approaches"></a>
</h5>
<ul>
<li>
<code><a href="reference/MAPprior_bin.html">MAPprior_bin()</a></code> performs analysis using the MAP prior
approach</li>
<li>
<code><a href="reference/timemachine_bin.html">timemachine_bin()</a></code> performs analysis using the Time
Machine approach</li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="treatment-control-comparisons-for-continuous-endpoints">Treatment-control comparisons for continuous endpoints<a class="anchor" aria-label="anchor" href="#treatment-control-comparisons-for-continuous-endpoints"></a>
</h4>
<div class="section level5">
<h5 id="frequentist-approaches-1">Frequentist approaches<a class="anchor" aria-label="anchor" href="#frequentist-approaches-1"></a>
</h5>
<ul>
<li>
<code><a href="reference/fixmodel_cont.html">fixmodel_cont()</a></code> performs analysis using a regression
model adjusting for periods</li>
<li>
<code><a href="reference/fixmodel_cal_cont.html">fixmodel_cal_cont()</a></code> performs analysis using a
regression model adjusting for calendar time</li>
<li>
<code><a href="reference/gam_cont.html">gam_cont()</a></code> performs analysis using generalized additive
model</li>
<li>
<code><a href="reference/mixmodel_cont.html">mixmodel_cont()</a></code> performs analysis using a mixed model
adjusting for periods as a random factor</li>
<li>
<code><a href="reference/mixmodel_cal_cont.html">mixmodel_cal_cont()</a></code> performs analysis using a mixed
model adjusting for calendar time as a random factor</li>
<li>
<code><a href="reference/mixmodel_AR1_cont.html">mixmodel_AR1_cont()</a></code> performs analysis using a mixed
model adjusting for periods as a random factor with AR1 correlation
structure</li>
<li>
<code><a href="reference/mixmodel_AR1_cal_cont.html">mixmodel_AR1_cal_cont()</a></code> performs analysis using a mixed
model adjusting for calendar time as a random factor with AR1
correlation structure</li>
<li>
<code><a href="reference/piecewise_cont.html">piecewise_cont()</a></code> performs analysis using discontinuous
piecewise polynomials per period</li>
<li>
<code><a href="reference/piecewise_cal_cont.html">piecewise_cal_cont()</a></code> performs analysis using
discontinuous piecewise polynomials per calendar time</li>
<li>
<code><a href="reference/poolmodel_cont.html">poolmodel_cont()</a></code> performs pooled analysis</li>
<li>
<code><a href="reference/sepmodel_cont.html">sepmodel_cont()</a></code> performs separate analysis</li>
<li>
<code><a href="reference/sepmodel_adj_cont.html">sepmodel_adj_cont()</a></code> performs separate analysis
adjusting for periods</li>
<li>
<code><a href="reference/splines_cont.html">splines_cont()</a></code> performs analysis using regression
splines with knots placed according to periods</li>
<li>
<code><a href="reference/splines_cal_cont.html">splines_cal_cont()</a></code> performs analysis using regression
splines with knots placed according to calendar times</li>
</ul>
</div>
<div class="section level5">
<h5 id="bayesian-approaches-1">Bayesian approaches<a class="anchor" aria-label="anchor" href="#bayesian-approaches-1"></a>
</h5>
<ul>
<li>
<code><a href="reference/MAPprior_cont.html">MAPprior_cont()</a></code> performs analysis using the MAP prior
approach</li>
<li>
<code><a href="reference/timemachine_cont.html">timemachine_cont()</a></code> performs analysis using the Time
Machine approach</li>
</ul>
</div>
</div>
</div>
<div class="section level3">
<h3 id="running-simulations">Running simulations<a class="anchor" aria-label="anchor" href="#running-simulations"></a>
</h3>
<ul>
<li>
<code><a href="reference/all_models.html">all_models()</a></code> is an auxiliary wrapper function to
analyze given dataset (treatment-control comparisons) with multiple
models</li>
<li>
<code><a href="reference/sim_study.html">sim_study()</a></code> is a wrapper function to run a simulation
study (treatment-control comparisons) for desired scenarios</li>
<li>
<code><a href="reference/sim_study_par.html">sim_study_par()</a></code> is a wrapper function to run a
simulation study (treatment-control comparisons) for desired scenarios
in parallel</li>
</ul>
</div>
<div class="section level3">
<h3 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h3>
<ul>
<li>
<code><a href="reference/plot_trial.html">plot_trial()</a></code> visualizes the progress of a simulated
trial</li>
</ul>
<p>For a more detailed description of the functions, see the vignettes
in the R-package website (<a href="https://pavlakrotka.github.io/NCC/" class="external-link uri">https://pavlakrotka.github.io/NCC/</a>).</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the latest version of the <code>NCC</code> package from
Github, please run the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools") </span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pavlakrotka/NCC"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>Documentation of all functions as well as vignettes with further
description and examples can be found at the package website: <a href="https://pavlakrotka.github.io/NCC/" class="external-link uri">https://pavlakrotka.github.io/NCC/</a></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>[1] Bofill Roig, M., Krotka, P., et al. <a href="https://bmcmedresmethodol.biomedcentral.com/articles/10.1186/s12874-022-01683-w" class="external-link"><em>“On
model-based time trend adjustments in platform trials with
non-concurrent controls.”</em></a> BMC medical research methodology 22.1
(2022): 1-16.</p>
<p>[2] Lee, K. M., and Wason, J. <a href="https://bmcmedresmethodol.biomedcentral.com/articles/10.1186/s12874-020-01043-6" class="external-link"><em>“Including
non-concurrent control patients in the analysis of platform trials: is
it worth it?.”</em></a> BMC medical research methodology 20.1 (2020):
1-12.</p>
<p>[3] Saville, B. R., Berry, D. A., et al. <a href="https://journals.sagepub.com/doi/full/10.1177/17407745221112013" class="external-link"><em>“The
Bayesian Time Machine: Accounting for Temporal Drift in Multi-arm
Platform Trials.”</em></a> Clinical Trials 19.5 (2022): 490-501</p>
<hr>
<p><strong>Funding</strong></p>
<p><a href="https://eu-pearl.eu/" class="external-link">EU-PEARL</a> (EU Patient-cEntric
clinicAl tRial pLatforms) project has received funding from the
Innovative Medicines Initiative (IMI) 2 Joint Undertaking (JU) under
grant agreement No 853966. This Joint Undertaking receives support from
the European Union’s Horizon 2020 research and innovation programme and
EFPIA and Children’s Tumor Foundation, Global Alliance for TB Drug
Development non-profit organisation, Spring works Therapeutics Inc. This
publication reflects the authors’ views. Neither IMI nor the European
Union, EFPIA, or any Associated Partners are responsible for any use
that may be made of the information contained herein.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/pavlakrotka/NCC/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing NCC</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Pavla Krotka <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5727-4270" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Marta Bofill Roig <br><small class="roles"> Author, thesis advisor </small> <a href="https://orcid.org/0000-0002-4400-7541" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Katharina Hees <br><small class="roles"> Author </small>  </li>
<li>Peter Jacko <br><small class="roles"> Author </small>  </li>
<li>Dominic Magirr <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pavla Krotka, Marta Bofill Roig, Katharina Hees, Peter
Jacko, Dominic Magirr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
