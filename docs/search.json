[{"path":"/articles/datasim_bin.html","id":"datasim_bin","dir":"Articles","previous_headings":"","what":"datasim_bin()","title":"How to simulate binary data","text":"function datasim_bin() enables data simulation platform trial binary endpoint arbitrary number treatment arms entering different time points.","code":""},{"path":"/articles/datasim_bin.html","id":"assumptions","dir":"Articles","previous_headings":"","what":"Assumptions","title":"How to simulate binary data","text":"equal sample sizes across treatment arms, different sample size control group (resulting allocation ratio 1:1:…:1 period) block randomization used, factor multiply number active arms order get block size period can specified input argument (period_blocks, default=2)","code":""},{"path":[]},{"path":[]},{"path":"/articles/datasim_bin.html","id":"input","dir":"Articles","previous_headings":"Usage","what":"Input","title":"How to simulate binary data","text":"user specifies number treatment arms trial, sample size per treatment arm (assumed equal) timing adding arms terms patients recruited trial far. num_arms Number treatment arms trial n_arm Sample size per arm (assumed equal) d Vector timings adding new arms terms number patients recruited trial far (length num_arms) period_blocks - number multiply number active arms order get block size per period (block size = period_blocks \\(\\cdot\\) #active arms) p0 - response control arm - vector odds ratios treatment arm (length num_arms) lambda - vector strength time trend arm (length num_arms+1, time trend control also allowed) trend - indicates time trend pattern (“linear”, “stepwise” “inv_u”) N_peak - point inverted-u time trend switches direction terms overall sample size full - Boolean. Indicates whether full dataset returned. Default=FALSE","code":""},{"path":"/articles/datasim_bin.html","id":"output","dir":"Articles","previous_headings":"Usage","what":"Output","title":"How to simulate binary data","text":"Per default (using full=FALSE), function outputs dataframe simulated trial data needed analysis. parameter full set TRUE, output list containing extended version dataframe (also including lambdas underlying responses) input parameters.","code":""},{"path":"/articles/datasim_bin.html","id":"examples","dir":"Articles","previous_headings":"Usage","what":"Examples","title":"How to simulate binary data","text":"","code":"# Dataset with trial data only (default)   head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                  p0 = 0.7, OR = rep(1.8, 3),                   lambda = rep(0.15, 4), trend=\"stepwise\")) j response treatment period 1 1        1         0      1 2 2        1         0      1 3 3        1         1      1 4 4        1         1      1 5 5        1         0      1 6 6        1         1      1 # Full dataset  head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                  p0 = 0.7, OR = rep(1.8, 3),                   lambda = rep(0.15, 4), trend=\"stepwise\", full = T)$Data) j response treatment period         p lambda0 lambda1 lambda2 lambda3 1 1        0         0      1 0.7000000    0.15    0.15    0.15    0.15 2 2        1         1      1 0.8076923    0.15    0.15    0.15    0.15 3 3        1         0      1 0.7000000    0.15    0.15    0.15    0.15 4 4        1         1      1 0.8076923    0.15    0.15    0.15    0.15 5 5        1         1      1 0.8076923    0.15    0.15    0.15    0.15 6 6        0         0      1 0.7000000    0.15    0.15    0.15    0.15"},{"path":"/articles/datasim_cont.html","id":"datasim_cont","dir":"Articles","previous_headings":"","what":"datasim_cont()","title":"How to simulate continuous data","text":"function datasim_cont() enables data simulation platform trial continuous endpoint arbitrary number treatment arms entering different time points.","code":""},{"path":"/articles/datasim_cont.html","id":"assumptions","dir":"Articles","previous_headings":"","what":"Assumptions","title":"How to simulate continuous data","text":"equal sample sizes across treatment arms, different sample size control group (resulting allocation ratio 1:1:…:1 period) block randomization used, factor multiply number active arms order get block size period can specified input argument (period_blocks, default=2)","code":""},{"path":[]},{"path":[]},{"path":"/articles/datasim_cont.html","id":"input","dir":"Articles","previous_headings":"Usage","what":"Input","title":"How to simulate continuous data","text":"user specifies number treatment arms trial, sample size per treatment arm (assumed equal) timing adding arms terms patients recruited trial far. num_arms Number treatment arms trial n_arm Sample size per arm (assumed equal) d Vector timings adding new arms terms number patients recruited trial far (length num_arms) period_blocks - number multiply number active arms order get block size per period (block size = period_blocks \\(\\cdot\\) #active arms) mu0 - response control arm. Default=0 theta - vector treatment effects treatment arm (length num_arms) lambda - vector strength time trend arm (length num_arms+1, time trend control also allowed) sigma - residual variance trend - indicates time trend pattern (“linear”, “stepwise” “inv_u”) N_peak - point inverted-u time trend switches direction terms overall sample size full - Boolean. Indicates whether full dataset returned. Default=FALSE","code":""},{"path":"/articles/datasim_cont.html","id":"output","dir":"Articles","previous_headings":"Usage","what":"Output","title":"How to simulate continuous data","text":"Per default (using full=FALSE), function outputs dataframe simulated trial data needed analysis. parameter full set TRUE, output list containing extended version dataframe (also including lambdas underlying responses) input parameters.","code":""},{"path":"/articles/datasim_cont.html","id":"examples","dir":"Articles","previous_headings":"Usage","what":"Examples","title":"How to simulate continuous data","text":"","code":"# Dataset with trial data only (default)  head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                    theta = rep(0.25, 3), lambda = rep(0.15, 4),                    sigma = 1, trend = \"linear\")) j     response treatment period 1 1 -0.417365430         0      1 2 2  0.202444738         1      1 3 3  0.221877910         0      1 4 4 -0.649460217         1      1 5 5  0.003061792         0      1 6 6  0.701963396         1      1 # Full dataset  head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                    theta = rep(0.25, 3), lambda = rep(0.15, 4),                    sigma = 1, trend = \"linear\", full = T)$Data) j    response treatment period        means lambda0 lambda1 lambda2 lambda3 1 1  0.04687172         0      1 0.0000000000    0.15    0.15    0.15    0.15 2 2  0.06425719         1      1 0.2503006012    0.15    0.15    0.15    0.15 3 3  1.36376654         1      1 0.2506012024    0.15    0.15    0.15    0.15 4 4 -0.44961264         0      1 0.0009018036    0.15    0.15    0.15    0.15 5 5  0.59583906         0      1 0.0012024048    0.15    0.15    0.15    0.15 6 6  0.25805025         1      1 0.2515030060    0.15    0.15    0.15    0.15"},{"path":"/articles/get_ss_matrix.html","id":"get_ss_matrix","dir":"Articles","previous_headings":"","what":"get_ss_matrix()","title":"get_ss_matrix","text":"","code":"# Example   get_ss_matrix(num_arms = 3, n_arm = 100, d = c(0, 100, 250)) #>      [,1] [,2] [,3] [,4] #> [1,]   50   50   50   50 #> [2,]   50   50   NA   NA #> [3,]   NA   50   50   NA #> [4,]   NA   NA   50   50"},{"path":"/articles/how_to_run_sim_study.html","id":"preparing-scenarios","dir":"Articles","previous_headings":"","what":"Preparing scenarios","title":"How to run a simulation study","text":"perform simulation study NCC package, first create data frame desired scenarios contains parameters needed data generation analysis. simple example, consider platform trial 4 experimental treatment arms entering sequentially, null hypothesis holds experimental arms. vary strength pattern time trend (parameters lambda trend) order investigate impact type error, bias MSE treatment effect estimates.","code":"sim_scenarios <- data.frame(num_arms = 4,                              n_arm = 250,                              d1 = 250*0,                             d2 = 250*1,                             d3 = 250*2,                             d4 = 250*3,                             period_blocks = 2,                              mu0 = 0,                             sigma = 1,                             theta1 = 0,                             theta2 = 0,                             theta3 = 0,                             theta4 = 0,                             lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)),                             alpha = 0.025,                             ncc = TRUE)  head(sim_scenarios) num_arms n_arm d1  d2  d3  d4 period_blocks mu0 sigma theta1 theta2 theta3 1        4   250  0 250 500 750             2   0     1      0      0      0 2        4   250  0 250 500 750             2   0     1      0      0      0 3        4   250  0 250 500 750             2   0     1      0      0      0 4        4   250  0 250 500 750             2   0     1      0      0      0 5        4   250  0 250 500 750             2   0     1      0      0      0 6        4   250  0 250 500 750             2   0     1      0      0      0   theta4 lambda0 lambda1 lambda2 lambda3 lambda4  trend alpha  ncc 1      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE 2      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE 3      0 -0.0750 -0.0750 -0.0750 -0.0750 -0.0750 linear 0.025 TRUE 4      0 -0.0375 -0.0375 -0.0375 -0.0375 -0.0375 linear 0.025 TRUE 5      0  0.0000  0.0000  0.0000  0.0000  0.0000 linear 0.025 TRUE 6      0  0.0375  0.0375  0.0375  0.0375  0.0375 linear 0.025 TRUE"},{"path":"/articles/how_to_run_sim_study.html","id":"running-simulations","dir":"Articles","previous_headings":"","what":"Running simulations","title":"How to run a simulation study","text":"use function sim_study_par() perform simulation study created scenarios. evaluate 4th experimental treatment arm using regression model period adjustment, well separate pooled analyses. scenario replicated 1000 times. function reports system time scenario finishes order track progress simulations.","code":"set.seed(1234) sim_results <- sim_study_par(nsim = 1000, scenarios = sim_scenarios, arms = 4,                               models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),                               endpoint = \"cont\") [1] \"Starting the simulations. 18 scenarios will be simulated. Starting time: 2023-02-19 14:24:09\"   [1] \"Scenario 1/18 done. Time: 2023-02-19 14:24:21\" [1] \"Scenario 2/18 done. Time: 2023-02-19 14:24:26\"   [1] \"Scenario 3/18 done. Time: 2023-02-19 14:24:32\"   [1] \"Scenario 4/18 done. Time: 2023-02-19 14:24:37\" [1] \"Scenario 5/18 done. Time: 2023-02-19 14:24:42\" [1] \"Scenario 6/18 done. Time: 2023-02-19 14:24:47\" [1] \"Scenario 7/18 done. Time: 2023-02-19 14:24:53\" [1] \"Scenario 8/18 done. Time: 2023-02-19 14:24:58\" [1] \"Scenario 9/18 done. Time: 2023-02-19 14:25:03\" [1] \"Scenario 10/18 done. Time: 2023-02-19 14:25:08\" [1] \"Scenario 11/18 done. Time: 2023-02-19 14:25:13\" [1] \"Scenario 12/18 done. Time: 2023-02-19 14:25:19\" [1] \"Scenario 13/18 done. Time: 2023-02-19 14:25:24\" [1] \"Scenario 14/18 done. Time: 2023-02-19 14:25:30\" [1] \"Scenario 15/18 done. Time: 2023-02-19 14:25:36\" [1] \"Scenario 16/18 done. Time: 2023-02-19 14:25:41\" [1] \"Scenario 17/18 done. Time: 2023-02-19 14:25:47\" [1] \"Scenario 18/18 done. Time: 2023-02-19 14:25:52\""},{"path":"/articles/how_to_run_sim_study.html","id":"simulation-results","dir":"Articles","previous_headings":"","what":"Simulation results","title":"How to run a simulation study","text":"resulting data frame contains considered scenarios, well simulation results - probability reject null hypothesis, bias MSE treatment effect estimates. can now visualize performance considered analysis methods respect strength pattern time trend.","code":"head(sim_results) num_arms n_arm d1  d2  d3  d4 period_blocks mu0 sigma theta1 theta2 theta3 1        4   250  0 250 500 750             2   0     1      0      0      0 2        4   250  0 250 500 750             2   0     1      0      0      0 3        4   250  0 250 500 750             2   0     1      0      0      0 4        4   250  0 250 500 750             2   0     1      0      0      0 5        4   250  0 250 500 750             2   0     1      0      0      0 6        4   250  0 250 500 750             2   0     1      0      0      0   theta4 lambda0 lambda1 lambda2 lambda3 lambda4  trend alpha  ncc study_arm 1      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 2      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 3      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 4      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4 5      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4 6      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4       model reject_h0          bias         MSE failed nsim 1  fixmodel     0.030 -0.0005506988 0.007717052      0 1000 2 poolmodel     0.007 -0.0438708399 0.008220890      0 1000 3  sepmodel     0.027  0.0005236461 0.008487647      0 1000 4  fixmodel     0.020 -0.0001912505 0.006601056      0 1000 5 poolmodel     0.008 -0.0332907139 0.006741297      0 1000 6  sepmodel     0.020 -0.0002745666 0.007570587      0 1000"},{"path":"/articles/how_to_run_sim_study.html","id":"type-i-error","dir":"Articles","previous_headings":"Simulation results","what":"Type I error","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=reject_h0, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   geom_hline(aes(yintercept = 0.025), linetype = \"dotted\") +   labs(x=\"Strength of time trend\", y=\"Type I error\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/how_to_run_sim_study.html","id":"bias","dir":"Articles","previous_headings":"Simulation results","what":"Bias","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=bias, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   geom_hline(aes(yintercept = 0), linetype = \"dotted\") +   labs(x=\"Strength of time trend\", y=\"Bias\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/how_to_run_sim_study.html","id":"mse","dir":"Articles","previous_headings":"Simulation results","what":"MSE","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=MSE, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   labs(x=\"Strength of time trend\", y=\"MSE\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/ncc_intro.html","id":"non-concurrent-controls-in-platform-trials","dir":"Articles","previous_headings":"","what":"Non-concurrent controls in platform trials","title":"NCC Introduction","text":"Platform trials multi-arm multi-stage clinical trials aim evaluating efficacy several treatment arms within single trial. Experimental treatments permitted enter exit trial different times, new treatments become available, total number newly added treatments pre-specified. Moreover, treatment arms may compared shared control group. treatments enter trial later, control group divided concurrent (CC) non-concurrent controls (NCC), .e., patients randomized given treatment arm entered trial.  using NCC data can offer several benefits, reduced sample size increased statistical power, may also introduce bias effect estimators time trends present trial.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pavla Krotka. Author, maintainer. Marta Bofill Roig. Author, thesis advisor. Katharina Hees. Author. Peter Jacko. Author. Dominic Magirr. Author. Martin Posch. Contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Krotka P, Bofill Roig M, Hees K, Jacko P, Magirr D (2023). NCC: Simulation Analysis Platform Trials Non-Concurrent Controls. https://pavlakrotka.github.io/NCC/, https://github.com/pavlakrotka/NCC.","code":"@Manual{,   title = {NCC: Simulation and Analysis of Platform Trials with Non-Concurrent Controls},   author = {Pavla Krotka and Marta {Bofill Roig} and Katharina Hees and Peter Jacko and Dominic Magirr},   year = {2023},   note = {https://pavlakrotka.github.io/NCC/, https://github.com/pavlakrotka/NCC}, }"},{"path":"/index.html","id":"ncc-simulation-and-analysis-of-platform-trials-with-non-concurrent-controls-","dir":"","previous_headings":"","what":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"NCC package allows users simulate platform trials compare arms using non-concurrent control data.","code":""},{"path":"/index.html","id":"design-overview","dir":"","previous_headings":"","what":"Design overview","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"consider platform trial evaluating efficacy  treatment arms compared shared control. assume treatment arms enter platform trial sequentially. particular, consider trial starting one initial treatment arm, new arm added every  patients recruited trial (). divide duration trial  periods, periods time intervals bounded times treatment arm either enters leaves platform. figure illustrates considered trial design.","code":""},{"path":"/index.html","id":"functions","dir":"","previous_headings":"","what":"Functions","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"package contains following functions:","code":""},{"path":[]},{"path":"/index.html","id":"main-functions-for-data-generation","dir":"","previous_headings":"Functions > Data generation","what":"Main functions for data generation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"datasim_bin() simulates data binary outcomes datasim_cont() simulates data continuous outcomes","code":""},{"path":"/index.html","id":"auxiliary-functions-for-data-generation","dir":"","previous_headings":"Functions > Data generation","what":"Auxiliary functions for data generation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"get_ss_matrix() computes sample sizes per arm period linear_trend() linear time trend function, used generate trend patient sw_trend() step-wise time trend function, used generate trend patient inv_u_trend() inverted-u time trend function, used generate trend patient seasonal_trend() seasonal time trend function, used generate trend patient","code":""},{"path":[]},{"path":[]},{"path":"/index.html","id":"frequentist-approaches","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for binary endpoints","what":"Frequentist approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"fixmodel_bin() performs analysis using regression model adjusting periods fixmodel_cal_bin() performs analysis using regression model adjusting calendar time poolmodel_bin() performs pooled analysis sepmodel_bin() performs separate analysis sepmodel_adj_bin() performs separate analysis adjusting periods","code":""},{"path":"/index.html","id":"bayesian-approaches","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for binary endpoints","what":"Bayesian approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"MAPprior_bin() performs analysis using MAP prior approach timemachine_bin() performs analysis using Time Machine approach","code":""},{"path":[]},{"path":"/index.html","id":"frequentist-approaches-1","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for continuous endpoints","what":"Frequentist approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"fixmodel_cont() performs analysis using regression model adjusting periods fixmodel_cal_cont() performs analysis using regression model adjusting calendar time gam_cont() performs analysis using generalized additive model mixmodel_cont() performs analysis using mixed model adjusting periods random factor mixmodel_cal_cont() performs analysis using mixed model adjusting calendar time random factor mixmodel_AR1_cont() performs analysis using mixed model adjusting periods random factor AR1 correlation structure mixmodel_AR1_cal_cont() performs analysis using mixed model adjusting calendar time random factor AR1 correlation structure piecewise_cont() performs analysis using discontinuous piecewise polynomials per period piecewise_cal_cont() performs analysis using discontinuous piecewise polynomials per calendar time poolmodel_cont() performs pooled analysis sepmodel_cont() performs separate analysis sepmodel_adj_cont() performs separate analysis adjusting periods splines_cont() performs analysis using regression splines knots placed according periods splines_cal_cont() performs analysis using regression splines knots placed according calendar times","code":""},{"path":"/index.html","id":"bayesian-approaches-1","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for continuous endpoints","what":"Bayesian approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"MAPprior_cont() performs analysis using MAP prior approach timemachine_cont() performs analysis using Time Machine approach","code":""},{"path":"/index.html","id":"running-simulations","dir":"","previous_headings":"Functions","what":"Running simulations","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"all_models() auxiliary wrapper function analyze given dataset (treatment-control comparisons) multiple models sim_study() wrapper function run simulation study (treatment-control comparisons) desired scenarios sim_study_par() wrapper function run simulation study (treatment-control comparisons) desired scenarios parallel","code":""},{"path":"/index.html","id":"visualization","dir":"","previous_headings":"Functions","what":"Visualization","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"plot_trial() visualizes progress simulated trial detailed description functions, see vignettes R-package website (https://pavlakrotka.github.io/NCC/).","code":""},{"path":"/index.html","id":"scheme-of-available-functions","dir":"","previous_headings":"","what":"Scheme of available functions","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"figure illustrates NCC package functions functionality.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"install latest version NCC package Github, please run following code:","code":"# install.packages(\"devtools\")  devtools::install_github(\"pavlakrotka/NCC\", build_vignettes = TRUE)"},{"path":"/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"Documentation functions well vignettes description examples can found package website: https://pavlakrotka.github.io/NCC/","code":""},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"[1] Bofill Roig, M., Krotka, P., et al. “model-based time trend adjustments platform trials non-concurrent controls.” BMC medical research methodology 22.1 (2022): 1-16. [2] Lee, K. M., Wason, J. “Including non-concurrent control patients analysis platform trials: worth ?.” BMC medical research methodology 20.1 (2020): 1-12. [3] Saville, B. R., Berry, D. ., et al. “Bayesian Time Machine: Accounting Temporal Drift Multi-arm Platform Trials.” Clinical Trials 19.5 (2022): 490-501 Funding EU-PEARL (EU Patient-cEntric clinicAl tRial pLatforms) project received funding Innovative Medicines Initiative (IMI) 2 Joint Undertaking (JU) grant agreement 853966. Joint Undertaking receives support European Union’s Horizon 2020 research innovation programme EFPIA Children’s Tumor Foundation, Global Alliance TB Drug Development non-profit organisation, Spring works Therapeutics Inc. publication reflects authors’ views. Neither IMI European Union, EFPIA, Associated Partners responsible use may made information contained herein.","code":""},{"path":"/reference/all_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"function analyzes given data using different models indicated user. performs inference indicated experimental treatment arms.","code":""},{"path":"/reference/all_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"","code":"all_models(   data,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint,   alpha = 0.025,   unit_size = 250,   ncc = TRUE,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   ci = FALSE,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   prec_a = 0.001,   prec_b = 0.001,   bucket_size = 25,   smoothing_basis = \"tp\",   basis_dim = -1,   gam_method = \"GCV.Cp\",   bs_degree = 3,   poly_degree = 3 )"},{"path":"/reference/all_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"data Simulated trial data, e.g. result datasim_bin() datasim_cont() function. arms Vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. alpha Significance level (one-sided). Default=0.025. unit_size Number patients per calendar time unit frequentist models adjusting calendar time. Default=25. ncc Boolean. Whether include NCC data analysis using frequentist models. Default=TRUE. opt Binary. MAP Prior approach, opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Dispersion parameter half normal prior, prior study heterogeneity MAP Prior approach. Default=4. prior_prec_eta Dispersion parameter normal prior, prior control response (log-odds mean) MAP Prior approach. Default=0.001. n_samples Number many random samples get drawn calculation posterior mean, p-value CI's MAP Prior approach. Default=1000. n_chains Number parallel chains rjags model MAP Prior approach. Default=4. n_iter Number iterations monitor jags.model. Needed coda.samples MAP Prior approach. Default=4000. n_adapt Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model MAP Prior approach. Default=1000. robustify Boolean. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Weight given non-informative component (0 < weight < 1) robustification MAP Prior according Schmidli (2014). Default=0.1. ci Boolean. Whether confidence intervals mixed models computed. Default=FALSE. prec_theta Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\) . Default=0.001. prec_eta Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control response \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Parameter \\(\\) Gamma distribution precision parameter \\(\\tau\\) model time trend Time Machine approach. .e., \\(\\tau \\sim Gamma(,b)\\). Default=0.1. tau_b Parameter \\(b\\) Gamma distribution precision parameter \\(\\tau\\) model time trend Time Machine approach. .e., \\(\\tau \\sim Gamma(,b)\\). Default=0.01. prec_a Parameter \\(\\) Gamma distribution regarding precision responses continuous endpoints Time Machine approach. .e., \\(\\sigma \\sim Gamma(,b)\\). Default=0.001. prec_b Parameter \\(b\\) Gamma distribution regarding precision responses continuous endpoints Time Machine approach. .e., \\(\\sigma \\sim Gamma(,b)\\). Default=0.001. bucket_size Number patients per time bucket Time Machine approach. Default=25. smoothing_basis String indicating (penalized) smoothing basis use GAM models. Default=\"tp\". basis_dim dimension basis used represent smooth term GAM models. default depends number variables smooth function . Default=-1. gam_method smoothing parameter estimation method GAM models. Default=\"GCV.Cp\". bs_degree Degree polynomial splines. Default=3. poly_degree Degree discontinuous piecewise polynomials. Default=3.","code":""},{"path":"/reference/all_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"List containing indicator whether null hypothesis rejected , estimated treatment effect investigated treatment arms models.","code":""},{"path":"/reference/all_models.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"Pavla Krotka","code":""},{"path":"/reference/all_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  all_models(data = trial_data, arms = c(2,3), endpoint = \"bin\") #> $reject_h0_fixmodel_2 #> [1] FALSE #>  #> $treat_effect_fixmodel_2 #> [1] 0.2109789 #>  #> $reject_h0_poolmodel_2 #> [1] FALSE #>  #> $treat_effect_poolmodel_2 #> [1] 0.3335403 #>  #> $reject_h0_sepmodel_2 #> [1] FALSE #>  #> $treat_effect_sepmodel_2 #> [1] 0.06371581 #>  #> $reject_h0_fixmodel_3 #> [1] FALSE #>  #> $treat_effect_fixmodel_3 #> [1] 0.5168713 #>  #> $reject_h0_poolmodel_3 #> [1] TRUE #>  #> $treat_effect_poolmodel_3 #> [1] 0.8669706 #>  #> $reject_h0_sepmodel_3 #> [1] FALSE #>  #> $treat_effect_sepmodel_3 #> [1] 0.4068029 #>"},{"path":"/reference/datasim_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"function simulates data platform trial given number treatment arms entering given time points shared control arm. primary endpoint binary endpoint. user specifies timing adding arms terms patients recruited trial far sample size per arm.","code":""},{"path":"/reference/datasim_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"","code":"datasim_bin(   num_arms,   n_arm,   d,   period_blocks = 2,   p0,   OR,   lambda,   trend,   N_peak,   n_wave,   full = FALSE,   check = TRUE )"},{"path":"/reference/datasim_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"num_arms Number treatment arms trial. n_arm Sample size per experimental treatment arm (assumed equal). d Vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm. vector length equals num_arms. period_blocks Number define size blocks block randomisation. block size period equals period_blockstimes number active arms period (see Details). Default=2. p0 Response control arm. Vector treatment effects terms odds ratios treatment arm compared control. elements vector (odds ratios) ordered entry time treatment arms (e.g., first entry vector corresponds odds ratio first experimental treatment arm). vector length equals num_arms. lambda Vector strength time trend arm ordered entry time arms (e.g., first entry vector corresponds time trend control arm, second entry time trend first treatment arm). vector length equals num_arms+1, time trend control also allowed. trend Indicates time trend pattern (\"linear\", \"linear_2, \"stepwise\", \"stepwise_2\", \"inv_u\" \"seasonal\"). See Details information. N_peak Timepoint inverted-u time trend switches direction terms overall sample size. n_wave Number cycles (waves) seasonal trend . full Boolean. Indicates whether output form data frame variables needed analysis (FALSE) form list containing information (TRUE). Default=FALSE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE.","code":""},{"path":"/reference/datasim_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"Data frame: simulated trial data (full=FALSE, .e. default) following columns: j - patient recruitment index response - binary response patient j treatment- indicator treatment patient j allocated period - indicator periods patient j recruited List (full=TRUE) containing following elements: Data - simulated trial data, including additional column p probability used simulating response patient j n_total - total sample size trial n_arm - sample size per arm (assumed equal) num_arms - number experimental treatment arms trial d - timings adding new arms SS_matrix - matrix sample sizes per arm per period period_blocks - number multiply number active arms , order get block size per period p0 - response control arm - odds ratios treatment arm lambda - strength time trend arm time_dep_effect - time dependent treatment effects treatment arm (computing bias) trend - time trend pattern","code":""},{"path":"/reference/datasim_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"Design assumptions: Participants indexed entry order, assuming time unit exactly one participant recruited time recruitment observation response equal. Equal sample sizes (given parameter n_arm) experimental treatment arms assumed. Allocation ratio 1:1:...:1 period. Furthermore, block randomization used assign patients active arms. Block size period = period_blocks* (number active arms period). Data generation: binary response \\(y_j\\) patient \\(j\\) generated according : $$g(E(y_j)) = \\eta_0 + \\sum_{k=1}^K \\cdot (k_j=k) + f(j)$$ \\(g(\\cdot)\\) logit link function, \\(\\eta_0\\) (parameter p0) \\(\\theta_k\\) (log parameter ) response control arm log odds ratio treatment \\(k\\). \\(K\\) total number treatment arms trial (parameter num_arms) \\(k_j\\) indicator treatment arm patient \\(j\\) allocated . function \\(f(j)\\) denotes time trend, whose strength indicated \\(\\lambda_{k_j}\\) (parameter lambda) can following patterns (parameter trend): \"linear\" - trend starts beginning trial log odds ratio increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"linear_2\" - trend starts first period (.e. time trend first period) log odds ratio increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"stepwise\" - log odds ratio constant period increases decreases \\(\\lambda\\) time treatment arm enters leaves trial (.e. period), according function \\(f(j) = \\lambda_{k_j} \\cdot (c_j - 1)\\), \\(c_j\\) indicator period patient \\(j\\) enrolled \"stepwise_2\" - log odds ratio constant period increases decreases \\(\\lambda\\) time new treatment arm added trial, according function \\(f(j) = \\lambda_{k_j} \\cdot (w_j - 1)\\), \\(w_j\\) indicator many treatment arms already entered ongoing trial, patient \\(j\\) enrolled \"inv_u\" - log odds ratio increases point \\(N_p\\) (parameter N_peak) decreases afterwards, linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\), \\(N_p\\) indicates point trend turns positive negative terms sample size (note negative \\(\\lambda\\), log odds ratio decreases first increases ) \"seasonal\" - log odds ratio increases decreases periodically magnitude \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(\\psi\\) indicates many cycles time trend (parameter n_wave)","code":""},{"path":"/reference/datasim_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"Pavla Krotka, Marta Bofill Roig","code":""},{"path":"/reference/datasim_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate binary data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_bin","text":"","code":"head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")) #>   j response treatment period #> 1 1        1         0      1 #> 2 2        0         0      1 #> 3 3        1         1      1 #> 4 4        0         1      1 #> 5 5        1         0      1 #> 6 6        1         1      1"},{"path":"/reference/datasim_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"function simulates data platform trial given number treatment arms entering given time points shared control arm. primary endpoint continuous endpoint. user specifies timing adding arms terms patients recruited trial far sample size per arm.","code":""},{"path":"/reference/datasim_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"","code":"datasim_cont(   num_arms,   n_arm,   d,   period_blocks = 2,   mu0 = 0,   theta,   lambda,   sigma,   trend,   N_peak,   n_wave,   full = FALSE,   check = TRUE )"},{"path":"/reference/datasim_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"num_arms Number experimental treatment arms trial. n_arm Sample size per experimental treatment arm (assumed equal). d Vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm. vector length equals num_arms. period_blocks Number define size blocks block randomisation. block size period equals period_blockstimes number active arms period (see Details). Default=2. mu0 Response control arm. Default=0. theta Vector treatment effects terms difference means treatment arm compared control. elements vector (treatment effects) ordered entry time treatment arms (e.g., first entry vector corresponds odds ratio first experimental treatment arm). vector length equals num_arms. lambda Vector strength time trend arm ordered entry time arms (e.g., first entry vector corresponds time trend control arm, second entry time trend first treatment arm). vector length equals num_arms+1, time trend control also allowed. sigma Standard deviation responses. trend Indicates time trend pattern (\"linear\", \"linear_2, \"stepwise\", \"stepwise_2\", \"inv_u\" \"seasonal\"). See Details information. N_peak Point inverted-u time trend switches direction terms overall sample size. n_wave Number cycles (waves) seasonal trend . full Boolean. Indicates whether output form data frame variables needed analysis (FALSE) form list containing information (TRUE). Default=FALSE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE.","code":""},{"path":"/reference/datasim_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"Data frame: simulated trial data (full=FALSE, .e. default) following columns: j - patient recruitment index response - continuous response patient j treatment- indicator treatment patient j allocated period - indicator periods patient j recruited List (full=TRUE) containing following elements: Data - simulated trial data, including additional column means expected value used simulation response patient j n_total - total sample size trial n_arm - sample size per arm (assumed equal) num_arms - number experimental treatment arms trial d - timings adding new arms SS_matrix - matrix sample sizes per arm per period period_blocks - number multiply number active arms , order get block size per period mu0 - response control arm theta - treatment effects treatment arm lambda - strength time trend arm time_dep_effect - time dependent treatment effects treatment arm (computing bias) sigma - standard deviation responses trend - time trend pattern","code":""},{"path":"/reference/datasim_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"Design assumptions: Participants indexed entry order, assuming time unit exactly one participant recruited time recruitment observation response equal. Equal sample sizes (given parameter n_arm) experimental treatment arms assumed. Allocation ratio 1:1:...:1 period. Furthermore, block randomization used assign patients active arms. Block size period = period_blocks* (number active arms period). Data generation: continuous response \\(y_j\\) patient \\(j\\) generated according : $$E(y_j) = \\eta_0 + \\sum_{k=1}^K \\cdot (k_j=k) + f(j)$$ \\(\\eta_0\\) (parameter mu0) \\(\\theta_k\\) (parameter theta) response control arm effect treatment \\(k\\). \\(K\\) total number treatment arms trial (parameter num_arms) \\(k_j\\) indicator treatment arm patient \\(j\\) allocated . function \\(f(j)\\) denotes time trend, whose strength indicated \\(\\lambda_{k_j}\\) (parameter lambda) can following patterns (parameter trend): \"linear\" - trend starts beginning trial mean response increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"linear_2\" - trend starts first period (.e. time trend first period) mean response increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"stepwise\" - mean response constant period increases decreases \\(\\lambda\\) time treatment arm enters leaves trial (.e. period), according function \\(f(j) = \\lambda_{k_j} \\cdot (c_j - 1)\\), \\(c_j\\) indicator period patient \\(j\\) enrolled \"stepwise_2\" - mean response constant period increases decreases \\(\\lambda\\) time new treatment arm added trial, according function \\(f(j) = \\lambda_{k_j} \\cdot (w_j - 1)\\), \\(w_j\\) indicator many treatment arms already entered ongoing trial, patient \\(j\\) enrolled \"inv_u\" - mean response increases point \\(N_p\\) (parameter N_peak) decreases afterwards, linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\), \\(N_p\\) indicates point trend turns positive negative terms sample size (note negative \\(\\lambda\\), mean response decreases first increases ) \"seasonal\" - mean response increases decreases periodically magnitude \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(\\psi\\) indicates many cycles time trend (parameter n_wave)","code":""},{"path":"/reference/datasim_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"Pavla Krotka, Marta Bofill Roig","code":""},{"path":"/reference/datasim_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate continuous data from a platform trial with a shared control arm and an arbitrary number of treatment arms entering at different time points — datasim_cont","text":"","code":"head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")) #>   j    response treatment period #> 1 1 -1.32965263         1      1 #> 2 2 -0.05560135         1      1 #> 3 3 -0.04497282         0      1 #> 4 4  1.24708737         0      1 #> 5 5 -0.14084170         1      1 #> 6 6  1.17478605         1      1"},{"path":"/reference/fixmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"function performs logistic regression taking account trial data arm study leaves trial adjusting periods factors.","code":""},{"path":"/reference/fixmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"","code":"fixmodel_bin(data, arm, alpha = 0.025, ncc = TRUE, check = TRUE, ...)"},{"path":"/reference/fixmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/fixmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"model-based time trend adjustments platform trials non-concurrent controls. Roig, M.B., Krotka, et al. BMC Medical Research Methodology 22.1 (2022): 1-16.","code":""},{"path":"/reference/fixmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  fixmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.1363732 #>  #> $treat_effect #> [1] 0.4170587 #>  #> $lower_ci #> [1] -0.3189408 #>  #> $upper_ci #> [1] 1.18144 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               1.01501                0.54253                1.35790   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.41706               -0.08133               -0.03682   #>    as.factor(period)4   #>               0.99102   #>  #> Degrees of Freedom: 499 Total (i.e. Null);  493 Residual #> Null Deviance:\t    465.3  #> Residual Deviance: 445.3 \tAIC: 459.3 #>"},{"path":"/reference/fixmodel_cal_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"function performs logistic regression taking account trial data arm study leaves trial adjusting calendar time units factors.","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"","code":"fixmodel_cal_bin(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/fixmodel_cal_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment' 'response'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  fixmodel_cal_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.005566476 #>  #> $treat_effect #> [1] 0.8944044 #>  #> $lower_ci #> [1] 0.2194256 #>  #> $upper_ci #> [1] 1.608067 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(cal_time),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.38738                0.75361                1.12938   #> as.factor(treatment)3   as.factor(cal_time)2   as.factor(cal_time)3   #>               0.89440                0.64955                0.98617   #>  as.factor(cal_time)4   as.factor(cal_time)5   as.factor(cal_time)6   #>               1.26684                0.42961                0.18679   #>  as.factor(cal_time)7   as.factor(cal_time)8   as.factor(cal_time)9   #>               0.72239               -0.18357                0.13912   #> as.factor(cal_time)10  as.factor(cal_time)11  as.factor(cal_time)12   #>               0.74557               -0.07857                0.18029   #> as.factor(cal_time)13  as.factor(cal_time)14  as.factor(cal_time)15   #>               0.13214                0.18793                0.60993   #> as.factor(cal_time)16  as.factor(cal_time)17  as.factor(cal_time)18   #>               0.70741                0.17221                1.21534   #> as.factor(cal_time)19  as.factor(cal_time)20   #>               0.62932                0.87343   #>  #> Degrees of Freedom: 499 Total (i.e. Null);  477 Residual #> Null Deviance:\t    514  #> Residual Deviance: 486.6 \tAIC: 532.6 #>"},{"path":"/reference/fixmodel_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting calendar time units factors.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"","code":"fixmodel_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/fixmodel_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"model-based analysis adjusts time effect including factor calendar time interval. time modelled step-function jumps calendar times. Denoting \\(y_j\\) continuous response  patient \\(j\\) \\(M\\) treatment arm evaluation, regression model given : $$y_j = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{c=2}^{C_M} \\tau_c \\cdot (t_j \\T_{C_c}) + \\varepsilon_j$$ \\(\\eta_0\\) response control arm first period; \\(\\theta_k\\) represents effect treatment \\(k\\) compared control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial periods prior time investigated treatment arm left trial; \\(\\tau_c\\) indicates stepwise period effect calendar time units 1 \\(c\\) (\\(c = 2, \\ldots, C_M\\)), \\(C_M\\) denotes calendar time unit, investigated treatment arm left trial.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  fixmodel_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.07390182 #>  #> $treat_effect #> [1] 0.2037918 #>  #> $lower_ci #> [1] -0.07243424 #>  #> $upper_ci #> [1] 0.4800178 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(cal_time),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.27666                0.34075                0.17120   #> as.factor(treatment)3   as.factor(cal_time)2   as.factor(cal_time)3   #>               0.20379               -0.51354               -0.42205   #>  as.factor(cal_time)4   as.factor(cal_time)5   as.factor(cal_time)6   #>              -0.40820               -0.20038               -0.20381   #>  as.factor(cal_time)7   as.factor(cal_time)8   as.factor(cal_time)9   #>              -0.06285               -0.30565               -0.06292   #> as.factor(cal_time)10  as.factor(cal_time)11  as.factor(cal_time)12   #>              -0.07426               -0.32722                0.01501   #> as.factor(cal_time)13  as.factor(cal_time)14  as.factor(cal_time)15   #>              -0.35752                0.40976               -0.36189   #> as.factor(cal_time)16  as.factor(cal_time)17  as.factor(cal_time)18   #>              -0.03190               -0.44126               -0.27995   #> as.factor(cal_time)19  as.factor(cal_time)20   #>              -0.05499                0.06711   #>  #>"},{"path":"/reference/fixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting periods factors.","code":""},{"path":"/reference/fixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"","code":"fixmodel_cont(data, arm, alpha = 0.025, ncc = TRUE, check = TRUE, ...)"},{"path":"/reference/fixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/fixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"model-based analysis adjusts time effect including factor period. time modelled step-function jumps times treatments enter leave platform trial. Denoting \\(y_j\\) continuous response  patient \\(j\\) \\(M\\) treatment arm evaluation, regression model given : $$y_j = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{s=2}^{S_M} \\tau_s \\cdot (t_j \\T_{S_s}) + \\varepsilon_j$$ \\(\\eta_0\\) response control arm first period; \\(\\theta_k\\) represents effect treatment \\(k\\) compared control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial periods prior time investigated treatment arm left trial; \\(\\tau_s\\) indicates stepwise period effect periods 1 \\(s\\) (\\(s = 2, \\ldots, S_M\\)), \\(S_M\\) denotes period, investigated treatment arm left trial.","code":""},{"path":"/reference/fixmodel_cont.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"model-based time trend adjustments platform trials non-concurrent controls. Roig, M.B., Krotka, et al. BMC Medical Research Methodology 22.1 (2022): 1-16.","code":""},{"path":"/reference/fixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  fixmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.3457169 #>  #> $treat_effect #> [1] 0.05797324 #>  #> $lower_ci #> [1] -0.228838 #>  #> $upper_ci #> [1] 0.3447845 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>              -0.01427                0.21141                0.28890   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.05797               -0.18035                0.18003   #>    as.factor(period)4   #>               0.26420   #>  #>"},{"path":"/reference/gam_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized additive model analysis for continuous data — gam_cont","title":"Generalized additive model analysis for continuous data — gam_cont","text":"function performs analysis using generalized additive model taking account trial data arm study leaves trial smoothing patient entry index.","code":""},{"path":"/reference/gam_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized additive model analysis for continuous data — gam_cont","text":"","code":"gam_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   smoothing_basis = \"tp\",   basis_dim = -1,   gam_method = \"GCV.Cp\",   check = TRUE,   ... )"},{"path":"/reference/gam_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized additive model analysis for continuous data — gam_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ci Boolean. Whether confidence intervals computed. Default=FALSE. smoothing_basis String indicating (penalized) smoothing basis use. Default=\"tp\" thin plate regression spline. Available strings 'tp', 'ts', 'ds', 'cr', 'cs', 'cc', 'sos', 'ps', 'cp', 're', 'mrf', 'gp', ''. information see https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/smooth.terms.html. basis_dim dimension basis used represent smooth term. default depends number variables smooth function . Default=-1. information see description parameter 'k' https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/s.html. gam_method smoothing parameter estimation method. Default=\"GCV.Cp\". Available strings 'GCV.Cp', 'GACV.Cp', 'REML', 'P-REML', 'ML', 'P-ML'. information see description parameter 'method' https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/gam.html. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/gam_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized additive model analysis for continuous data — gam_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/gam_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generalized additive model analysis for continuous data — gam_cont","text":"Pavla Krotka","code":""},{"path":"/reference/gam_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized additive model analysis for continuous data — gam_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  gam_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 0.04102379 #>  #> $treat_effect #> [1] 0.2346351 #>  #> $lower_ci #> [1] -0.02993553 #>  #> $upper_ci #> [1] 0.4992058 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Family: gaussian  #> Link function: identity  #>  #> Formula: #> response ~ as.factor(treatment) + s(j, bs = smoothing_basis,  #>     k = basis_dim) #>  #> Estimated degrees of freedom: #> 7.07  total = 11.07  #>  #> GCV score: 1.01289      #>"},{"path":"/reference/get_alloc_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Computes sample size matrix - sample sizes per arm (rows) per period (columns)","code":""},{"path":"/reference/get_alloc_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"","code":"get_alloc_matrix(n_total, n_arm, num_arms, d, alloc_ratio = c(1, 1))"},{"path":"/reference/get_alloc_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"n_total Overall sample size trial n_arm Sample size per arm num_arms Number treatment arms trial d Timing adding new arms terms number patients allocated control arm alloc_ratio Vector lenght 2. Allocation ratio control vs treatment","code":""},{"path":"/reference/get_alloc_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Sample size matrix","code":""},{"path":"/reference/get_alloc_matrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Pavla Krotka","code":""},{"path":"/reference/get_ss_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"function computes sample size matrix necessary functions datasim_bin() datasim_cont().","code":""},{"path":"/reference/get_ss_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"","code":"get_ss_matrix(num_arms, n_arm, d)"},{"path":"/reference/get_ss_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"num_arms Number experimental treatment arms trial. n_arm Sample size per experimental treatment arm. d Vector timings adding new arms terms number patients recruited trial far (length num_arms). first entry must 0, trial supposed start least one treatment.","code":""},{"path":"/reference/get_ss_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"Sample size matrix, consisting sample size per arm per period, arms represented rows (control arm first row experimental arms coming ordered entry time) periods represented columns.","code":""},{"path":"/reference/get_ss_matrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"Pavla Krotka","code":""},{"path":"/reference/get_ss_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample size matrix for a platform trial with an arbitrary number of treatment arms — get_ss_matrix","text":"","code":"get_ss_matrix(num_arms = 3, n_arm = 100, d = c(0, 100, 250)) #>      [,1] [,2] [,3] [,4] #> [1,]   50   50   50   50 #> [2,]   50   50   NA   NA #> [3,]   NA   50   50   NA #> [4,]   NA   NA   50   50"},{"path":"/reference/inv_u_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of an inverted-u trend — inv_u_trend","title":"Generation of an inverted-u trend — inv_u_trend","text":"function generates time trend given time points trial according inverted-u function.","code":""},{"path":"/reference/inv_u_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of an inverted-u trend — inv_u_trend","text":"","code":"inv_u_trend(j, lambda, N_peak, sample_size)"},{"path":"/reference/inv_u_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of an inverted-u trend — inv_u_trend","text":"j Time points trend generated. lambda Strength time trend. N_peak Point time trend switches direction terms overall sample size. sample_size Total sample size trial.","code":""},{"path":"/reference/inv_u_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of an inverted-u trend — inv_u_trend","text":"Time trend time points j.","code":""},{"path":"/reference/inv_u_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of an inverted-u trend — inv_u_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\).","code":""},{"path":"/reference/inv_u_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of an inverted-u trend — inv_u_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/linear_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of a linear trend that starts in a given period — linear_trend","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"function generates time trend given time points trial according linear function.","code":""},{"path":"/reference/linear_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"","code":"linear_trend(j, lambda, sample_size)"},{"path":"/reference/linear_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"j Time points trend generated. lambda Strength time trend. sample_size Vector dimension 2, indicating sample size trial period time trend starts remaining sample size.","code":""},{"path":"/reference/linear_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"Time trend time points j.","code":""},{"path":"/reference/linear_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\).","code":""},{"path":"/reference/linear_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/MAPprior_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"function performs analysis binary data using Meta-Analytic-Predictive (MAP) Prior approach. method borrows data non-concurrent controls obtain prior distribution control response concurrent periods.","code":""},{"path":"/reference/MAPprior_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"","code":"MAPprior_bin(   data,   arm,   alpha = 0.025,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   check = TRUE,   ... )"},{"path":"/reference/MAPprior_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025 opt Binary. opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Dispersion parameter half normal prior, prior study heterogeneity. Default=4. prior_prec_eta Dispersion parameter normal prior, prior control log-odds. Default=0.001. n_samples Number many random samples get drawn calculation posterior mean, p-value CI's. Default=1000. n_chains Number parallel chains rjags model. Default=4. n_iter Number iterations monitor jags.model. Needed coda.samples. Default=4000. n_adapt Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model. Default=1000. robustify Boolean. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Weight given non-informative component (0 < weight < 1) robustification MAP prior according Schmidli (2014). Default=0.1. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/MAPprior_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) obtained drawing n_samples random samples posterior distribution treat_effect - estimated treatment effect terms log-odds ratio obtained drawing n_samples random samples posterior distribution lower_ci - lower limit (1-2*alpha)*100% confidence interval obtained drawing n_samples random samples posterior distribution upper_ci - upper limit (1-2*alpha)*100% confidence interval obtained drawing n_samples random samples posterior distribution reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/MAPprior_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"function, argument alpha corresponds \\(1-\\gamma\\), \\(\\gamma\\) decision boundary. Specifically, posterior probability difference distribution null hypothesis : \\(P(p_{treatment}-p_{control}>0) \\ge 1-\\)alpha. case non-informative prior coincides frequentist type error.","code":""},{"path":"/reference/MAPprior_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"Robust meta-analytic-predictive priors clinical trials historical control information. Schmidli, H., et al. Biometrics 70.4 (2014): 1023-1032.","code":""},{"path":"/reference/MAPprior_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"Katharina Hees","code":""},{"path":"/reference/MAPprior_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  MAPprior_bin(data = trial_data, arm = 3) #> Using default mean for robust component of 1/2. #> $p_val #> [1] 0.016 #>  #> $treat_effect #> [1] 0.8378846 #>  #> $lower_ci #> [1] 0.1002606 #>  #> $upper_ci #> [1] 1.594107 #>  #> $reject_h0 #> [1] TRUE #>"},{"path":"/reference/MAPprior_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"function performs analysis continuous data using Meta-Analytic-Predictive (MAP) Prior approach. method borrows data non-concurrent controls obtain prior distribution control response concurrent periods.","code":""},{"path":"/reference/MAPprior_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"","code":"MAPprior_cont(   data,   arm,   alpha = 0.025,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   check = TRUE,   ... )"},{"path":"/reference/MAPprior_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025 opt Binary. opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Dispersion parameter half normal prior, prior study heterogeneity. Default=4. prior_prec_eta Dispersion parameter normal prior, prior control mean. Default=0.001. n_samples Number many random samples get drawn calculation posterior mean, p-value CI's. Default=1000. n_chains Number parallel chains rjags model. Default=4. n_iter Number iterations monitor jags.model. Needed coda.samples. Default=4000. n_adapt Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model. Default=1000. robustify Boolean. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Weight given non-informative component (0 < weight < 1) robustification MAP prior according Schmidli (2014). Default=0.1. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/MAPprior_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) obtained drawing n_samples random samples posterior distribution treat_effect - estimated treatment effect terms difference means obtained drawing n_samples random samples posterior distribution lower_ci - lower limit (1-2*alpha)*100% confidence interval obtained drawing n_samples random samples posterior distribution upper_ci - upper limit (1-2*alpha)*100% confidence interval obtained drawing n_samples random samples posterior distribution reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/MAPprior_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"function, argument alpha corresponds \\(1-\\gamma\\), \\(\\gamma\\) decision boundary. Specifically, posterior probability difference distribution null hypothesis : \\(P(\\mu_{treatment}-\\mu_{control}>0) \\ge 1-\\)alpha. case non-informative prior coincides frequentist type error.","code":""},{"path":"/reference/MAPprior_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"Katharina Hees","code":""},{"path":"/reference/MAPprior_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"stepwise\")  MAPprior_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.23792 #>  #> $treat_effect #> [1] 0.09601574 #>  #> $lower_ci #> [1] -0.1647459 #>  #> $upper_ci #> [1] 0.3704194 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting calendar time units random factors AR1 correlation structure.","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"","code":"mixmodel_AR1_cal_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ci Boolean. Whether confidence intervals computed. Default=FALSE. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_AR1_cal_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 0.06856752 #>  #> $treat_effect #> [1] 0.1805866 #>  #> $lower_ci #> [1] -0.05758612 #>  #> $upper_ci #> [1] 0.41877 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #> formula: response ~ as.factor(treatment) + AR1(1 | cal_time) #> ML: Estimation of corrPars, lambda and phi by ML. #>     Estimation of fixed effects by ML. #> Estimation of lambda and phi by 'outer' ML, maximizing p_v. #> family: gaussian( link = identity )  #>  ------------ Fixed effects (beta) ------------ #>                       Estimate Cond. SE t-value #> (Intercept)            0.09249  0.07039   1.314 #> as.factor(treatment)1  0.18875  0.12132   1.556 #> as.factor(treatment)2  0.30160  0.12138   2.485 #> as.factor(treatment)3  0.18059  0.12128   1.489 #>  --------------- Random effects --------------- #> Family: gaussian( link = identity )  #>                    --- Correlation parameters: #>    1.ARphi  #> -0.7428687  #>            --- Variance parameters ('lambda'): #> lambda = var(u) for u ~ Gaussian;  #>    cal_time  :  0.009208   #> # of obs: 500; # of groups: cal_time, 20  #>  -------------- Residual variance  ------------ #> phi estimate was 0.974457  #>  ------------- Likelihood values  ------------- #>                         logLik #> p_v(h) (marginal L): -704.8208 #>"},{"path":"/reference/mixmodel_AR1_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting periods random factors AR1 correlation structure.","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"","code":"mixmodel_AR1_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_AR1_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ci Boolean. Whether confidence intervals computed. Default=FALSE. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_AR1_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 0.1603438 #>  #> $treat_effect #> [1] 0.118678 #>  #> $lower_ci #> [1] -0.1157719 #>  #> $upper_ci #> [1] 0.3531536 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #> formula: response ~ as.factor(treatment) + AR1(1 | period) #> ML: Estimation of corrPars, lambda and phi by ML. #>     Estimation of fixed effects by ML. #> Estimation of lambda and phi by 'outer' ML, maximizing p_v. #> family: gaussian( link = identity )  #>  ------------ Fixed effects (beta) ------------ #>                       Estimate Cond. SE t-value #> (Intercept)            0.07667  0.06893  1.1123 #> as.factor(treatment)1  0.10891  0.11939  0.9122 #> as.factor(treatment)2  0.20808  0.11939  1.7429 #> as.factor(treatment)3  0.11868  0.11939  0.9940 #>  --------------- Random effects --------------- #> Family: gaussian( link = identity )  #>                    --- Correlation parameters: #>   1.ARphi  #> -0.999999  #>            --- Variance parameters ('lambda'): #> lambda = var(u) for u ~ Gaussian;  #>    period  :  0.001129   #> # of obs: 500; # of groups: period, 4  #>  -------------- Residual variance  ------------ #> phi estimate was 0.950254  #>  ------------- Likelihood values  ------------- #>                        logLik #> p_v(h) (marginal L): -696.946 #>"},{"path":"/reference/mixmodel_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting calendar time units random factors.","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"","code":"mixmodel_cal_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ci Boolean. Whether confidence intervals computed. Default=FALSE. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_cal_cont(data = trial_data, arm = 3, ci = TRUE) #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 0.004670424 #>  #> $treat_effect #> [1] 0.3370413 #>  #> $lower_ci #> [1] 0.08591439 #>  #> $upper_ci #> [1] 0.5917917 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula: response ~ as.factor(treatment) + (1 | cal_time) #>    Data: data_new #> REML criterion at convergence: 1451.075 #> Random effects: #>  Groups   Name        Std.Dev. #>  cal_time (Intercept) 0.1941   #>  Residual             1.0125   #> Number of obs: 500, groups:  cal_time, 20 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.20316                0.03419                0.27167   #> as.factor(treatment)3   #>               0.33704   #>"},{"path":"/reference/mixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting periods random factors.","code":""},{"path":"/reference/mixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"","code":"mixmodel_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ci Boolean. Whether confidence intervals computed. Default=FALSE. ncc Boolean. Whether include NCC data analysis. Default=TRUE. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/mixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_cont(data = trial_data, arm = 3, ci = TRUE) #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 2.905069e-05 #>  #> $treat_effect #> [1] 0.513995 #>  #> $lower_ci #> [1] 0.2803183 #>  #> $upper_ci #> [1] 0.7536095 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula: response ~ as.factor(treatment) + (1 | period) #>    Data: data_new #> REML criterion at convergence: 1414.632 #> Random effects: #>  Groups   Name        Std.Dev. #>  period   (Intercept) 0.03637  #>  Residual             0.98753  #> Number of obs: 500, groups:  period, 4 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>              -0.01351                0.35074                0.38215   #> as.factor(treatment)3   #>               0.51399   #>"},{"path":"/reference/piecewise_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using discontinuous piecewise polynomials calendar time unit.","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"","code":"piecewise_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   poly_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/piecewise_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'j'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. poly_degree Degree piecewise polynomial. Default=3. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  piecewise_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.05286318 #>  #> $treat_effect #> [1] 0.2236918 #>  #> $lower_ci #> [1] -0.04752625 #>  #> $upper_ci #> [1] 0.4949098 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + poly(j, degree = poly_degree,  #>     raw = TRUE) * as.factor(cal_time), data = data_new) #>  #> Coefficients: #>                                                      (Intercept)   #>                                                        1.073e+00   #>                                            as.factor(treatment)1   #>                                                       -1.313e-01   #>                                            as.factor(treatment)2   #>                                                        4.955e-02   #>                                            as.factor(treatment)3   #>                                                        2.237e-01   #>                       poly(j, degree = poly_degree, raw = TRUE)1   #>                                                       -3.053e-01   #>                       poly(j, degree = poly_degree, raw = TRUE)2   #>                                                        2.657e-02   #>                       poly(j, degree = poly_degree, raw = TRUE)3   #>                                                       -6.790e-04   #>                                             as.factor(cal_time)2   #>                                                        6.778e+00   #>                                             as.factor(cal_time)3   #>                                                       -9.922e+01   #>                                             as.factor(cal_time)4   #>                                                        8.321e+02   #>                                             as.factor(cal_time)5   #>                                                       -9.547e+02   #>                                             as.factor(cal_time)6   #>                                                       -6.426e+02   #>                                             as.factor(cal_time)7   #>                                                        5.112e+03   #>                                             as.factor(cal_time)8   #>                                                        3.972e+02   #>                                             as.factor(cal_time)9   #>                                                        7.795e+03   #>                                            as.factor(cal_time)10   #>                                                        1.040e+04   #>                                            as.factor(cal_time)11   #>                                                       -2.009e+03   #>                                            as.factor(cal_time)12   #>                                                        6.708e+02   #>                                            as.factor(cal_time)13   #>                                                       -3.413e+04   #>                                            as.factor(cal_time)14   #>                                                        2.464e+03   #>                                            as.factor(cal_time)15   #>                                                        2.778e+04   #>                                            as.factor(cal_time)16   #>                                                       -3.593e+04   #>                                            as.factor(cal_time)17   #>                                                        3.656e+04   #>                                            as.factor(cal_time)18   #>                                                        9.530e+03   #>                                            as.factor(cal_time)19   #>                                                       -6.460e+03   #>                                            as.factor(cal_time)20   #>                                                       -1.559e+05   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)2   #>                                                        2.505e-02   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)2   #>                                                       -2.685e-02   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)2   #>                                                        7.399e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)3   #>                                                        5.035e+00   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)3   #>                                                       -1.021e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)3   #>                                                        1.078e-03   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)4   #>                                                       -2.892e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)4   #>                                                        3.135e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)4   #>                                                       -6.346e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)5   #>                                                        2.537e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)5   #>                                                       -2.457e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)5   #>                                                        1.317e-03   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)6   #>                                                        1.380e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)6   #>                                                       -1.208e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)6   #>                                                        8.972e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)7   #>                                                       -9.419e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)7   #>                                                        5.545e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)7   #>                                                       -5.100e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)8   #>                                                       -6.623e+00   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)8   #>                                                        1.367e-02   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)8   #>                                                        6.011e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)9   #>                                                       -1.096e+02   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)9   #>                                                        4.894e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)9   #>                                                       -1.282e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)10   #>                                                       -1.301e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)10   #>                                                        5.179e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)10   #>                                                       -7.807e-05   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)11   #>                                                        2.455e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)11   #>                                                       -1.238e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)11   #>                                                        8.086e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)12   #>                                                       -7.102e+00   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)12   #>                                                        6.199e-04   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)12   #>                                                        6.458e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)13   #>                                                        3.302e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)13   #>                                                       -1.089e+00   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)13   #>                                                        1.820e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)14   #>                                                       -2.078e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)14   #>                                                        3.358e-02   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)14   #>                                                        6.218e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)15   #>                                                       -2.293e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)15   #>                                                        6.056e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)15   #>                                                        9.881e-05   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)16   #>                                                        2.761e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)16   #>                                                       -7.319e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)16   #>                                                        1.280e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)17   #>                                                       -2.658e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)17   #>                                                        6.190e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)17   #>                                                        1.572e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)18   #>                                                       -6.623e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)18   #>                                                        1.281e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)18   #>                                                        5.593e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)19   #>                                                        4.369e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)19   #>                                                       -1.237e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)19   #>                                                        7.515e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)20   #>                                                        9.611e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)20   #>                                                       -2.001e+00   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)20   #>                                                        2.031e-03   #>  #>"},{"path":"/reference/piecewise_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using discontinuous piecewise polynomials period.","code":""},{"path":"/reference/piecewise_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"","code":"piecewise_cont(   data,   arm,   alpha = 0.025,   ncc = TRUE,   poly_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/piecewise_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ncc Boolean. Whether include NCC data analysis. Default=TRUE. poly_degree Degree piecewise polynomial. Default=3. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/piecewise_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/piecewise_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"Pavla Krotka","code":""},{"path":"/reference/piecewise_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  piecewise_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.01329277 #>  #> $treat_effect #> [1] 0.3061224 #>  #> $lower_ci #> [1] 0.03571016 #>  #> $upper_ci #> [1] 0.5765347 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + poly(j, degree = poly_degree,  #>     raw = TRUE) * as.factor(period), data = data_new) #>  #> Coefficients: #>                                                   (Intercept)   #>                                                    -2.885e-01   #>                                         as.factor(treatment)1   #>                                                     2.129e-01   #>                                         as.factor(treatment)2   #>                                                     2.790e-01   #>                                         as.factor(treatment)3   #>                                                     3.061e-01   #>                    poly(j, degree = poly_degree, raw = TRUE)1   #>                                                     4.444e-02   #>                    poly(j, degree = poly_degree, raw = TRUE)2   #>                                                    -1.243e-03   #>                    poly(j, degree = poly_degree, raw = TRUE)3   #>                                                     8.462e-06   #>                                            as.factor(period)2   #>                                                     5.330e+00   #>                                            as.factor(period)3   #>                                                    -5.032e+01   #>                                            as.factor(period)4   #>                                                     6.362e+02   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)2   #>                                                    -1.332e-01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)2   #>                                                     1.741e-03   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)2   #>                                                    -9.348e-06   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)3   #>                                                     4.322e-01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)3   #>                                                    -2.330e-04   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)3   #>                                                    -6.958e-06   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)4   #>                                                    -4.181e+00   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)4   #>                                                     1.020e-02   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)4   #>                                                    -1.491e-05   #>  #>"},{"path":"/reference/plot_trial.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for visualizing the simulated trial — plot_trial","title":"Function for visualizing the simulated trial — plot_trial","text":"function creates plot visualizing trial progress time.","code":""},{"path":"/reference/plot_trial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for visualizing the simulated trial — plot_trial","text":"","code":"plot_trial(treatments)"},{"path":"/reference/plot_trial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for visualizing the simulated trial — plot_trial","text":"treatments Vector treatment indicators ordered time, e.g. column treatment dataframe resulting datasim_bin() datasim_cont() function.","code":""},{"path":"/reference/plot_trial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function for visualizing the simulated trial — plot_trial","text":"ggplot showing trial progress time.","code":""},{"path":"/reference/plot_trial.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Function for visualizing the simulated trial — plot_trial","text":"Pavla Krotka","code":""},{"path":"/reference/plot_trial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function for visualizing the simulated trial — plot_trial","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  plot_trial(treatments = trial_data$treatment)"},{"path":"/reference/poolmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Pooled analysis for binary data — poolmodel_bin","title":"Pooled analysis for binary data — poolmodel_bin","text":"function performs pooled analysis (naively pooling concurrent non-concurrent controls without adjustment) using logistic model.","code":""},{"path":"/reference/poolmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pooled analysis for binary data — poolmodel_bin","text":"","code":"poolmodel_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/poolmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pooled analysis for binary data — poolmodel_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/poolmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pooled analysis for binary data — poolmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/poolmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Pooled analysis for binary data — poolmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/poolmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pooled analysis for binary data — poolmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  poolmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.000201408 #>  #> $treat_effect #> [1] 1.301841 #>  #> $lower_ci #> [1] 0.6199044 #>  #> $upper_ci #> [1] 2.076266 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment), family = binomial,  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                0.8954                 1.3018   #>  #> Degrees of Freedom: 299 Total (i.e. Null);  298 Residual #> Null Deviance:\t    321.1  #> Residual Deviance: 305.9 \tAIC: 309.9 #>"},{"path":"/reference/poolmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Pooled analysis for continuous data — poolmodel_cont","title":"Pooled analysis for continuous data — poolmodel_cont","text":"function performs pooled analysis (naively pooling concurrent non-concurrent controls without adjustment) using linear model.","code":""},{"path":"/reference/poolmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pooled analysis for continuous data — poolmodel_cont","text":"","code":"poolmodel_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/poolmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pooled analysis for continuous data — poolmodel_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/poolmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pooled analysis for continuous data — poolmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/poolmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Pooled analysis for continuous data — poolmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/poolmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pooled analysis for continuous data — poolmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  poolmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 2.279392e-05 #>  #> $treat_effect #> [1] 0.4839116 #>  #> $lower_ci #> [1] 0.2537857 #>  #> $upper_ci #> [1] 0.7140374 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment), data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>               0.04674                0.48391   #>  #>"},{"path":"/reference/seasonal_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of a seasonal trend — seasonal_trend","title":"Generation of a seasonal trend — seasonal_trend","text":"function generates time trend given time points trial according periodic function.","code":""},{"path":"/reference/seasonal_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of a seasonal trend — seasonal_trend","text":"","code":"seasonal_trend(j, lambda, n_wave, n_total)"},{"path":"/reference/seasonal_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of a seasonal trend — seasonal_trend","text":"j Time points trend generated. lambda Strength time trend. n_wave many cycles (waves) time trend (\\(\\psi\\)). n_total Total sample size trial.","code":""},{"path":"/reference/seasonal_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of a seasonal trend — seasonal_trend","text":"Time trend time points j.","code":""},{"path":"/reference/seasonal_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of a seasonal trend — seasonal_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), parameter \\(\\psi\\) corresponds input parameter n_wave.","code":""},{"path":"/reference/seasonal_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of a seasonal trend — seasonal_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"function performs separate analysis (taking account concurrent controls) using logistic model adjusting periods, treatment arm stays trial one period.","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"","code":"sepmodel_adj_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_adj_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  sepmodel_adj_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.06147236 #>  #> $treat_effect #> [1] 0.5416891 #>  #> $lower_ci #> [1] -0.1394512 #>  #> $upper_ci #> [1] 1.244257 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3     as.factor(period)4   #>                0.9009                 0.5417                 0.3010   #>  #> Degrees of Freedom: 199 Total (i.e. Null);  197 Residual #> Null Deviance:\t    208.2  #> Residual Deviance: 205 \tAIC: 211 #>"},{"path":"/reference/sepmodel_adj_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"function performs separate analysis (taking account concurrent controls) using linear model adjusting periods, treatment arm stays trial one period.","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"","code":"sepmodel_adj_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_adj_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  sepmodel_adj_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.2104308 #>  #> $treat_effect #> [1] 0.1117049 #>  #> $lower_ci #> [1] -0.1614008 #>  #> $upper_ci #> [1] 0.3848107 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3     as.factor(period)4   #>                0.1712                 0.1117                 0.1074   #>  #>"},{"path":"/reference/sepmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for binary data — sepmodel_bin","title":"Separate analysis for binary data — sepmodel_bin","text":"function performs separate analysis (taking account concurrent controls) using logistic model.","code":""},{"path":"/reference/sepmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for binary data — sepmodel_bin","text":"","code":"sepmodel_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for binary data — sepmodel_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/sepmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for binary data — sepmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for binary data — sepmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for binary data — sepmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  sepmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.01242797 #>  #> $treat_effect #> [1] 0.8206674 #>  #> $lower_ci #> [1] 0.1176487 #>  #> $upper_ci #> [1] 1.560477 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment), family = binomial,  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                0.9946                 0.8207   #>  #> Degrees of Freedom: 199 Total (i.e. Null);  198 Residual #> Null Deviance:\t    202.9  #> Residual Deviance: 197.6 \tAIC: 201.6 #>"},{"path":"/reference/sepmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for continuous data — sepmodel_cont","title":"Separate analysis for continuous data — sepmodel_cont","text":"function performs separate analysis (taking account concurrent controls) using linear model.","code":""},{"path":"/reference/sepmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for continuous data — sepmodel_cont","text":"","code":"sepmodel_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for continuous data — sepmodel_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/sepmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for continuous data — sepmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for continuous data — sepmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for continuous data — sepmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  sepmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.03287798 #>  #> $treat_effect #> [1] 0.2708483 #>  #> $lower_ci #> [1] -0.01781245 #>  #> $upper_ci #> [1] 0.559509 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment), data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                0.1604                 0.2708   #>  #>"},{"path":"/reference/sim_study.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"function performs simulation study given set scenarios, analyzing simulated data using different models indicated user. Performs inference indicated experimental treatment arms. Simulates probability reject \\(H_0\\) based given number replications.","code":""},{"path":"/reference/sim_study.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"","code":"sim_study(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint )"},{"path":"/reference/sim_study.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"nsim Number replications. Must larger 1. scenarios Data frame containing parameters scenarios simulated. arms Vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints.","code":""},{"path":"/reference/sim_study.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"Data frame considered scenarios corresponding results - probability reject \\(H_0\\).","code":""},{"path":"/reference/sim_study.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"Pavla Krotka","code":""},{"path":"/reference/sim_study.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"","code":"# Create data frame with all parameters: sim_scenarios <- data.frame(num_arms = 4, n_arm = 250, d1 = 250*0, d2 = 250*1, d3 = 250*2, d4 = 250*3, period_blocks = 2, mu0 = 0, sigma = 1, theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2), trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)), alpha = 0.025, ncc = TRUE)  # Run simulation study: sim_results <- sim_study(nsim = 5, scenarios = sim_scenarios, arms = c(3, 4), models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"), endpoint = \"cont\") #> [1] \"Starting the simulations. 18 scenarios will be simulated. Starting time: 2023-02-23 16:45:42\" #> [1] \"Scenario 1/18 done. Time: 2023-02-23 16:45:42\" #> [1] \"Scenario 2/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 3/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 4/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 5/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 6/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 7/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 8/18 done. Time: 2023-02-23 16:45:43\" #> [1] \"Scenario 9/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 10/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 11/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 12/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 13/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 14/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 15/18 done. Time: 2023-02-23 16:45:44\" #> [1] \"Scenario 16/18 done. Time: 2023-02-23 16:45:45\" #> [1] \"Scenario 17/18 done. Time: 2023-02-23 16:45:45\" #> [1] \"Scenario 18/18 done. Time: 2023-02-23 16:45:45\"  # View results: head(sim_results) #>   num_arms n_arm d1  d2  d3  d4 period_blocks mu0 sigma theta1 theta2 theta3 #> 1        4   250  0 250 500 750             2   0     1      0      0      0 #> 2        4   250  0 250 500 750             2   0     1      0      0      0 #> 3        4   250  0 250 500 750             2   0     1      0      0      0 #> 4        4   250  0 250 500 750             2   0     1      0      0      0 #> 5        4   250  0 250 500 750             2   0     1      0      0      0 #> 6        4   250  0 250 500 750             2   0     1      0      0      0 #>   theta4 lambda0 lambda1 lambda2 lambda3 lambda4  trend alpha  ncc study_arm #> 1      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         3 #> 2      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         3 #> 3      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         3 #> 4      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         4 #> 5      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         4 #> 6      0   -0.15   -0.15   -0.15   -0.15   -0.15 linear 0.025 TRUE         4 #>       model reject_h0 failed nsim #> 1  fixmodel         0      0    5 #> 2 poolmodel         0      0    5 #> 3  sepmodel         0      0    5 #> 4  fixmodel         0      0    5 #> 5 poolmodel         0      0    5 #> 6  sepmodel         0      0    5"},{"path":"/reference/sim_study_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"function performs simulation study given set scenarios, analyzing simulated data using different models indicated user. Performs inference indicated experimental treatment arms. Simulates probability reject \\(H_0\\), bias, well mean squared error (MSE) treatment effect estimates based given number replications.","code":""},{"path":"/reference/sim_study_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"","code":"sim_study_par(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint,   perc_cores = 0.9 )"},{"path":"/reference/sim_study_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"nsim Number replications. Must larger 1. scenarios Data frame containing parameters scenarios simulated. arms Vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. perc_cores percentage available cores used simulations. Default=0.9.","code":""},{"path":"/reference/sim_study_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"Data frame considered scenarios corresponding results - probability reject \\(H_0\\), bias, well mean squared error (MSE) treatment effect estimates.","code":""},{"path":"/reference/sim_study_par.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"Pavla Krotka","code":""},{"path":"/reference/sim_study_par.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"","code":"# Create data frame with all parameters: sim_scenarios <- data.frame(num_arms = 4, n_arm = 250, d1 = 250*0, d2 = 250*1, d3 = 250*2, d4 = 250*3, period_blocks = 2, mu0 = 0, sigma = 1, theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2), trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)), alpha = 0.025, ncc = TRUE)  # Run simulation study: # sim_results <- sim_study_par(nsim = 100, scenarios = sim_scenarios, arms = c(3, 4), # models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"), endpoint = \"cont\")"},{"path":"/reference/splines_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using regression splines knots placed according calendar time units.","code":""},{"path":"/reference/splines_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"","code":"splines_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   bs_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/splines_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'j'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. unit_size Number patients per calendar time unit. Default=25. ncc Boolean. Whether include NCC data analysis. Default=TRUE. bs_degree Degree polynomial spline. Default=3 cubic spline. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/splines_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) knots - positions knots terms patient index model - fitted model","code":""},{"path":"/reference/splines_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/splines_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  splines_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.04052807 #>  #> $treat_effect #> [1] 0.2510057 #>  #> $lower_ci #> [1] -0.0311061 #>  #> $upper_ci #> [1] 0.5331176 #>  #> $reject_h0 #> [1] FALSE #>  #> $knots #>  [1]  25  50  75 100 125 150 175 200 225 250 275 300 325 350 375 400 425 450 475 #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + bs(j, knots = bs_knots,  #>     degree = bs_degree), data = data_new) #>  #> Coefficients: #>                                   (Intercept)   #>                                      -0.33627   #>                         as.factor(treatment)1   #>                                       0.06626   #>                         as.factor(treatment)2   #>                                       0.28271   #>                         as.factor(treatment)3   #>                                       0.25101   #>  bs(j, knots = bs_knots, degree = bs_degree)1   #>                                       0.34350   #>  bs(j, knots = bs_knots, degree = bs_degree)2   #>                                       0.30093   #>  bs(j, knots = bs_knots, degree = bs_degree)3   #>                                       0.55442   #>  bs(j, knots = bs_knots, degree = bs_degree)4   #>                                       0.87962   #>  bs(j, knots = bs_knots, degree = bs_degree)5   #>                                       0.66762   #>  bs(j, knots = bs_knots, degree = bs_degree)6   #>                                       0.04935   #>  bs(j, knots = bs_knots, degree = bs_degree)7   #>                                       1.13635   #>  bs(j, knots = bs_knots, degree = bs_degree)8   #>                                      -0.17095   #>  bs(j, knots = bs_knots, degree = bs_degree)9   #>                                       1.46645   #> bs(j, knots = bs_knots, degree = bs_degree)10   #>                                       0.79031   #> bs(j, knots = bs_knots, degree = bs_degree)11   #>                                      -0.29063   #> bs(j, knots = bs_knots, degree = bs_degree)12   #>                                       0.93812   #> bs(j, knots = bs_knots, degree = bs_degree)13   #>                                       0.86952   #> bs(j, knots = bs_knots, degree = bs_degree)14   #>                                       0.31048   #> bs(j, knots = bs_knots, degree = bs_degree)15   #>                                       0.33834   #> bs(j, knots = bs_knots, degree = bs_degree)16   #>                                       0.65010   #> bs(j, knots = bs_knots, degree = bs_degree)17   #>                                       0.36171   #> bs(j, knots = bs_knots, degree = bs_degree)18   #>                                       1.21781   #> bs(j, knots = bs_knots, degree = bs_degree)19   #>                                      -0.40369   #> bs(j, knots = bs_knots, degree = bs_degree)20   #>                                       1.03593   #> bs(j, knots = bs_knots, degree = bs_degree)21   #>                                      -0.11446   #> bs(j, knots = bs_knots, degree = bs_degree)22   #>                                       0.41929   #>  #>"},{"path":"/reference/splines_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using regression splines knots placed according periods.","code":""},{"path":"/reference/splines_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"","code":"splines_cont(   data,   arm,   alpha = 0.025,   ncc = TRUE,   bs_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/splines_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. ncc Boolean. Whether include NCC data analysis. Default=TRUE. bs_degree Degree polynomial spline. Default=3 cubic spline. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/splines_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) knots - positions knots terms patient index model - fitted model","code":""},{"path":"/reference/splines_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"Pavla Krotka","code":""},{"path":"/reference/splines_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  splines_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.1630344 #>  #> $treat_effect #> [1] 0.1353188 #>  #> $lower_ci #> [1] -0.1351427 #>  #> $upper_ci #> [1] 0.4057804 #>  #> $reject_h0 #> [1] FALSE #>  #> $knots #> [1] 100 250 400 #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + bs(j, knots = bs_knots,  #>     degree = bs_degree), data = data_new) #>  #> Coefficients: #>                                  (Intercept)   #>                                      -0.4000   #>                        as.factor(treatment)1   #>                                       0.2687   #>                        as.factor(treatment)2   #>                                       0.2839   #>                        as.factor(treatment)3   #>                                       0.1353   #> bs(j, knots = bs_knots, degree = bs_degree)1   #>                                       0.4111   #> bs(j, knots = bs_knots, degree = bs_degree)2   #>                                       0.3953   #> bs(j, knots = bs_knots, degree = bs_degree)3   #>                                       0.5476   #> bs(j, knots = bs_knots, degree = bs_degree)4   #>                                       0.3109   #> bs(j, knots = bs_knots, degree = bs_degree)5   #>                                       0.9623   #> bs(j, knots = bs_knots, degree = bs_degree)6   #>                                       0.3947   #>  #>"},{"path":"/reference/sw_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of stepwise trend with equal jumps between periods — sw_trend","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"function generates stepwise trend given period. time trend assumed first period.","code":""},{"path":"/reference/sw_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"","code":"sw_trend(cj, lambda)"},{"path":"/reference/sw_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"cj Period indicator. lambda Strength time trend.","code":""},{"path":"/reference/sw_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"Time trend period \\(c_j\\).","code":""},{"path":"/reference/sw_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot (c_j - 1)\\).","code":""},{"path":"/reference/sw_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/sw_trend2.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Generates stepwise trend given period. Jump sizes adapted period sample size.","code":""},{"path":"/reference/sw_trend2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"","code":"sw_trend2(cj, lambda, ss_period, ss_total)"},{"path":"/reference/sw_trend2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"cj Period indicator. lambda Strength time trend. ss_period Sample size given period. ss_total Total sample size.","code":""},{"path":"/reference/sw_trend2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Time trend period \\(c_j\\).","code":""},{"path":"/reference/sw_trend2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/timemachine_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Time machine analysis for binary data — timemachine_bin","title":"Time machine analysis for binary data — timemachine_bin","text":"function performs analysis binary data using Time Machine approach. takes account data investigated arm leaves trial. based logistic regression treatment categorical variable covariate adjustment time via second-order Bayesian normal dynamic linear model (separating trial buckets pre-defined size).","code":""},{"path":"/reference/timemachine_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time machine analysis for binary data — timemachine_bin","text":"","code":"timemachine_bin(   data,   arm,   alpha = 0.025,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   bucket_size = 25,   check = TRUE,   ... )"},{"path":"/reference/timemachine_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time machine analysis for binary data — timemachine_bin","text":"data Trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. prec_theta Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\) . Default=0.001. prec_eta Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control log-odds \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Parameter \\(a_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.1. tau_b Parameter \\(b_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.01. bucket_size Number patients per time bucket. Default=25. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/timemachine_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time machine analysis for binary data — timemachine_bin","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability log-odds ratio less zero treat_effect - posterior mean log-odds ratio lower_ci - lower limit (1-2*alpha)*100% credible interval log-odds ratio upper_ci - upper limit (1-2*alpha)*100% credible interval log-odds ratio reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/timemachine_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time machine analysis for binary data — timemachine_bin","text":"Time Machine divides trial duration \\(C\\) calendar time intervals equal length (\"buckets\"), indexed backwards time. say, recent time interval denoted \\(c=1\\) time interval corresponding beginning trial \\(c=C\\). analysis performed soon analyzed treatment arm finishes trial. model defined follows: $$g(E(y_j)) = \\eta_0 + \\theta_{k_j} + \\alpha_{c_j}$$ \\(y_j\\) binary response patient \\(j\\) \\(g(\\cdot)\\) logit link function, maps expected value patient response linear predictors model. model intercept \\(\\eta_0\\) denotes response control group time analysis, \\(\\theta_{k_j}\\) effect treatment arm \\(k\\) patient \\(j\\) enrolled , relative control terms log odds ratio. parameters \\(\\eta_0\\) \\(\\theta_{k_j}\\), normal prior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta_0}\\) \\(\\sigma^2_{\\theta}\\), respectively: $$\\eta_0 \\sim \\mathcal{N}(0, \\sigma^2_{\\eta_0})$$ $$\\theta_{k_j} \\sim \\mathcal{N}(0, \\sigma^2_{\\theta})$$ Time Machine, time effect represented \\(\\alpha_{c_j}\\), change response time bucket \\(c_j\\) (denotes time bucket patient \\(j\\) enrolled) compared recent time bucket \\(c=1\\) modeled using Bayesian second-order normal dynamic linear model. creates smoothing control response, closer time buckets modeled similar response rates: $$\\alpha_1 = 0$$ $$\\alpha_2 \\sim \\mathcal{N}(0, 1/\\tau)$$ $$\\alpha_c \\sim \\mathcal{N}(2 \\alpha_{c-1} - \\alpha_{c-2}, 1/\\tau), 3 \\le c \\le C$$ \\(\\tau\\) denotes drift parameter controls degree smoothing time buckets assumed Gamma hyperprior distribution: $$\\tau \\sim Gamma(a_{\\tau}, b_{\\tau})$$","code":""},{"path":"/reference/timemachine_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Time machine analysis for binary data — timemachine_bin","text":"Bayesian Time Machine: Accounting Temporal Drift Multi-arm Platform Trials. Saville, B. R., Berry, D. ., et al. Clinical Trials 19.5 (2022): 490-501.","code":""},{"path":"/reference/timemachine_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Time machine analysis for binary data — timemachine_bin","text":"Dominic Magirr, Peter Jacko","code":""},{"path":"/reference/timemachine_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Time machine analysis for binary data — timemachine_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  timemachine_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.03191667 #>  #> $treat_effect #> [1] 0.7506496 #>  #> $lower_ci #> [1] -0.04055215 #>  #> $upper_ci #> [1] 1.590747 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/timemachine_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Time machine analysis for continuous data — timemachine_cont","title":"Time machine analysis for continuous data — timemachine_cont","text":"function performs analysis continuous data using Time Machine approach. takes account data investigated arm leaves trial. based linear regression treatment categorical variable covariate adjustment time via second-order Bayesian normal dynamic linear model (separating trial buckets pre-defined size).","code":""},{"path":"/reference/timemachine_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time machine analysis for continuous data — timemachine_cont","text":"","code":"timemachine_cont(   data,   arm,   alpha = 0.025,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   prec_a = 0.001,   prec_b = 0.001,   bucket_size = 25,   check = TRUE,   ... )"},{"path":"/reference/timemachine_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time machine analysis for continuous data — timemachine_cont","text":"data Trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Indicator treatment arm study perform inference (vector length 1). arm compared control group. alpha Significance level (one-sided). Default=0.025. prec_theta Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\). Default=0.001. prec_eta Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control mean \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Parameter \\(a_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.1. tau_b Parameter \\(b_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.01. prec_a Parameter \\(a_{\\sigma^2}\\) Gamma distribution regarding precision responses. .e., \\(1/\\sigma^2 \\sim Gamma(a_{\\sigma^2},b_{\\sigma^2})\\). Default=0.001. prec_b Parameter \\(b_{\\sigma^2}\\) Gamma distribution regarding precision responses. .e., \\(1/\\sigma^2 \\sim Gamma(a_{\\sigma^2},b_{\\sigma^2})\\). Default=0.001. bucket_size Number patients per time bucket. Default=25. check Boolean. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments simulation function.","code":""},{"path":"/reference/timemachine_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time machine analysis for continuous data — timemachine_cont","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability difference means less zero treat_effect - posterior mean difference means lower_ci - lower limit (1-2*alpha)*100% credible interval difference means upper_ci - upper limit (1-2*alpha)*100% credible interval difference means reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/timemachine_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time machine analysis for continuous data — timemachine_cont","text":"Time Machine divides trial duration \\(C\\) calendar time intervals equal length (\"buckets\"), indexed backwards time. say, recent time interval denoted \\(c=1\\) time interval corresponding beginning trial \\(c=C\\). analysis performed soon analyzed treatment arm finishes trial. model defined follows: $$E(y_j) = \\eta_0 + \\theta_{k_j} + \\alpha_{c_j}$$ \\(y_j\\) continuous response patient \\(j\\). model intercept \\(\\eta_0\\) denotes response control group time analysis, \\(\\theta_{k_j}\\) effect treatment arm \\(k\\) patient \\(j\\) enrolled , relative control. parameters \\(\\eta_0\\) \\(\\theta_{k_j}\\), normal prior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta_0}\\) \\(\\sigma^2_{\\theta}\\), respectively: $$\\eta_0 \\sim \\mathcal{N}(0, \\sigma^2_{\\eta_0})$$ $$\\theta_{k_j} \\sim \\mathcal{N}(0, \\sigma^2_{\\theta})$$ Time Machine, time effect represented \\(\\alpha_{c_j}\\), change response time bucket \\(c_j\\) (denotes time bucket patient \\(j\\) enrolled) compared recent time bucket \\(c=1\\) modeled using Bayesian second-order normal dynamic linear model. creates smoothing control response, closer time buckets modeled similar response rates: $$\\alpha_1 = 0$$ $$\\alpha_2 \\sim \\mathcal{N}(0, 1/\\tau)$$ $$\\alpha_c \\sim \\mathcal{N}(2 \\alpha_{c-1} - \\alpha_{c-2}, 1/\\tau), 3 \\le c \\le C$$ \\(\\tau\\) denotes drift parameter controls degree smoothing time buckets assumed Gamma hyperprior distribution: $$\\tau \\sim Gamma(a_{\\tau}, b_{\\tau})$$ precision individual patient responses (\\(1/\\sigma^2\\)) also assumed Gamma hyperprior distribution: $$1/\\sigma^2 \\sim Gamma(a_{\\sigma^2}, b_{\\sigma^2})$$","code":""},{"path":"/reference/timemachine_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Time machine analysis for continuous data — timemachine_cont","text":"Dominic Magirr, Peter Jacko","code":""},{"path":"/reference/timemachine_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Time machine analysis for continuous data — timemachine_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  timemachine_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.1361417 #>  #> $treat_effect #> [1] 0.1461423 #>  #> $lower_ci #> [1] -0.1134328 #>  #> $upper_ci #> [1] 0.4074435 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/TT_all_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"Analyzes given data using different models indicated user. Compares two indicated treatment arms.","code":""},{"path":"/reference/TT_all_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"","code":"TT_all_models(   data,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint,   alpha = 0.025 )"},{"path":"/reference/TT_all_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"data Simulated trial data, e.g. result datasim_bin() datasim_cont() function. arms Indicator treatment arms compared (vector length 2). models Vector models used analysis. Default=c(\"fixmodel\", \"indirect\"). endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. alpha Type error rate. Default=0.025.","code":""},{"path":"/reference/TT_all_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"List containing indicator whether null hypothesis rejected investigated treatment models.","code":""},{"path":"/reference/TT_all_models.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"Pavla Krotka","code":""},{"path":"/reference/TT_all_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_all_models(data = trial_data, arms = c(1,3), endpoint = \"cont\") #> $reject_h0_fixmodel #> [1] FALSE #>  #> $reject_h0_indirect #> [1] FALSE #>"},{"path":"/reference/TT_fixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"Performs linear regression compare two treatments taking account trial data last arm study leaves trial adjusting periods factors","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"","code":"TT_fixmodel_cont(data, arms, alpha = 0.025, ...)"},{"path":"/reference/TT_fixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"data Simulated trial data, e.g. result datasim_cont() function arms Indicator treatment arms compared (vector length 2) alpha Type error. Default=0.025 ... arguments simulation function","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"List containing p-value (one-sided), estimated difference treatments, 95% confidence interval, indicator whether null hypothesis rejected investigated comparison fitted model","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_fixmodel_cont(data = trial_data, arms = c(1,3)) #> $p_val #> [1] 0.1040359 #>  #> $est_diff #> [1] 0.235088 #>  #> $lower_ci #> [1] -0.1313414 #>  #> $upper_ci #> [1] 0.6015173 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)0  as.factor(treatment)2   #>               0.28980               -0.07148                0.05970   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.23509               -0.05917               -0.04393   #>    as.factor(period)4   #>              -0.23857   #>  #>"},{"path":"/reference/TT_indirect_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"Performs indirect comparison two treatments","code":""},{"path":"/reference/TT_indirect_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"","code":"TT_indirect_cont(data, arms, alpha = 0.025, ...)"},{"path":"/reference/TT_indirect_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"data Simulated trial data, e.g. result datasim_cont() function arms Indicator treatment arms compared (vector length 2) alpha Type error. Default=0.025 ... arguments simulation function","code":""},{"path":"/reference/TT_indirect_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"List containing p-value (one-sided), estimated difference treatments indicator whether null hypothesis rejected investigated comparison","code":""},{"path":"/reference/TT_indirect_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"Pavla Krotka","code":""},{"path":"/reference/TT_indirect_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_indirect_cont(data = trial_data, arms = c(1,3)) #> $p_val #> [1] 0.5223811 #>  #> $est_diff #> [1] -0.01103416 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/TT_sim_study.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Performs simulation study given set scenarios, analyzing simulated data using fixed effect model indirect comparison. Compares indicated treatment arms.","code":""},{"path":"/reference/TT_sim_study.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"","code":"TT_sim_study(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint )"},{"path":"/reference/TT_sim_study.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"nsim Number replications scenarios Data frame containing parameters scenarios simulated arms Indicator treatment arms compared (vector length 2) models Vector models used analysis. Default=c(\"fixmodel\", \"indirect\") endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints","code":""},{"path":"/reference/TT_sim_study.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Data frame considered scenarios corresponding results","code":""},{"path":"/reference/TT_sim_study.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Pavla Krotka","code":""},{"path":"/reference/TT_sim_study_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Performs simulation study given set scenarios, analyzing simulated data using fixed effect model indirect comparison. Compares indicated treatment arms.","code":""},{"path":"/reference/TT_sim_study_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"","code":"TT_sim_study_par(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint,   perc_cores = 0.9 )"},{"path":"/reference/TT_sim_study_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"nsim Number replications scenarios Data frame containing parameters scenarios simulated arms Indicator treatment arms compared (vector length 2) models Vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\", \"timemachine\", \"MAPprior\") endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints","code":""},{"path":"/reference/TT_sim_study_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Data frame considered scenarios corresponding results","code":""},{"path":"/reference/TT_sim_study_par.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Pavla Krotka","code":""}]
