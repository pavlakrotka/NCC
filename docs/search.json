[{"path":"/articles/datasim_bin.html","id":"datasim_bin","dir":"Articles","previous_headings":"","what":"datasim_bin()","title":"How to simulate binary data","text":"function datasim_bin() enables data simulation platform trial binary endpoint arbitrary number treatment arms entering different time points.","code":""},{"path":"/articles/datasim_bin.html","id":"assumptions","dir":"Articles","previous_headings":"","what":"Assumptions","title":"How to simulate binary data","text":"equal sample sizes across treatment arms, different sample size control group (resulting allocation ratio 1:1:…:1 period) block randomization used, factor multiply number active arms order get block size period can specified input argument (period_blocks, default=2)","code":""},{"path":[]},{"path":[]},{"path":"/articles/datasim_bin.html","id":"input","dir":"Articles","previous_headings":"Usage","what":"Input","title":"How to simulate binary data","text":"user specifies number treatment arms trial, sample size per treatment arm (assumed equal) timing adding arms terms patients recruited trial far. num_arms Number treatment arms trial n_arm Sample size per arm (assumed equal) d Vector timings adding new arms terms number patients recruited trial far (length num_arms) period_blocks - number multiply number active arms order get block size per period (block size = period_blocks ⋅\\cdot #active arms) p0 - response control arm - vector odds ratios treatment arm (length num_arms) lambda - vector strength time trend arm (length num_arms+1, time trend control also allowed) trend - indicates time trend pattern (“linear”, “stepwise” “inv_u”) N_peak - point inverted-u time trend switches direction terms overall sample size full - Boolean. Indicates whether full dataset returned. Default=FALSE","code":""},{"path":"/articles/datasim_bin.html","id":"output","dir":"Articles","previous_headings":"Usage","what":"Output","title":"How to simulate binary data","text":"Per default (using full=FALSE), function outputs dataframe simulated trial data needed analysis. parameter full set TRUE, output list containing extended version dataframe (also including lambdas underlying responses) input parameters.","code":""},{"path":"/articles/datasim_bin.html","id":"examples","dir":"Articles","previous_headings":"Usage","what":"Examples","title":"How to simulate binary data","text":"","code":"# Dataset with trial data only (default)   head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                  p0 = 0.7, OR = rep(1.8, 3),                   lambda = rep(0.15, 4), trend=\"stepwise\")) j response treatment period 1 1        0         0      1 2 2        1         0      1 3 3        1         1      1 4 4        1         1      1 5 5        1         0      1 6 6        0         1      1 # Full dataset  head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                  p0 = 0.7, OR = rep(1.8, 3),                   lambda = rep(0.15, 4), trend=\"stepwise\", full = T)$Data) j response treatment period         p lambda0 lambda1 lambda2 lambda3 1 1        1         1      1 0.8076923    0.15    0.15    0.15    0.15 2 2        1         0      1 0.7000000    0.15    0.15    0.15    0.15 3 3        1         1      1 0.8076923    0.15    0.15    0.15    0.15 4 4        1         0      1 0.7000000    0.15    0.15    0.15    0.15 5 5        1         1      1 0.8076923    0.15    0.15    0.15    0.15 6 6        1         0      1 0.7000000    0.15    0.15    0.15    0.15"},{"path":"/articles/datasim_cont.html","id":"datasim_cont","dir":"Articles","previous_headings":"","what":"datasim_cont()","title":"How to simulate continuous data","text":"function datasim_cont() enables data simulation platform trial continuous endpoint arbitrary number treatment arms entering different time points.","code":""},{"path":"/articles/datasim_cont.html","id":"assumptions","dir":"Articles","previous_headings":"","what":"Assumptions","title":"How to simulate continuous data","text":"equal sample sizes across treatment arms, different sample size control group (resulting allocation ratio 1:1:…:1 period) block randomization used, factor multiply number active arms order get block size period can specified input argument (period_blocks, default=2)","code":""},{"path":[]},{"path":[]},{"path":"/articles/datasim_cont.html","id":"input","dir":"Articles","previous_headings":"Usage","what":"Input","title":"How to simulate continuous data","text":"user specifies number treatment arms trial, sample size per treatment arm (assumed equal) timing adding arms terms patients recruited trial far. num_arms Number treatment arms trial n_arm Sample size per arm (assumed equal) d Vector timings adding new arms terms number patients recruited trial far (length num_arms) period_blocks - number multiply number active arms order get block size per period (block size = period_blocks ⋅\\cdot #active arms) mu0 - response control arm. Default=0 theta - vector treatment effects treatment arm (length num_arms) lambda - vector strength time trend arm (length num_arms+1, time trend control also allowed) sigma - residual variance trend - indicates time trend pattern (“linear”, “stepwise” “inv_u”) N_peak - point inverted-u time trend switches direction terms overall sample size full - Boolean. Indicates whether full dataset returned. Default=FALSE","code":""},{"path":"/articles/datasim_cont.html","id":"output","dir":"Articles","previous_headings":"Usage","what":"Output","title":"How to simulate continuous data","text":"Per default (using full=FALSE), function outputs dataframe simulated trial data needed analysis. parameter full set TRUE, output list containing extended version dataframe (also including lambdas underlying responses) input parameters.","code":""},{"path":"/articles/datasim_cont.html","id":"examples","dir":"Articles","previous_headings":"Usage","what":"Examples","title":"How to simulate continuous data","text":"","code":"# Dataset with trial data only (default)  head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                    theta = rep(0.25, 3), lambda = rep(0.15, 4),                    sigma = 1, trend = \"linear\")) j    response treatment period 1 1  1.12983515         0      1 2 2 -0.94119747         0      1 3 3  0.46843885         1      1 4 4  1.66631410         1      1 5 5 -0.38253064         0      1 6 6  0.07741663         1      1 # Full dataset  head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250),                    theta = rep(0.25, 3), lambda = rep(0.15, 4),                    sigma = 1, trend = \"linear\", full = T)$Data) j   response treatment period        means lambda0 lambda1 lambda2 lambda3 1 1  0.3982592         0      1 0.0000000000    0.15    0.15    0.15    0.15 2 2 -1.2242373         1      1 0.2503006012    0.15    0.15    0.15    0.15 3 3 -0.3948400         0      1 0.0006012024    0.15    0.15    0.15    0.15 4 4  0.1201993         1      1 0.2509018036    0.15    0.15    0.15    0.15 5 5 -1.9982915         0      1 0.0012024048    0.15    0.15    0.15    0.15 6 6 -0.7444279         1      1 0.2515030060    0.15    0.15    0.15    0.15"},{"path":"/articles/get_ss_matrix.html","id":"get_ss_matrix","dir":"Articles","previous_headings":"","what":"get_ss_matrix()","title":"get_ss_matrix","text":"","code":"# Example   get_ss_matrix(num_arms = 3, n_arm = 100, d = c(0, 100, 250)) #>      [,1] [,2] [,3] [,4] #> [1,]   50   50   50   50 #> [2,]   50   50   NA   NA #> [3,]   NA   50   50   NA #> [4,]   NA   NA   50   50"},{"path":"/articles/how_to_run_sim_study.html","id":"preparing-scenarios","dir":"Articles","previous_headings":"","what":"Preparing scenarios","title":"How to run a simulation study","text":"perform simulation study NCC package, first create data frame desired scenarios contains parameters needed data generation analysis. simple example, consider platform trial 4 experimental treatment arms entering sequentially, null hypothesis holds experimental arms. vary strength pattern time trend (parameters lambda trend) order investigate impact type error, bias MSE treatment effect estimates.","code":"sim_scenarios <- data.frame(num_arms = 4,                              n_arm = 250,                              d1 = 250*0,                             d2 = 250*1,                             d3 = 250*2,                             d4 = 250*3,                             period_blocks = 2,                              mu0 = 0,                             sigma = 1,                             theta1 = 0,                             theta2 = 0,                             theta3 = 0,                             theta4 = 0,                             lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2),                             trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)),                             alpha = 0.025,                             ncc = TRUE)  head(sim_scenarios) num_arms n_arm d1  d2  d3  d4 period_blocks mu0 sigma theta1 theta2 theta3 1        4   250  0 250 500 750             2   0     1      0      0      0 2        4   250  0 250 500 750             2   0     1      0      0      0 3        4   250  0 250 500 750             2   0     1      0      0      0 4        4   250  0 250 500 750             2   0     1      0      0      0 5        4   250  0 250 500 750             2   0     1      0      0      0 6        4   250  0 250 500 750             2   0     1      0      0      0   theta4 lambda0 lambda1 lambda2 lambda3 lambda4  trend alpha  ncc 1      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE 2      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE 3      0 -0.0750 -0.0750 -0.0750 -0.0750 -0.0750 linear 0.025 TRUE 4      0 -0.0375 -0.0375 -0.0375 -0.0375 -0.0375 linear 0.025 TRUE 5      0  0.0000  0.0000  0.0000  0.0000  0.0000 linear 0.025 TRUE 6      0  0.0375  0.0375  0.0375  0.0375  0.0375 linear 0.025 TRUE"},{"path":"/articles/how_to_run_sim_study.html","id":"running-simulations","dir":"Articles","previous_headings":"","what":"Running simulations","title":"How to run a simulation study","text":"use function sim_study_par() perform simulation study created scenarios. evaluate 4th experimental treatment arm using regression model period adjustment, well separate pooled analyses. scenario replicated 1000 times. function reports system time scenario finishes order track progress simulations.","code":"set.seed(1234) sim_results <- sim_study_par(nsim = 1000, scenarios = sim_scenarios, arms = 4,                               models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),                               endpoint = \"cont\") [1] \"Starting the simulations. 18 scenarios will be simulated. Starting time: 2023-02-19 14:24:09\"   [1] \"Scenario 1/18 done. Time: 2023-02-19 14:24:21\" [1] \"Scenario 2/18 done. Time: 2023-02-19 14:24:26\"   [1] \"Scenario 3/18 done. Time: 2023-02-19 14:24:32\"   [1] \"Scenario 4/18 done. Time: 2023-02-19 14:24:37\" [1] \"Scenario 5/18 done. Time: 2023-02-19 14:24:42\" [1] \"Scenario 6/18 done. Time: 2023-02-19 14:24:47\" [1] \"Scenario 7/18 done. Time: 2023-02-19 14:24:53\" [1] \"Scenario 8/18 done. Time: 2023-02-19 14:24:58\" [1] \"Scenario 9/18 done. Time: 2023-02-19 14:25:03\" [1] \"Scenario 10/18 done. Time: 2023-02-19 14:25:08\" [1] \"Scenario 11/18 done. Time: 2023-02-19 14:25:13\" [1] \"Scenario 12/18 done. Time: 2023-02-19 14:25:19\" [1] \"Scenario 13/18 done. Time: 2023-02-19 14:25:24\" [1] \"Scenario 14/18 done. Time: 2023-02-19 14:25:30\" [1] \"Scenario 15/18 done. Time: 2023-02-19 14:25:36\" [1] \"Scenario 16/18 done. Time: 2023-02-19 14:25:41\" [1] \"Scenario 17/18 done. Time: 2023-02-19 14:25:47\" [1] \"Scenario 18/18 done. Time: 2023-02-19 14:25:52\""},{"path":"/articles/how_to_run_sim_study.html","id":"simulation-results","dir":"Articles","previous_headings":"","what":"Simulation results","title":"How to run a simulation study","text":"resulting data frame contains considered scenarios, well simulation results - probability reject null hypothesis, bias MSE treatment effect estimates. can now visualize performance considered analysis methods respect strength pattern time trend.","code":"head(sim_results) num_arms n_arm d1  d2  d3  d4 period_blocks mu0 sigma theta1 theta2 theta3 1        4   250  0 250 500 750             2   0     1      0      0      0 2        4   250  0 250 500 750             2   0     1      0      0      0 3        4   250  0 250 500 750             2   0     1      0      0      0 4        4   250  0 250 500 750             2   0     1      0      0      0 5        4   250  0 250 500 750             2   0     1      0      0      0 6        4   250  0 250 500 750             2   0     1      0      0      0   theta4 lambda0 lambda1 lambda2 lambda3 lambda4  trend alpha  ncc study_arm 1      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 2      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 3      0 -0.1500 -0.1500 -0.1500 -0.1500 -0.1500 linear 0.025 TRUE         4 4      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4 5      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4 6      0 -0.1125 -0.1125 -0.1125 -0.1125 -0.1125 linear 0.025 TRUE         4       model reject_h0          bias         MSE failed nsim 1  fixmodel     0.030 -0.0005506988 0.007717052      0 1000 2 poolmodel     0.007 -0.0438708399 0.008220890      0 1000 3  sepmodel     0.027  0.0005236461 0.008487647      0 1000 4  fixmodel     0.020 -0.0001912505 0.006601056      0 1000 5 poolmodel     0.008 -0.0332907139 0.006741297      0 1000 6  sepmodel     0.020 -0.0002745666 0.007570587      0 1000"},{"path":"/articles/how_to_run_sim_study.html","id":"type-i-error","dir":"Articles","previous_headings":"Simulation results","what":"Type I error","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=reject_h0, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   geom_hline(aes(yintercept = 0.025), linetype = \"dotted\") +   labs(x=\"Strength of time trend\", y=\"Type I error\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/how_to_run_sim_study.html","id":"bias","dir":"Articles","previous_headings":"Simulation results","what":"Bias","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=bias, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   geom_hline(aes(yintercept = 0), linetype = \"dotted\") +   labs(x=\"Strength of time trend\", y=\"Bias\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/how_to_run_sim_study.html","id":"mse","dir":"Articles","previous_headings":"Simulation results","what":"MSE","title":"How to run a simulation study","text":"","code":"ggplot(sim_results, aes(x=lambda0, y=MSE, color=model)) +   geom_point() +   geom_line() +   facet_grid(~ trend) +   labs(x=\"Strength of time trend\", y=\"MSE\", color=\"Analysis approach\") +   theme_bw()"},{"path":"/articles/installation.html","id":"installing-jags","dir":"Articles","previous_headings":"","what":"1) Installing JAGS","title":"How to install the NCC package","text":"Prior installing NCC package, JAGS library needs installed computer, since Bayesian analysis methods performed using rjags R-package therefore require installation JAGS library. can download latest version JAGS .","code":""},{"path":[]},{"path":"/articles/installation.html","id":"a-from-cran","dir":"Articles","previous_headings":"2) Installing the NCC package","what":"2a) from CRAN","title":"How to install the NCC package","text":"install stable version NCC package CRAN, please run following code:","code":"install.packages(\"NCC\")"},{"path":"/articles/installation.html","id":"b-from-github","dir":"Articles","previous_headings":"2) Installing the NCC package","what":"2b) from GitHub","title":"How to install the NCC package","text":"install latest development version NCC package GitHub, please run following code:","code":"# install.packages(\"devtools\")  devtools::install_github(\"pavlakrotka/NCC\", build_vignettes = TRUE)"},{"path":"/articles/ncc_intro.html","id":"non-concurrent-controls-in-platform-trials","dir":"Articles","previous_headings":"","what":"Non-concurrent controls in platform trials","title":"NCC Introduction","text":"Platform trials multi-arm multi-stage clinical trials aim evaluating efficacy several treatment arms within single trial. Experimental treatments permitted enter exit trial different times, new treatments become available, total number newly added treatments pre-specified. Moreover, treatment arms may compared shared control group. treatments enter trial later, control group divided concurrent (CC) non-concurrent controls (NCC), .e., patients randomized given treatment arm entered trial.  using NCC data can offer several benefits, reduced sample size increased statistical power, may also introduce bias effect estimators time trends present trial.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pavla Krotka. Author, maintainer. Marta Bofill Roig. Author, thesis advisor. Katharina Hees. Author. Peter Jacko. Author. Dominic Magirr. Author. Martin Posch. Contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Krotka P, Bofill Roig M, Hees K, Jacko P, Magirr D (2024). NCC: Simulation Analysis Platform Trials Non-Concurrent Controls. R package version 1.0, https://github.com/pavlakrotka/NCC, https://pavlakrotka.github.io/NCC/.","code":"@Manual{,   title = {NCC: Simulation and Analysis of Platform Trials with Non-Concurrent Controls},   author = {Pavla Krotka and Marta {Bofill Roig} and Katharina Hees and Peter Jacko and Dominic Magirr},   year = {2024},   note = {R package version 1.0, https://github.com/pavlakrotka/NCC},   url = {https://pavlakrotka.github.io/NCC/}, }"},{"path":"/index.html","id":"ncc-simulation-and-analysis-of-platform-trials-with-non-concurrent-controls-","dir":"","previous_headings":"","what":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"NCC package allows users simulate platform trials compare arms using non-concurrent control data.","code":""},{"path":"/index.html","id":"design-overview","dir":"","previous_headings":"","what":"Design overview","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"consider platform trial evaluating efficacy KK treatment arms compared shared control. assume treatment arms enter platform trial sequentially. particular, consider trial starting least one initial treatment arm, new arm added every 𝐝=(d1,...,dK)\\mathbf{d}=(d_1,...,d_K) patients recruited trial (d1=0d_1=0). divide duration trial SS periods, periods time intervals bounded times treatment arm either enters leaves platform. figure illustrates considered trial design.","code":""},{"path":"/index.html","id":"functions","dir":"","previous_headings":"","what":"Functions","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"package contains following functions:","code":""},{"path":[]},{"path":"/index.html","id":"main-functions-for-data-generation","dir":"","previous_headings":"Functions > Data generation","what":"Main functions for data generation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"datasim_bin() simulates data binary outcomes datasim_cont() simulates data continuous outcomes","code":""},{"path":"/index.html","id":"auxiliary-functions-for-data-generation","dir":"","previous_headings":"Functions > Data generation","what":"Auxiliary functions for data generation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"get_ss_matrix() computes sample sizes per arm period linear_trend() linear time trend function, used generate trend patient sw_trend() step-wise time trend function, used generate trend patient inv_u_trend() inverted-u time trend function, used generate trend patient seasonal_trend() seasonal time trend function, used generate trend patient","code":""},{"path":[]},{"path":[]},{"path":"/index.html","id":"frequentist-approaches","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for binary endpoints","what":"Frequentist approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"fixmodel_bin() performs analysis using regression model adjusting periods fixmodel_cal_bin() performs analysis using regression model adjusting calendar time poolmodel_bin() performs pooled analysis sepmodel_bin() performs separate analysis sepmodel_adj_bin() performs separate analysis adjusting periods","code":""},{"path":"/index.html","id":"bayesian-approaches","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for binary endpoints","what":"Bayesian approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"MAPprior_bin() performs analysis using MAP prior approach timemachine_bin() performs analysis using Time Machine approach","code":""},{"path":[]},{"path":"/index.html","id":"frequentist-approaches-1","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for continuous endpoints","what":"Frequentist approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"fixmodel_cont() performs analysis using regression model adjusting periods fixmodel_cal_cont() performs analysis using regression model adjusting calendar time gam_cont() performs analysis using generalized additive model mixmodel_cont() performs analysis using mixed model adjusting periods random factor mixmodel_cal_cont() performs analysis using mixed model adjusting calendar time random factor mixmodel_AR1_cont() performs analysis using mixed model adjusting periods random factor AR1 correlation structure mixmodel_AR1_cal_cont() performs analysis using mixed model adjusting calendar time random factor AR1 correlation structure piecewise_cont() performs analysis using discontinuous piecewise polynomials per period piecewise_cal_cont() performs analysis using discontinuous piecewise polynomials per calendar time poolmodel_cont() performs pooled analysis sepmodel_cont() performs separate analysis sepmodel_adj_cont() performs separate analysis adjusting periods splines_cont() performs analysis using regression splines knots placed according periods splines_cal_cont() performs analysis using regression splines knots placed according calendar times","code":""},{"path":"/index.html","id":"bayesian-approaches-1","dir":"","previous_headings":"Functions > Data analysis > Treatment-control comparisons for continuous endpoints","what":"Bayesian approaches","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"MAPprior_cont() performs analysis using MAP prior approach timemachine_cont() performs analysis using Time Machine approach powerprior_cont() performs analysis using power prior approach","code":""},{"path":"/index.html","id":"running-simulations","dir":"","previous_headings":"Functions","what":"Running simulations","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"all_models() auxiliary wrapper function analyze given dataset (treatment-control comparisons) multiple models sim_study() wrapper function run simulation study (treatment-control comparisons) desired scenarios sim_study_par() wrapper function run simulation study (treatment-control comparisons) desired scenarios parallel","code":""},{"path":"/index.html","id":"visualization","dir":"","previous_headings":"Functions","what":"Visualization","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"plot_trial() visualizes progress simulated trial detailed description functions, see vignettes R-package website (https://pavlakrotka.github.io/NCC/).","code":""},{"path":"/index.html","id":"scheme-of-the-package-structure","dir":"","previous_headings":"","what":"Scheme of the package structure","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"figure illustrates NCC package functions functionality.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"Please note prior installing NCC package, JAGS library needs installed computer. install stable version NCC package CRAN, please run following code: install latest development version NCC package GitHub, please run following code: details regarding package installation, see https://pavlakrotka.github.io/NCC/articles/installation.html.","code":"install.packages(\"NCC\") # install.packages(\"devtools\")  devtools::install_github(\"pavlakrotka/NCC\", build_vignettes = TRUE)"},{"path":"/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"Documentation functions well vignettes description examples can found package website: https://pavlakrotka.github.io/NCC/","code":""},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Simulation and Analysis of Platform Trials with Non-Concurrent Controls","text":"[1] Krotka, P., Hees, K., et al. “NCC: R-package analysis simulation platform trials non-concurrent controls.” SoftwareX 23 (2023): 101437. [2] Bofill Roig, M., Krotka, P., et al. “model-based time trend adjustments platform trials non-concurrent controls.” BMC medical research methodology 22.1 (2022): 1-16. [3] Lee, K. M., Wason, J. “Including non-concurrent control patients analysis platform trials: worth ?.” BMC medical research methodology 20.1 (2020): 1-12. [4] Saville, B. R., Berry, D. ., et al. “Bayesian Time Machine: Accounting Temporal Drift Multi-arm Platform Trials.” Clinical Trials 19.5 (2022): 490-501 Funding EU-PEARL (EU Patient-cEntric clinicAl tRial pLatforms) project received funding Innovative Medicines Initiative (IMI) 2 Joint Undertaking (JU) grant agreement 853966. Joint Undertaking receives support European Union’s Horizon 2020 research innovation programme EFPIA Children’s Tumor Foundation, Global Alliance TB Drug Development non-profit organisation, Spring works Therapeutics Inc. publication reflects authors’ views. Neither IMI European Union, EFPIA, Associated Partners responsible use may made information contained herein.","code":""},{"path":"/reference/MAPprior_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"function performs analysis binary data using Meta-Analytic-Predictive (MAP) Prior approach. method borrows data non-concurrent controls obtain prior distribution control response concurrent periods.","code":""},{"path":"/reference/MAPprior_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"","code":"MAPprior_bin(   data,   arm,   alpha = 0.025,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   check = TRUE,   ... )"},{"path":"/reference/MAPprior_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025 opt Integer (1 2). opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Double. Precision parameter (\\(1/\\sigma^2_{\\tau}\\)) half normal hyperprior, prior study heterogeneity. Default=4. prior_prec_eta Double. Precision parameter (\\(1/\\sigma^2_{\\eta}\\)) normal hyperprior, prior hyperparameter mean control log-odds. Default=0.001. n_samples Integer. Number many random samples get drawn calculation posterior mean, p-value CI's. Default=1000. n_chains Integer. Number parallel chains rjags model. Default=4. n_iter Integer. Number iterations monitor jags.model. Needed coda.samples. Default=4000. n_adapt Integer. Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model. Default=1000. robustify Logical. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Double. Weight given non-informative component (0 < weight < 1) robustification MAP prior according Schmidli (2014). Default=0.1. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/MAPprior_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability log-odds ratio less zero treat_effect - posterior mean log-odds ratio lower_ci - lower limit (1-2*alpha)*100% credible interval log-odds ratio upper_ci - upper limit (1-2*alpha)*100% credible interval log-odds ratio reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/MAPprior_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"MAP approach derives prior distribution control response concurrent periods combining control information non-concurrent periods non-informative prior. model binary response \\(y_{js}\\) control patient \\(j\\) non-concurrent period \\(s\\) defined follows: $$g(E(y_{js})) = \\eta_s$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_s\\) represents control log odds non-concurrent period \\(s\\). log odds non-concurrent controls period \\(s\\) assumed normal prior distribution mean \\(\\mu_{\\eta}\\) variance \\(\\tau^2\\): $$\\eta_s \\sim \\mathcal{N}(\\mu_{\\eta}, \\tau^2)$$ hyperparameters \\(\\mu_{\\eta}\\) \\(\\tau\\), normal half-normal hyperprior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta}\\) \\(\\sigma^2_{\\tau}\\), respectively: $$\\mu_{\\eta} \\sim \\mathcal{N}(0, \\sigma^2_{\\eta})$$ $$\\tau \\sim HalfNormal(0, \\sigma^2_{\\tau})$$ MAP prior distribution \\(p_{MAP}(\\eta_{CC})\\) control response concurrent periods obtained posterior distribution parameters \\(\\eta_s\\) specified model. robustify=TRUE, MAP prior robustified adding weakly-informative mixture component \\(p_{\\mathrm{non-inf}}\\), leading robustified MAP prior distribution: $$p_{rMAP}(\\eta_{CC}) = (1-w) \\cdot p_{MAP}(\\eta_{CC}) + w \\cdot p_{\\mathrm{non-inf}}(\\eta_{CC})$$ \\(w\\) (parameter weight) may interpreted degree skepticism towards borrowing strength. function, argument alpha corresponds \\(1-\\gamma\\), \\(\\gamma\\) decision boundary. Specifically, posterior probability difference distribution null hypothesis : \\(P(p_{treatment}-p_{control}>0) \\ge 1-\\)alpha. case non-informative prior coincides frequentist type error.","code":""},{"path":"/reference/MAPprior_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"Robust meta-analytic-predictive priors clinical trials historical control information. Schmidli, H., et al. Biometrics 70.4 (2014): 1023-1032. Applying Meta-Analytic-Predictive Priors R Bayesian Evidence Synthesis Tools. Weber, S., et al. Journal Statistical Software 100.19 (2021): 1548-7660.","code":""},{"path":"/reference/MAPprior_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"Katharina Hees","code":""},{"path":"/reference/MAPprior_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for binary data using the MAP Prior approach — MAPprior_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  MAPprior_bin(data = trial_data, arm = 3) #> Using default mean for robust component of 1/2. #> $p_val #> [1] 0.194 #>  #> $treat_effect #> [1] 0.3172325 #>  #> $lower_ci #> [1] -0.4070381 #>  #> $upper_ci #> [1] 1.05388 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/MAPprior_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"function performs analysis continuous data using Meta-Analytic-Predictive (MAP) Prior approach. method borrows data non-concurrent controls obtain prior distribution control response concurrent periods.","code":""},{"path":"/reference/MAPprior_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"","code":"MAPprior_cont(   data,   arm,   alpha = 0.025,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   check = TRUE,   ... )"},{"path":"/reference/MAPprior_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025 opt Integer (1 2). opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Double. Precision parameter (\\(1/\\sigma^2_{\\tau}\\)) half normal hyperprior, prior study heterogeneity. Default=4. prior_prec_eta Double. Precision parameter (\\(1/\\sigma^2_{\\eta}\\)) normal hyperprior, prior hyperparameter mean control mean. Default=0.001. n_samples Integer. Number many random samples get drawn calculation posterior mean, p-value CI's. Default=1000. n_chains Integer. Number parallel chains rjags model. Default=4. n_iter Integer. Number iterations monitor jags.model. Needed coda.samples. Default=4000. n_adapt Integer. Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model. Default=1000. robustify Logical. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Double. Weight given non-informative component (0 < weight < 1) robustification MAP prior according Schmidli (2014). Default=0.1. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/MAPprior_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability difference means less zero treat_effect - posterior mean difference means lower_ci - lower limit (1-2*alpha)*100% credible interval difference means upper_ci - upper limit (1-2*alpha)*100% credible interval difference means reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/MAPprior_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"MAP approach derives prior distribution control response concurrent periods combining control information non-concurrent periods non-informative prior. model continuous response \\(y_{js}\\) control patient \\(j\\) non-concurrent period \\(s\\) defined follows: $$E(y_{js}) = \\eta_s$$ \\(\\eta_s\\) represents control mean non-concurrent period \\(s\\). means non-concurrent controls period \\(s\\) assumed normal prior distribution mean \\(\\mu_{\\eta}\\) variance \\(\\tau^2\\): $$\\eta_s \\sim \\mathcal{N}(\\mu_{\\eta}, \\tau^2)$$ hyperparameters \\(\\mu_{\\eta}\\) \\(\\tau\\), normal half-normal hyperprior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta}\\) \\(\\sigma^2_{\\tau}\\), respectively: $$\\mu_{\\eta} \\sim \\mathcal{N}(0, \\sigma^2_{\\eta})$$ $$\\tau \\sim HalfNormal(0, \\sigma^2_{\\tau})$$ MAP prior distribution \\(p_{MAP}(\\eta_{CC})\\) control response concurrent periods obtained posterior distribution parameters \\(\\eta_s\\) specified model. robustify=TRUE, MAP prior robustified adding weakly-informative mixture component \\(p_{\\mathrm{non-inf}}\\), leading robustified MAP prior distribution: $$p_{rMAP}(\\eta_{CC}) = (1-w) \\cdot p_{MAP}(\\eta_{CC}) + w \\cdot p_{\\mathrm{non-inf}}(\\eta_{CC})$$ \\(w\\) (parameter weight) may interpreted degree skepticism towards borrowing strength. function, argument alpha corresponds \\(1-\\gamma\\), \\(\\gamma\\) decision boundary. Specifically, posterior probability difference distribution null hypothesis : \\(P(\\mu_{treatment}-\\mu_{control}>0) \\ge 1-\\)alpha. case non-informative prior coincides frequentist type error.","code":""},{"path":"/reference/MAPprior_cont.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"Robust meta-analytic-predictive priors clinical trials historical control information. Schmidli, H., et al. Biometrics 70.4 (2014): 1023-1032. Applying Meta-Analytic-Predictive Priors R Bayesian Evidence Synthesis Tools. Weber, S., et al. Journal Statistical Software 100.19 (2021): 1548-7660.","code":""},{"path":"/reference/MAPprior_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"Katharina Hees","code":""},{"path":"/reference/MAPprior_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for continuous data using the MAP Prior approach — MAPprior_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"stepwise\")  MAPprior_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.01306927 #>  #> $treat_effect #> [1] 0.3346645 #>  #> $lower_ci #> [1] 0.05726762 #>  #> $upper_ci #> [1] 0.6380461 #>  #> $reject_h0 #> [1] TRUE #>"},{"path":"/reference/TT_all_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"Analyzes given data using different models indicated user. Compares two indicated treatment arms.","code":""},{"path":"/reference/TT_all_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"","code":"TT_all_models(   data,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint,   alpha = 0.025 )"},{"path":"/reference/TT_all_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"data Simulated trial data, e.g. result datasim_bin() datasim_cont() function. arms Indicator treatment arms compared (vector length 2). models Vector models used analysis. Default=c(\"fixmodel\", \"indirect\"). endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. alpha Type error rate. Default=0.025.","code":""},{"path":"/reference/TT_all_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"List containing indicator whether null hypothesis rejected investigated treatment models.","code":""},{"path":"/reference/TT_all_models.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"Pavla Krotka","code":""},{"path":"/reference/TT_all_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function for simulations performing inference on given treatment arms using given models (treatment-treatment comparisons) — TT_all_models","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_all_models(data = trial_data, arms = c(1,3), endpoint = \"cont\") #> $reject_h0_fixmodel #> [1] FALSE #>  #> $reject_h0_indirect #> [1] FALSE #>"},{"path":"/reference/TT_fixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"Performs linear regression compare two treatments taking account trial data last arm study leaves trial adjusting periods factors","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"","code":"TT_fixmodel_cont(data, arms, alpha = 0.025, ...)"},{"path":"/reference/TT_fixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"data Simulated trial data, e.g. result datasim_cont() function arms Indicator treatment arms compared (vector length 2) alpha Type error. Default=0.025 ... arguments simulation function","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"List containing p-value (one-sided), estimated difference treatments, 95% confidence interval, indicator whether null hypothesis rejected investigated comparison fitted model","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/TT_fixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for treatment-treatment comparison for continuous data adjusting for periods — TT_fixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_fixmodel_cont(data = trial_data, arms = c(1,3)) #> $p_val #> [1] 0.1040359 #>  #> $est_diff #> [1] 0.235088 #>  #> $lower_ci #> [1] -0.1313414 #>  #> $upper_ci #> [1] 0.6015173 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)0  as.factor(treatment)2   #>               0.28980               -0.07148                0.05970   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.23509               -0.05917               -0.04393   #>    as.factor(period)4   #>              -0.23857   #>  #>"},{"path":"/reference/TT_indirect_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"Performs indirect comparison two treatments","code":""},{"path":"/reference/TT_indirect_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"","code":"TT_indirect_cont(data, arms, alpha = 0.025, ...)"},{"path":"/reference/TT_indirect_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"data Simulated trial data, e.g. result datasim_cont() function arms Indicator treatment arms compared (vector length 2) alpha Type error. Default=0.025 ... arguments simulation function","code":""},{"path":"/reference/TT_indirect_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"List containing p-value (one-sided), estimated difference treatments indicator whether null hypothesis rejected investigated comparison","code":""},{"path":"/reference/TT_indirect_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"Pavla Krotka","code":""},{"path":"/reference/TT_indirect_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Indirect treatment-treatment comparison for continuous data — TT_indirect_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  TT_indirect_cont(data = trial_data, arms = c(1,3)) #> $p_val #> [1] 0.5223811 #>  #> $est_diff #> [1] -0.01103416 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/TT_sim_study.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Performs simulation study given set scenarios, analyzing simulated data using fixed effect model indirect comparison. Compares indicated treatment arms.","code":""},{"path":"/reference/TT_sim_study.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"","code":"TT_sim_study(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint )"},{"path":"/reference/TT_sim_study.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"nsim Number replications scenarios Data frame containing parameters scenarios simulated arms Indicator treatment arms compared (vector length 2) models Vector models used analysis. Default=c(\"fixmodel\", \"indirect\") endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints","code":""},{"path":"/reference/TT_sim_study.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Data frame considered scenarios corresponding results","code":""},{"path":"/reference/TT_sim_study.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios — TT_sim_study","text":"Pavla Krotka","code":""},{"path":"/reference/TT_sim_study_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Performs simulation study given set scenarios, analyzing simulated data using fixed effect model indirect comparison. Compares indicated treatment arms.","code":""},{"path":"/reference/TT_sim_study_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"","code":"TT_sim_study_par(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"indirect\"),   endpoint,   perc_cores = 0.9 )"},{"path":"/reference/TT_sim_study_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"nsim Number replications scenarios Data frame containing parameters scenarios simulated arms Indicator treatment arms compared (vector length 2) models Vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\", \"timemachine\", \"MAPprior\") endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints","code":""},{"path":"/reference/TT_sim_study_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Data frame considered scenarios corresponding results","code":""},{"path":"/reference/TT_sim_study_par.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies (treatment-treatment comparisons) for a given set of scenarios (parallelized) — TT_sim_study_par","text":"Pavla Krotka","code":""},{"path":"/reference/all_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"function analyzes given data using different models indicated user. performs inference indicated experimental treatment arms.","code":""},{"path":"/reference/all_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"","code":"all_models(   data,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint,   alpha = 0.025,   unit_size = 250,   ncc = TRUE,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   n_chains = 4,   n_iter = 4000,   n_adapt = 1000,   robustify = TRUE,   weight = 0.1,   a_0 = 0.9,   ci = FALSE,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   prec_a = 0.001,   prec_b = 0.001,   bucket_size = 25,   smoothing_basis = \"tp\",   basis_dim = -1,   gam_method = \"GCV.Cp\",   bs_degree = 3,   poly_degree = 3 )"},{"path":"/reference/all_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"data Data frame trial data, e.g. result datasim_bin() datasim_cont() function. arms Integer vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Character vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. alpha Double. Significance level (one-sided). Default=0.025. unit_size Integer. Number patients per calendar time unit frequentist models adjusting calendar time. Default=25. ncc Logical. Whether include NCC data analysis using frequentist models. Default=TRUE. opt Integer (1 2). MAP Prior approach, opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Double. Dispersion parameter half normal prior, prior study heterogeneity MAP Prior approach. Default=4. prior_prec_eta Double. Dispersion parameter normal prior, prior control response (log-odds mean) MAP Prior approach. Default=0.001. n_samples Integer. Number many random samples get drawn calculation posterior mean, p-value CI's MAP Prior approach. Default=1000. n_chains Integer. Number parallel chains rjags model MAP Prior approach. Default=4. n_iter Integer. Number iterations monitor jags.model. Needed coda.samples MAP Prior approach. Default=4000. n_adapt Integer. Number iterations adaptation, initial sampling phase samplers adapt behavior maximize efficiency. Needed jags.model MAP Prior approach. Default=1000. robustify Logical. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Double. Weight given non-informative component (0 < weight < 1) robustification MAP Prior according Schmidli (2014). Default=0.1. ci Logical. Whether confidence intervals mixed models computed. Default=FALSE. prec_theta Double. Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\) . Default=0.001. prec_eta Double. Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control response \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Double. Parameter \\(\\) Gamma distribution precision parameter \\(\\tau\\) model time trend Time Machine approach. .e., \\(\\tau \\sim Gamma(,b)\\). Default=0.1. tau_b Double. Parameter \\(b\\) Gamma distribution precision parameter \\(\\tau\\) model time trend Time Machine approach. .e., \\(\\tau \\sim Gamma(,b)\\). Default=0.01. prec_a Double. Parameter \\(\\) Gamma distribution regarding precision responses continuous endpoints Time Machine approach. .e., \\(\\sigma \\sim Gamma(,b)\\). Default=0.001. prec_b Double. Parameter \\(b\\) Gamma distribution regarding precision responses continuous endpoints Time Machine approach. .e., \\(\\sigma \\sim Gamma(,b)\\). Default=0.001. bucket_size Integer. Number patients per time bucket Time Machine approach. Default=25. smoothing_basis String indicating (penalized) smoothing basis use GAM models. Default=\"tp\". basis_dim Integer. dimension basis used represent smooth term GAM models. default depends number variables smooth function . Default=-1. gam_method String indicating smoothing parameter estimation method GAM models. Default=\"GCV.Cp\". bs_degree Integer. Degree polynomial splines. Default=3. poly_degree Integer. Degree discontinuous piecewise polynomials. Default=3.","code":""},{"path":"/reference/all_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"List containing indicator whether null hypothesis rejected , estimated treatment effect investigated treatment arms models.","code":""},{"path":"/reference/all_models.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"Pavla Krotka","code":""},{"path":"/reference/all_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function for simulations performing inference on given treatment arms using given models — all_models","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  all_models(data = trial_data, arms = c(2,3), endpoint = \"bin\") #> $reject_h0_fixmodel_2 #> [1] FALSE #>  #> $treat_effect_fixmodel_2 #> [1] 0.2883988 #>  #> $reject_h0_poolmodel_2 #> [1] FALSE #>  #> $treat_effect_poolmodel_2 #> [1] 0.5383815 #>  #> $reject_h0_sepmodel_2 #> [1] FALSE #>  #> $treat_effect_sepmodel_2 #> [1] 0.2973307 #>  #> $reject_h0_fixmodel_3 #> [1] FALSE #>  #> $treat_effect_fixmodel_3 #> [1] 0.5406954 #>  #> $reject_h0_poolmodel_3 #> [1] TRUE #>  #> $treat_effect_poolmodel_3 #> [1] 0.8808181 #>  #> $reject_h0_sepmodel_3 #> [1] FALSE #>  #> $treat_effect_sepmodel_3 #> [1] 0.5146644 #>"},{"path":"/reference/datasim_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"function simulates data platform trial given number experimental treatment arms entering given time points shared control arm. primary endpoint binary endpoint. user specifies timing adding arms terms patients recruited trial far sample size per experimental treatment arm.","code":""},{"path":"/reference/datasim_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"","code":"datasim_bin(   num_arms,   n_arm,   d,   period_blocks = 2,   p0,   OR,   lambda,   trend,   N_peak,   n_wave,   trend_mean = 0,   trend_var = 0.5,   full = FALSE,   check = TRUE )"},{"path":"/reference/datasim_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"num_arms Integer. Number experimental treatment arms trial. n_arm Integer. Sample size per experimental treatment arm (assumed equal). d Integer vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm, entries must non-decreasing. vector length equals num_arms. period_blocks Integer. Number define size blocks block randomization. block size period equals period_blockstimes number active arms period (see Details). Default=2. p0 Double. Response probability control arm. Double vector treatment effects terms odds ratios experimental treatment arm compared control. elements vector (odds ratios) ordered entry time experimental treatment arms (e.g., first entry vector corresponds odds ratio first experimental treatment arm). vector length equals num_arms. lambda Vector containing numerical entries string \"random\", indicating strength time trend arm ordered entry time arms (e.g., first entry vector corresponds time trend control arm, second entry time trend first experimental treatment arm). vector length equals num_arms+1, time trend control also allowed. case random time trend, strenght generated normal distribution. trend String indicating time trend pattern (\"linear\", \"linear_2, \"stepwise\", \"stepwise_2\", \"inv_u\" \"seasonal\"). See Details information. N_peak Integer. Timepoint inverted-u time trend switches direction terms overall sample size (.e. many recruited participants trend direction switches). n_wave Integer. Number cycles (waves) seasonal trend . trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). full Logical. Indicates whether output form data frame variables needed analysis (FALSE) form list containing information (TRUE). Default=FALSE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE.","code":""},{"path":"/reference/datasim_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"Data frame: simulated trial data (full=FALSE, .e. default) following columns: j - patient recruitment index response - binary response patient j treatment- index treatment patient j allocated period - index period patient j recruited List (full=TRUE) containing following elements: Data - simulated trial data, including additional column p probability used simulating response patient j n_total - total sample size trial n_arm - sample size per arm (assumed equal) num_arms - number experimental treatment arms trial d - timings adding new arms SS_matrix - matrix sample sizes per arm per period period_blocks - number multiply number active arms , order get block size per period p0 - response probability control arm - odds ratios experimental treatment arm lambda - strength time trend arm time_dep_effect - time dependent treatment effects experimental treatment arm (computing bias) trend - time trend pattern","code":""},{"path":"/reference/datasim_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"Design assumptions: simulated platform trial consists given number experimental treatment arms (specified argument num_arms) one control arm shared across whole platform. Participants indexed entry order, assuming time unit exactly one participant recruited time recruitment observation response equal. participants assumed eligible arms trial, .e. inclusion exclusion criteria apply experimental control arms. Equal sample sizes (given parameter n_arm) experimental treatment arms assumed. duration trial divided -called periods, defined time intervals bounded distinct time points treatment arm entering leaving platform. Hence, multiple treatment arms entering leaving time point imply start one additional period. Allocation ratio 1:1:...:1 period. Furthermore, block randomization used assign patients active arms. Block size period = period_blocks* (number active arms period). period sample size multiple block size, arms remaining participants chosen sampling without replacement vector containing indices active arms replicated times ceiling(remaining sample size/number active arms). Data generation: binary response \\(y_j\\) patient \\(j\\) generated according : $$g(E(y_j)) = \\eta_0 + \\sum_{k=1}^K \\cdot (k_j=k) + f(j)$$ \\(g(\\cdot)\\) logit link function, \\(\\eta_0\\) (logit function parameter p0) \\(\\theta_k\\) (log parameter ) log odds control arm log odds ratio treatment \\(k\\). \\(K\\) total number treatment arms trial (parameter num_arms) \\(k_j\\) indicator treatment arm patient \\(j\\) allocated . function \\(f(j)\\) denotes time trend, whose strength indicated \\(\\lambda_{k_j}\\) (parameter lambda) can following patterns (parameter trend): \"linear\" - trend starts beginning trial log odds increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"linear_2\" - trend starts first period (.e. time trend first period) log odds increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"stepwise\" - log odds constant period increases decreases \\(\\lambda\\) time treatment arm enters leaves trial (.e. period), according function \\(f(j) = \\lambda_{k_j} \\cdot (c_j - 1)\\), \\(c_j\\) index period patient \\(j\\) enrolled \"stepwise_2\" - log odds constant period increases decreases \\(\\lambda\\) time new treatment arm added trial, according function \\(f(j) = \\lambda_{k_j} \\cdot (w_j - 1)\\), \\(w_j\\) indicator many treatment arms already entered ongoing trial, patient \\(j\\) enrolled \"inv_u\" - log odds increases point \\(N_p\\) (parameter N_peak) decreases afterwards, linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\), \\(N_p\\) indicates point trend turns positive negative terms sample size (note negative \\(\\lambda\\), log odds ratio decreases first increases ) \"seasonal\" - log odds increases decreases periodically magnitude \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(\\psi\\) indicates many cycles time trend (parameter n_wave) Trials time trend can simulated , setting elements vector lambda zero choosing arbitrary pattern.","code":""},{"path":"/reference/datasim_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"Pavla Krotka, Marta Bofill Roig","code":""},{"path":"/reference/datasim_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_bin","text":"","code":"head(datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")) #>   j response treatment period #> 1 1        1         1      1 #> 2 2        1         0      1 #> 3 3        0         1      1 #> 4 4        1         0      1 #> 5 5        0         1      1 #> 6 6        1         0      1"},{"path":"/reference/datasim_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"function simulates data platform trial given number experimental treatment arms entering given time points shared control arm. primary endpoint continuous endpoint. user specifies timing adding arms terms patients recruited trial far sample size per arm.","code":""},{"path":"/reference/datasim_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"","code":"datasim_cont(   num_arms,   n_arm,   d,   period_blocks = 2,   mu0 = 0,   theta,   lambda,   sigma,   trend,   N_peak,   n_wave,   trend_mean = 0,   trend_var = 0.5,   full = FALSE,   check = TRUE )"},{"path":"/reference/datasim_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"num_arms Integer. Number experimental treatment arms trial. n_arm Integer. Sample size per experimental treatment arm (assumed equal). d Integer vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm, entries must non-decreasing. vector length equals num_arms. period_blocks Integer. Number define size blocks block randomization. block size period equals period_blockstimes number active arms period (see Details). Default=2. mu0 Double. Response control arm. Default=0. theta Double vector treatment effects terms difference means experimental treatment arm compared control. elements vector (treatment effects) ordered entry time experimental treatment arms (e.g., first entry vector corresponds treatment effect first experimental treatment arm). vector length equals num_arms. lambda Vector containing numerical entries string \"random\", indicating strength time trend arm ordered entry time arms (e.g., first entry vector corresponds time trend control arm, second entry time trend first experimental treatment arm). vector length equals num_arms+1, time trend control also allowed. case random time trend, strenght generated normal distribution. sigma Double. Standard deviation responses. trend String indicating time trend pattern (\"linear\", \"linear_2, \"stepwise\", \"stepwise_2\", \"inv_u\" \"seasonal\"). See Details information. N_peak Integer. Timepoint inverted-u time trend switches direction terms overall sample size (.e. many recruited participants trend direction switches). n_wave Integer. Number cycles (waves) seasonal trend . trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). full Logical. Indicates whether output form data frame variables needed analysis (FALSE) form list containing information (TRUE). Default=FALSE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE.","code":""},{"path":"/reference/datasim_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"Data frame: simulated trial data (full=FALSE, .e. default) following columns: j - patient recruitment index response - continuous response patient j treatment- index treatment patient j allocated period - index period patient j recruited List (full=TRUE) containing following elements: Data - simulated trial data, including additional column means theoretical means used simulation response patient j n_total - total sample size trial n_arm - sample size per arm (assumed equal) num_arms - number experimental treatment arms trial d - timings adding new arms SS_matrix - matrix sample sizes per arm per period period_blocks - number multiply number active arms , order get block size per period mu0 - response control arm theta - treatment effects experimental treatment arm lambda - strength time trend arm time_dep_effect - time dependent treatment effects experimental treatment arm (computing bias) sigma - standard deviation responses trend - time trend pattern","code":""},{"path":"/reference/datasim_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"Design assumptions: simulated platform trial consists given number experimental treatment arms (specified argument num_arms) one control arm shared across whole platform. Participants indexed entry order, assuming time unit exactly one participant recruited time recruitment observation response equal. participants assumed eligible arms trial, .e. inclusion exclusion criteria apply experimental control arms. Equal sample sizes (given parameter n_arm) experimental treatment arms assumed. duration platform trial divided -called periods, defined time intervals bounded distinct time points treatment arm entering leaving platform. Hence, multiple treatment arms entering leaving time point imply start one additional period. Allocation ratio 1:1:...:1 period. Furthermore, block randomization used assign patients active arms. Block size period = period_blocks* (number active arms period). period sample size multiple block size, arms remaining participants chosen sampling without replacement vector containing indices active arms replicated times ceiling(remaining sample size/number active arms). Data generation: continuous response \\(y_j\\) patient \\(j\\) generated according : $$E(y_j) = \\eta_0 + \\sum_{k=1}^K \\cdot (k_j=k) + f(j)$$ \\(\\eta_0\\) (parameter mu0) \\(\\theta_k\\) (parameter theta) response control arm effect treatment \\(k\\). \\(K\\) total number treatment arms trial (parameter num_arms) \\(k_j\\) indicator treatment arm patient \\(j\\) allocated . function \\(f(j)\\) denotes time trend, whose strength indicated \\(\\lambda_{k_j}\\) (parameter lambda) can following patterns (parameter trend): \"linear\" - trend starts beginning trial mean response increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"linear_2\" - trend starts first period (.e. time trend first period) mean response increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"stepwise\" - mean response constant period increases decreases \\(\\lambda\\) time treatment arm enters leaves trial (.e. period), according function \\(f(j) = \\lambda_{k_j} \\cdot (c_j - 1)\\), \\(c_j\\) index period patient \\(j\\) enrolled \"stepwise_2\" - mean response constant period increases decreases \\(\\lambda\\) time new treatment arm added trial, according function \\(f(j) = \\lambda_{k_j} \\cdot (w_j - 1)\\), \\(w_j\\) indicator many treatment arms already entered ongoing trial, patient \\(j\\) enrolled \"inv_u\" - mean response increases point \\(N_p\\) (parameter N_peak) decreases afterwards, linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\), \\(N_p\\) indicates point trend turns positive negative terms sample size (note negative \\(\\lambda\\), mean response decreases first increases ) \"seasonal\" - mean response increases decreases periodically magnitude \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(\\psi\\) indicates many cycles time trend (parameter n_wave) Trials time trend can simulated , setting elements vector lambda zero choosing arbitrary pattern.","code":""},{"path":"/reference/datasim_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"Pavla Krotka, Marta Bofill Roig","code":""},{"path":"/reference/datasim_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate continuous data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points — datasim_cont","text":"","code":"head(datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")) #>   j   response treatment period #> 1 1  0.1814313         1      1 #> 2 2  0.1389577         1      1 #> 3 3  0.6679499         0      1 #> 4 4 -1.4746181         0      1 #> 5 5  1.2627383         1      1 #> 6 6  1.2022935         1      1"},{"path":"/reference/fixmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"function performs logistic regression taking account trial data arm study leaves trial adjusting periods factors.","code":""},{"path":"/reference/fixmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"","code":"fixmodel_bin(data, arm, alpha = 0.025, ncc = TRUE, check = TRUE, ...)"},{"path":"/reference/fixmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/fixmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"model-based analysis adjusts time effect including factor period (defined time interval bounded treatment arm entering leaving platform). time modelled step-function jumps beginning period. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$g(E(y_j)) = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{s=2}^{S_M} \\tau_s \\cdot (t_j \\T_{S_s})$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_0\\) log odds control arm first period; \\(\\theta_k\\) represents log odds ratio treatment \\(k\\) control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial periods prior time investigated treatment arm left trial; \\(\\tau_s\\) indicates stepwise period effect terms log odds ratio periods 1 \\(s\\) (\\(s = 2, \\ldots, S_M\\)), \\(S_M\\) denotes period, investigated treatment arm left trial. data consists one period (e.g. case multi-arm trial), period used covariate.","code":""},{"path":"/reference/fixmodel_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"model-based time trend adjustments platform trials non-concurrent controls. Bofill Roig, M., Krotka, P., et al. BMC Medical Research Methodology 22.1 (2022): 1-16.","code":""},{"path":"/reference/fixmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist logistic regression model analysis for binary data adjusting for periods — fixmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  fixmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.01879897 #>  #> $treat_effect #> [1] 0.9342077 #>  #> $lower_ci #> [1] 0.08870979 #>  #> $upper_ci #> [1] 1.870103 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.49895                0.87356                0.06236   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.93421                0.84955                1.59329   #>    as.factor(period)4   #>               0.61979   #>  #> Degrees of Freedom: 499 Total (i.e. Null);  493 Residual #> Null Deviance:\t    455.9  #> Residual Deviance: 427 \tAIC: 441 #>"},{"path":"/reference/fixmodel_cal_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"function performs logistic regression taking account trial data arm study leaves trial adjusting calendar time units factors.","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"","code":"fixmodel_cal_bin(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/fixmodel_cal_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment' 'response'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"model-based analysis adjusts time effect including factor calendar time unit (defined time units fixed length, defined ùnit_size). time modelled step-function jumps beginning calendar time unit. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$g(E(y_j)) = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{c=2}^{C_M} \\tau_c \\cdot (t_j \\T_{C_c})$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_0\\) log odds control arm first calendar time unit; \\(\\theta_k\\) represents log odds ratio treatment \\(k\\) control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial calendar time units prior time investigated treatment arm left trial; \\(\\tau_c\\) indicates stepwise calendar time effect terms log odds ratio calendar time units 1 \\(c\\) (\\(c = 2, \\ldots, C_M\\)), \\(C_M\\) denotes calendar time unit, investigated treatment arm left trial. data consists one calendar time unit, calendar time unit used covariate.","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cal_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist logistic regression model analysis for binary data adjusting for calendar time units — fixmodel_cal_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  fixmodel_cal_bin(data = trial_data, arm = 3) #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: algorithm did not converge #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: algorithm did not converge #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred #> $p_val #> [1] 0.08121663 #>  #> $treat_effect #> [1] 0.5376147 #>  #> $lower_ci #> [1] -0.205161 #>  #> $upper_ci #> [1] 1.312432 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(cal_time),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               1.81201                0.37224                0.63404   #> as.factor(treatment)3   as.factor(cal_time)2   as.factor(cal_time)3   #>               0.53761               -0.32073               -0.33559   #>  as.factor(cal_time)4   as.factor(cal_time)5   as.factor(cal_time)6   #>               0.01483               -0.72698               -0.72698   #>  as.factor(cal_time)7   as.factor(cal_time)8   as.factor(cal_time)9   #>               1.05053               -0.48499               -1.37775   #> as.factor(cal_time)10  as.factor(cal_time)11  as.factor(cal_time)12   #>              -0.97943               -0.18658               -1.25147   #> as.factor(cal_time)13  as.factor(cal_time)14  as.factor(cal_time)15   #>              -0.99088               -0.82277               -0.16656   #> as.factor(cal_time)16  as.factor(cal_time)17  as.factor(cal_time)18   #>              15.38193               -0.92014               -0.38742   #> as.factor(cal_time)19  as.factor(cal_time)20   #>               1.14067               -1.05755   #>  #> Degrees of Freedom: 497 Total (i.e. Null);  475 Residual #> Null Deviance:\t    452  #> Residual Deviance: 418.8 \tAIC: 464.8 #>"},{"path":"/reference/fixmodel_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting calendar time units factors.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"","code":"fixmodel_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/fixmodel_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"model-based analysis adjusts time effect including factor calendar time unit (defined time units fixed length, defined ùnit_size). time modelled step-function jumps beginning calendar time unit. Denoting \\(y_j\\) continuous response patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$E(y_j) = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{c=2}^{C_M} \\tau_c \\cdot (t_j \\T_{C_c})$$ \\(\\eta_0\\) response control arm first calendar time unit; \\(\\theta_k\\) represents effect treatment \\(k\\) compared control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial calendar time units prior time investigated treatment arm left trial; \\(\\tau_c\\) indicates stepwise calendar time effect calendar time units 1 \\(c\\) (\\(c = 2, \\ldots, C_M\\)), \\(C_M\\) denotes calendar time unit, investigated treatment arm left trial. data consists one calendar time unit, calendar time unit used covariate.","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist linear regression model analysis for continuous data adjusting for calendar time units — fixmodel_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  fixmodel_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.0007310476 #>  #> $treat_effect #> [1] 0.4112412 #>  #> $lower_ci #> [1] 0.1587832 #>  #> $upper_ci #> [1] 0.6636993 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(cal_time),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.25594                0.23671                0.27302   #> as.factor(treatment)3   as.factor(cal_time)2   as.factor(cal_time)3   #>               0.41124               -0.38591                0.02469   #>  as.factor(cal_time)4   as.factor(cal_time)5   as.factor(cal_time)6   #>              -0.04598               -0.26118               -0.08639   #>  as.factor(cal_time)7   as.factor(cal_time)8   as.factor(cal_time)9   #>              -0.05793               -0.03381               -0.08750   #> as.factor(cal_time)10  as.factor(cal_time)11  as.factor(cal_time)12   #>              -0.18016               -0.61170                0.04718   #> as.factor(cal_time)13  as.factor(cal_time)14  as.factor(cal_time)15   #>               0.05044               -0.47542                0.15559   #> as.factor(cal_time)16  as.factor(cal_time)17  as.factor(cal_time)18   #>               0.03035               -0.10822                0.06574   #> as.factor(cal_time)19  as.factor(cal_time)20   #>              -0.40871               -0.33677   #>  #>"},{"path":"/reference/fixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting periods factors.","code":""},{"path":"/reference/fixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"","code":"fixmodel_cont(data, arm, alpha = 0.025, ncc = TRUE, check = TRUE, ...)"},{"path":"/reference/fixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/fixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"model-based analysis adjusts time effect including factor period (defined time interval bounded treatment arm entering leaving platform). time modelled step-function jumps beginning period. Denoting \\(y_j\\) continuous response patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$E(y_j) = \\eta_0  + \\sum_{k \\\\mathcal{K}_M} \\theta_k \\cdot (k_j=k) + \\sum_{s=2}^{S_M} \\tau_s \\cdot (t_j \\T_{S_s})$$ \\(\\eta_0\\) response control arm first period; \\(\\theta_k\\) represents effect treatment \\(k\\) compared control \\(k\\\\mathcal{K}_M\\), \\(\\mathcal{K}_M\\) set treatments active trial periods prior time investigated treatment arm left trial; \\(\\tau_s\\) indicates stepwise period effect periods 1 \\(s\\) (\\(s = 2, \\ldots, S_M\\)), \\(S_M\\) denotes period, investigated treatment arm left trial. data consists one period (e.g. case multi-arm trial), period used covariate.","code":""},{"path":"/reference/fixmodel_cont.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"model-based time trend adjustments platform trials non-concurrent controls. Bofill Roig, M., Krotka, P., et al. BMC Medical Research Methodology 22.1 (2022): 1-16.","code":""},{"path":"/reference/fixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist linear regression model analysis for continuous data adjusting for periods — fixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  fixmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.02602365 #>  #> $treat_effect #> [1] 0.2742888 #>  #> $lower_ci #> [1] -0.002440912 #>  #> $upper_ci #> [1] 0.5510185 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>              -0.02749                0.28386                0.50010   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.27429               -0.02256                0.17762   #>    as.factor(period)4   #>               0.17772   #>  #>"},{"path":"/reference/gam_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized additive model analysis for continuous data — gam_cont","title":"Generalized additive model analysis for continuous data — gam_cont","text":"function performs analysis using generalized additive model taking account trial data arm study leaves trial smoothing patient entry index.","code":""},{"path":"/reference/gam_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized additive model analysis for continuous data — gam_cont","text":"","code":"gam_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   smoothing_basis = \"tp\",   basis_dim = -1,   gam_method = \"GCV.Cp\",   check = TRUE,   ... )"},{"path":"/reference/gam_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized additive model analysis for continuous data — gam_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. smoothing_basis String indicating (penalized) smoothing basis use. Default=\"tp\" thin plate regression spline. Available strings 'tp', 'ts', 'ds', 'cr', 'cs', 'cc', 'sos', 'ps', 'cp', 're', 'mrf', 'gp', ''. information see https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/smooth.terms.html. basis_dim Integer. dimension basis used represent smooth term. default depends number variables smooth function . Default=-1. information see description parameter 'k' https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/s.html. gam_method String indicating smoothing parameter estimation method. Default=\"GCV.Cp\". Available strings 'GCV.Cp', 'GACV.Cp', 'REML', 'P-REML', 'ML', 'P-ML'. information see description parameter 'method' https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/gam.html. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/gam_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized additive model analysis for continuous data — gam_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/gam_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generalized additive model analysis for continuous data — gam_cont","text":"Pavla Krotka","code":""},{"path":"/reference/gam_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized additive model analysis for continuous data — gam_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  gam_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 5.3954e-05 #>  #> $treat_effect #> [1] 0.5093378 #>  #> $lower_ci #> [1] 0.2529761 #>  #> $upper_ci #> [1] 0.7656996 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #>  #> Family: gaussian  #> Link function: identity  #>  #> Formula: #> response ~ as.factor(treatment) + s(j, bs = smoothing_basis,  #>     k = basis_dim) #>  #> Estimated degrees of freedom: #> 1  total = 5  #>  #> GCV score: 0.963449      #>"},{"path":"/reference/get_alloc_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Computes sample size matrix - sample sizes per arm (rows) per period (columns)","code":""},{"path":"/reference/get_alloc_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"","code":"get_alloc_matrix(n_total, n_arm, num_arms, d, alloc_ratio = c(1, 1))"},{"path":"/reference/get_alloc_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"n_total Overall sample size trial n_arm Sample size per arm num_arms Number treatment arms trial d Timing adding new arms terms number patients allocated control arm alloc_ratio Vector lenght 2. Allocation ratio control vs treatment","code":""},{"path":"/reference/get_alloc_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Sample size matrix","code":""},{"path":"/reference/get_alloc_matrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sample size matrix for a platform trial with 3 arms — get_alloc_matrix","text":"Pavla Krotka","code":""},{"path":"/reference/get_ss_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"function computes matrix sample sizes per arm period. used functions datasim_bin() datasim_cont().","code":""},{"path":"/reference/get_ss_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"","code":"get_ss_matrix(num_arms, n_arm, d)"},{"path":"/reference/get_ss_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"num_arms Integer. Number experimental treatment arms trial. n_arm Integer. Sample size per experimental treatment arm. d Integer vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm, entries must non-decreasing. vector length equals num_arms.","code":""},{"path":"/reference/get_ss_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"Sample size matrix, consisting sample size per arm per period, arms represented rows (control arm first row experimental arms coming ordered entry time) periods represented columns.","code":""},{"path":"/reference/get_ss_matrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"Pavla Krotka","code":""},{"path":"/reference/get_ss_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample size matrix for a platform trial with a given number of treatment arms — get_ss_matrix","text":"","code":"get_ss_matrix(num_arms = 3, n_arm = 100, d = c(0, 100, 250)) #>      [,1] [,2] [,3] [,4] #> [1,]   50   50   50   50 #> [2,]   50   50   NA   NA #> [3,]   NA   50   50   NA #> [4,]   NA   NA   50   50"},{"path":"/reference/inv_u_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of an inverted-u trend — inv_u_trend","title":"Generation of an inverted-u trend — inv_u_trend","text":"function generates time trend given time points trial according inverted-u function.","code":""},{"path":"/reference/inv_u_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of an inverted-u trend — inv_u_trend","text":"","code":"inv_u_trend(j, lambda, N_peak, n_total, trend_mean, trend_var)"},{"path":"/reference/inv_u_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of an inverted-u trend — inv_u_trend","text":"j Time points trend generated. lambda Strength time trend. N_peak Point time trend switches direction terms overall sample size. n_total Total sample size trial. trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var).","code":""},{"path":"/reference/inv_u_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of an inverted-u trend — inv_u_trend","text":"Time trend time points j.","code":""},{"path":"/reference/inv_u_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of an inverted-u trend — inv_u_trend","text":"time trend generated according function $$f(j) = \\lambda \\cdot \\frac{j-1}{N-1} \\hspace{0.2cm} \\mathrm{} \\hspace{0.2cm} j \\leq N_p$$ $$f(j) = -\\lambda \\cdot \\frac{j-N_p}{N-1} + \\lambda \\cdot \\frac{N_p-1}{N-1} \\hspace{0.2cm} \\mathrm{} \\hspace{0.2cm} j > N_p$$ \\(N\\) total sample size (parameter n_total) \\(N_p\\) (parameter N_peak) indicates point trend switches direction.","code":""},{"path":"/reference/inv_u_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of an inverted-u trend — inv_u_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/linear_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of a linear trend that starts in a given period — linear_trend","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"function generates time trend given time points trial according linear function.","code":""},{"path":"/reference/linear_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"","code":"linear_trend(j, lambda, sample_size, trend_mean, trend_var)"},{"path":"/reference/linear_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"j Time points trend generated. lambda Strength time trend. sample_size Vector dimension 2, indicating sample size trial period time trend starts remaining sample size. trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var).","code":""},{"path":"/reference/linear_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"Time trend time points j.","code":""},{"path":"/reference/linear_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size.","code":""},{"path":"/reference/linear_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of a linear trend that starts in a given period — linear_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting calendar time units random factors AR1 correlation structure.","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"","code":"mixmodel_AR1_cal_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_AR1_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor with AR1 correlation structure — mixmodel_AR1_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_AR1_cal_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 0.004908703 #>  #> $treat_effect #> [1] 0.3385329 #>  #> $lower_ci #> [1] 0.08139913 #>  #> $upper_ci #> [1] 0.595208 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #> formula: response ~ as.factor(treatment) + AR1(1 | cal_time) #> ML: Estimation of corrPars, lambda and phi by ML. #>     Estimation of fixed effects by ML. #> Estimation of lambda and phi by 'outer' ML, maximizing logL. #> family: gaussian( link = identity )  #>  ------------ Fixed effects (beta) ------------ #>                       Estimate Cond. SE t-value #> (Intercept)           0.002405  0.07591 0.03168 #> as.factor(treatment)1 0.182512  0.13061 1.39737 #> as.factor(treatment)2 0.416595  0.13061 3.18969 #> as.factor(treatment)3 0.338533  0.13059 2.59226 #>  --------------- Random effects --------------- #> Family: gaussian( link = identity )  #>                    --- Correlation parameters: #>    1.ARphi  #> -0.3201352  #>            --- Variance parameters ('lambda'): #> lambda = var(u) for u ~ Gaussian;  #>    cal_time  :  0.003224   #> # of obs: 499; # of groups: cal_time, 20  #>  -------------- Residual variance  ------------ #> phi estimate was 1.12852  #>  ------------- Likelihood values  ------------- #>                         logLik #> logL       (p_v(h)): -738.8997 #>"},{"path":"/reference/mixmodel_AR1_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting periods random factors AR1 correlation structure.","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"","code":"mixmodel_AR1_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_AR1_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_AR1_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor with AR1 correlation structure — mixmodel_AR1_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_AR1_cont(data = trial_data, arm = 3, ci = TRUE) #> $p_val #> [1] 0.003251604 #>  #> $treat_effect #> [1] 0.3306834 #>  #> $lower_ci #> [1] 0.09306432 #>  #> $upper_ci #> [1] 0.5683024 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #> formula: response ~ as.factor(treatment) + AR1(1 | period) #> ML: Estimation of corrPars, lambda and phi by ML. #>     Estimation of fixed effects by ML. #> Estimation of lambda and phi by 'outer' ML, maximizing logL. #> family: gaussian( link = identity )  #>  ------------ Fixed effects (beta) ------------ #>                       Estimate Cond. SE t-value #> (Intercept)           -0.04764  0.06986 -0.6819 #> as.factor(treatment)1  0.28881  0.12100  2.3868 #> as.factor(treatment)2  0.40185  0.12100  3.3210 #> as.factor(treatment)3  0.33068  0.12100  2.7328 #>  --------------- Random effects --------------- #> Family: gaussian( link = identity )  #>                    --- Correlation parameters: #>   1.ARphi  #> -0.999999  #>            --- Variance parameters ('lambda'): #> lambda = var(u) for u ~ Gaussian;  #>    period  :  0.0007251   #> # of obs: 500; # of groups: period, 4  #>  -------------- Residual variance  ------------ #> phi estimate was 0.976118  #>  ------------- Likelihood values  ------------- #>                         logLik #> logL       (p_v(h)): -703.5843 #>"},{"path":"/reference/mixmodel_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting calendar time units random factors.","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"","code":"mixmodel_cal_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for calendar time units as a random factor — mixmodel_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_cal_cont(data = trial_data, arm = 3, ci = TRUE) #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 0.05020053 #>  #> $treat_effect #> [1] 0.2049171 #>  #> $lower_ci #> [1] -0.03754219 #>  #> $upper_ci #> [1] 0.4535861 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula: response ~ as.factor(treatment) + (1 | cal_time) #>    Data: data_new #> REML criterion at convergence: 1414.308 #> Random effects: #>  Groups   Name        Std.Dev. #>  cal_time (Intercept) 0.1614   #>  Residual             0.9809   #> Number of obs: 499, groups:  cal_time, 20 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.07453                0.11767                0.38672   #> as.factor(treatment)3   #>               0.20492   #>"},{"path":"/reference/mixmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting periods random factors.","code":""},{"path":"/reference/mixmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"","code":"mixmodel_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data adjusting for periods as a random factor — mixmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_cont(data = trial_data, arm = 3, ci = TRUE) #> boundary (singular) fit: see help('isSingular') #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 0.1622735 #>  #> $treat_effect #> [1] 0.1205874 #>  #> $lower_ci #> [1] -0.1185808 #>  #> $upper_ci #> [1] 0.3597545 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula: response ~ as.factor(treatment) + (1 | period) #>    Data: data_new #> REML criterion at convergence: 1425.146 #> Random effects: #>  Groups   Name        Std.Dev. #>  period   (Intercept) 0.0000   #>  Residual             0.9984   #> Number of obs: 500, groups:  period, 4 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>                0.1369                 0.1680                 0.1461   #> as.factor(treatment)3   #>                0.1206   #> optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings  #>"},{"path":"/reference/piecewise_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using discontinuous piecewise polynomials calendar time unit.","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"","code":"piecewise_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   poly_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/piecewise_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'j'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. poly_degree Integer. Degree piecewise polynomial. Default=3. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/piecewise_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per calendar time unit — piecewise_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  piecewise_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.0442195 #>  #> $treat_effect #> [1] 0.2391153 #>  #> $lower_ci #> [1] -0.03612439 #>  #> $upper_ci #> [1] 0.5143549 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + poly(j, degree = poly_degree,  #>     raw = TRUE) * as.factor(cal_time), data = data_new) #>  #> Coefficients: #>                                                      (Intercept)   #>                                                        2.525e-02   #>                                            as.factor(treatment)1   #>                                                        2.253e-01   #>                                            as.factor(treatment)2   #>                                                        3.356e-01   #>                                            as.factor(treatment)3   #>                                                        2.391e-01   #>                       poly(j, degree = poly_degree, raw = TRUE)1   #>                                                       -2.229e-01   #>                       poly(j, degree = poly_degree, raw = TRUE)2   #>                                                        2.919e-02   #>                       poly(j, degree = poly_degree, raw = TRUE)3   #>                                                       -9.052e-04   #>                                             as.factor(cal_time)2   #>                                                       -7.137e+01   #>                                             as.factor(cal_time)3   #>                                                        3.535e+02   #>                                             as.factor(cal_time)4   #>                                                       -3.104e+02   #>                                             as.factor(cal_time)5   #>                                                        7.416e+02   #>                                             as.factor(cal_time)6   #>                                                       -1.630e+03   #>                                             as.factor(cal_time)7   #>                                                        2.628e+03   #>                                             as.factor(cal_time)8   #>                                                       -1.647e+02   #>                                             as.factor(cal_time)9   #>                                                        3.493e+03   #>                                            as.factor(cal_time)10   #>                                                       -2.023e+04   #>                                            as.factor(cal_time)11   #>                                                       -2.003e+03   #>                                            as.factor(cal_time)12   #>                                                       -3.882e+03   #>                                            as.factor(cal_time)13   #>                                                        1.089e+04   #>                                            as.factor(cal_time)14   #>                                                       -1.504e+04   #>                                            as.factor(cal_time)15   #>                                                       -2.946e+04   #>                                            as.factor(cal_time)16   #>                                                        3.175e+04   #>                                            as.factor(cal_time)17   #>                                                        2.972e+04   #>                                            as.factor(cal_time)18   #>                                                        4.811e+04   #>                                            as.factor(cal_time)19   #>                                                       -7.754e+04   #>                                            as.factor(cal_time)20   #>                                                        1.527e+05   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)2   #>                                                        6.047e+00   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)2   #>                                                       -1.825e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)2   #>                                                        2.213e-03   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)3   #>                                                       -1.656e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)3   #>                                                        2.346e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)3   #>                                                       -4.669e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)4   #>                                                        1.050e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)4   #>                                                       -1.422e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)4   #>                                                        1.318e-03   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)5   #>                                                       -1.986e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)5   #>                                                        1.515e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)5   #>                                                        3.645e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)6   #>                                                        3.543e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)6   #>                                                       -2.821e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)6   #>                                                        1.509e-03   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)7   #>                                                       -4.964e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)7   #>                                                        2.854e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)7   #>                                                        2.453e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)8   #>                                                        3.034e+00   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)8   #>                                                       -4.528e-02   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)8   #>                                                        9.360e-04   #>  poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)9   #>                                                       -4.617e+01   #>  poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)9   #>                                                        1.753e-01   #>  poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)9   #>                                                        6.064e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)10   #>                                                        2.557e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)10   #>                                                       -1.104e+00   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)10   #>                                                        2.412e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)11   #>                                                        2.087e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)11   #>                                                       -9.923e-02   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)11   #>                                                        9.831e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)12   #>                                                        4.142e+01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)12   #>                                                       -1.748e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)12   #>                                                        1.077e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)13   #>                                                       -1.030e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)13   #>                                                        2.970e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)13   #>                                                        5.618e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)14   #>                                                        1.348e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)14   #>                                                       -4.306e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)14   #>                                                        1.304e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)15   #>                                                        2.420e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)15   #>                                                       -6.906e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)15   #>                                                        1.508e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)16   #>                                                       -2.481e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)16   #>                                                        6.180e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)16   #>                                                        3.431e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)17   #>                                                       -2.135e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)17   #>                                                        4.829e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)17   #>                                                        4.962e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)18   #>                                                       -3.284e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)18   #>                                                        7.190e-01   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)18   #>                                                        3.375e-04   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)19   #>                                                        5.007e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)19   #>                                                       -1.106e+00   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)19   #>                                                        1.677e-03   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(cal_time)20   #>                                                       -9.392e+02   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(cal_time)20   #>                                                        1.897e+00   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(cal_time)20   #>                                                       -4.111e-04   #>  #>"},{"path":"/reference/piecewise_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using discontinuous piecewise polynomials period.","code":""},{"path":"/reference/piecewise_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"","code":"piecewise_cont(   data,   arm,   alpha = 0.025,   ncc = TRUE,   poly_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/piecewise_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. poly_degree Integer. Degree piecewise polynomial. Default=3. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/piecewise_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/piecewise_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"Pavla Krotka","code":""},{"path":"/reference/piecewise_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model-based analysis for continuous data using discontinuous piecewise polynomials per period — piecewise_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  piecewise_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.25675 #>  #> $treat_effect #> [1] 0.08722091 #>  #> $lower_ci #> [1] -0.1748768 #>  #> $upper_ci #> [1] 0.3493186 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + poly(j, degree = poly_degree,  #>     raw = TRUE) * as.factor(period), data = data_new) #>  #> Coefficients: #>                                                   (Intercept)   #>                                                     7.148e-02   #>                                         as.factor(treatment)1   #>                                                     2.262e-01   #>                                         as.factor(treatment)2   #>                                                     3.850e-02   #>                                         as.factor(treatment)3   #>                                                     8.722e-02   #>                    poly(j, degree = poly_degree, raw = TRUE)1   #>                                                     5.415e-03   #>                    poly(j, degree = poly_degree, raw = TRUE)2   #>                                                    -3.643e-04   #>                    poly(j, degree = poly_degree, raw = TRUE)3   #>                                                     3.646e-06   #>                                            as.factor(period)2   #>                                                    -6.025e+00   #>                                            as.factor(period)3   #>                                                    -3.722e+01   #>                                            as.factor(period)4   #>                                                     3.371e+02   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)2   #>                                                     1.022e-01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)2   #>                                                    -2.659e-04   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)2   #>                                                    -2.448e-06   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)3   #>                                                     3.090e-01   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)3   #>                                                    -5.050e-04   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)3   #>                                                    -2.854e-06   #> poly(j, degree = poly_degree, raw = TRUE)1:as.factor(period)4   #>                                                    -2.258e+00   #> poly(j, degree = poly_degree, raw = TRUE)2:as.factor(period)4   #>                                                     5.369e-03   #> poly(j, degree = poly_degree, raw = TRUE)3:as.factor(period)4   #>                                                    -7.343e-06   #>  #>"},{"path":"/reference/plot_trial.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for visualizing the simulated trial — plot_trial","title":"Function for visualizing the simulated trial — plot_trial","text":"function creates plot visualizing trial progress time.","code":""},{"path":"/reference/plot_trial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for visualizing the simulated trial — plot_trial","text":"","code":"plot_trial(treatments)"},{"path":"/reference/plot_trial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for visualizing the simulated trial — plot_trial","text":"treatments Vector indices assigned arms participant, ordered time, e.g. column treatment dataframe resulting datasim_bin() datasim_cont() function.","code":""},{"path":"/reference/plot_trial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function for visualizing the simulated trial — plot_trial","text":"ggplot showing trial progress time.","code":""},{"path":"/reference/plot_trial.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Function for visualizing the simulated trial — plot_trial","text":"Pavla Krotka","code":""},{"path":"/reference/plot_trial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function for visualizing the simulated trial — plot_trial","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  plot_trial(treatments = trial_data$treatment)"},{"path":"/reference/poolmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Pooled analysis for binary data — poolmodel_bin","title":"Pooled analysis for binary data — poolmodel_bin","text":"function performs pooled analysis (naively pooling concurrent non-concurrent controls without adjustment) using logistic model.","code":""},{"path":"/reference/poolmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pooled analysis for binary data — poolmodel_bin","text":"","code":"poolmodel_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/poolmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pooled analysis for binary data — poolmodel_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/poolmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pooled analysis for binary data — poolmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/poolmodel_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pooled analysis for binary data — poolmodel_bin","text":"pooled analysis takes account data evaluated experimental treatment arm whole control arm uses logistic regression model evaluate given treatment arm. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$g(E(y_j)) = \\eta_0  + \\theta_M \\cdot (k_j=M)$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_0\\) log odds control arm; \\(\\theta_M\\) represents log odds ratio treatment \\(M\\) control.","code":""},{"path":"/reference/poolmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Pooled analysis for binary data — poolmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/poolmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pooled analysis for binary data — poolmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  poolmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.04174669 #>  #> $treat_effect #> [1] 0.5785273 #>  #> $lower_ci #> [1] -0.05470055 #>  #> $upper_ci #> [1] 1.264201 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment), family = binomial,  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                1.2368                 0.5785   #>  #> Degrees of Freedom: 299 Total (i.e. Null);  298 Residual #> Null Deviance:\t    297.4  #> Residual Deviance: 294.3 \tAIC: 298.3 #>"},{"path":"/reference/poolmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Pooled analysis for continuous data — poolmodel_cont","title":"Pooled analysis for continuous data — poolmodel_cont","text":"function performs pooled analysis (naively pooling concurrent non-concurrent controls without adjustment) using linear model.","code":""},{"path":"/reference/poolmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pooled analysis for continuous data — poolmodel_cont","text":"","code":"poolmodel_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/poolmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pooled analysis for continuous data — poolmodel_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/poolmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pooled analysis for continuous data — poolmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/poolmodel_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pooled analysis for continuous data — poolmodel_cont","text":"pooled analysis takes account data evaluated experimental treatment arm whole control arm uses linear regression model evaluate given treatment arm. Denoting \\(y_j\\) continuous response patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$E(y_j) = \\eta_0  + \\theta_M \\cdot (k_j=M)$$ \\(\\eta_0\\) response control arm; \\(\\theta_M\\) represents treatment effect treatment \\(M\\) compared control.","code":""},{"path":"/reference/poolmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Pooled analysis for continuous data — poolmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/poolmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pooled analysis for continuous data — poolmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  poolmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.2402577 #>  #> $treat_effect #> [1] 0.08544924 #>  #> $lower_ci #> [1] -0.1526165 #>  #> $upper_ci #> [1] 0.323515 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment), data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>               0.06907                0.08545   #>  #>"},{"path":"/reference/seasonal_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of a seasonal trend — seasonal_trend","title":"Generation of a seasonal trend — seasonal_trend","text":"function generates time trend given time points trial according periodic function.","code":""},{"path":"/reference/seasonal_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of a seasonal trend — seasonal_trend","text":"","code":"seasonal_trend(j, lambda, n_wave, n_total, trend_mean, trend_var)"},{"path":"/reference/seasonal_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of a seasonal trend — seasonal_trend","text":"j Time points trend generated. lambda Strength time trend. n_wave many cycles (waves) time trend (\\(\\psi\\)). n_total Total sample size trial. trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var).","code":""},{"path":"/reference/seasonal_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of a seasonal trend — seasonal_trend","text":"Time trend time points j.","code":""},{"path":"/reference/seasonal_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of a seasonal trend — seasonal_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(N\\) total sample size  (parameter n_total) parameter \\(\\psi\\) corresponds input parameter n_wave.","code":""},{"path":"/reference/seasonal_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of a seasonal trend — seasonal_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"function performs separate analysis (taking account concurrent controls) using logistic model adjusting periods, treatment arm stays trial one period.","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"","code":"sepmodel_adj_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_adj_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"adjusted separate analysis takes account data evaluated experimental treatment arm concurrent controls adjusts time effect including factor period (defined time interval bounded treatment arm entering leaving platform). time modelled step-function jumps beginning period. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$g(E(y_j)) = \\eta_0  + \\theta_M \\cdot (k_j=M) + \\sum_{s=S_{M_1}+1}^{S_{M_2}} \\tau_s \\cdot (t_j \\T_{S_s})$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_0\\) log odds concurrent controls; \\(\\theta_M\\) represents log odds ratio treatment \\(M\\) control; \\(\\tau_s\\) indicates stepwise period effect terms log odds ratio periods \\(S_{M_1}\\) \\(s\\) (\\(s = S_{M_1}+1, \\ldots, S_{M_2}\\)), \\(S_{M_1}\\) \\(S_{M_2}\\) denote periods, investigated treatment arm joined left trial, respectively. data consists one period, period used covariate.","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for binary data adjusted for periods — sepmodel_adj_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  sepmodel_adj_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.0871359 #>  #> $treat_effect #> [1] 0.5433571 #>  #> $lower_ci #> [1] -0.2298473 #>  #> $upper_ci #> [1] 1.350893 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     family = binomial, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3     as.factor(period)4   #>                1.5701                 0.5434                -0.2318   #>  #> Degrees of Freedom: 199 Total (i.e. Null);  197 Residual #> Null Deviance:\t    172.5  #> Residual Deviance: 170.3 \tAIC: 176.3 #>"},{"path":"/reference/sepmodel_adj_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"function performs separate analysis (taking account concurrent controls) using linear model adjusting periods, treatment arm stays trial one period.","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"","code":"sepmodel_adj_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_adj_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"adjusted separate analysis takes account data evaluated experimental treatment arm concurrent controls adjusts time effect including factor period (defined time interval bounded treatment arm entering leaving platform). time modelled step-function jumps beginning period. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$E(y_j) = \\eta_0  + \\theta_M \\cdot (k_j=M) + \\sum_{s=S_{M_1}+1}^{S_{M_2}} \\tau_s \\cdot (t_j \\T_{S_s})$$ \\(\\eta_0\\) response concurrent controls; \\(\\theta_M\\) represents treatment effect treatment \\(M\\) compared control; \\(\\tau_s\\) indicates stepwise period effect periods \\(S_{M_1}\\) \\(s\\) (\\(s = S_{M_1}+1, \\ldots, S_{M_2}\\)), \\(S_{M_1}\\) \\(S_{M_2}\\) denote periods, investigated treatment arm joined left trial, respectively. data consists one period, period used covariate.","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_adj_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for continuous data adjusted for periods — sepmodel_adj_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  sepmodel_adj_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.0686245 #>  #> $treat_effect #> [1] 0.1947048 #>  #> $lower_ci #> [1] -0.06261713 #>  #> $upper_ci #> [1] 0.4520266 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + as.factor(period),  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3     as.factor(period)4   #>              -0.02857                0.19470                0.29361   #>  #>"},{"path":"/reference/sepmodel_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for binary data — sepmodel_bin","title":"Separate analysis for binary data — sepmodel_bin","text":"function performs separate analysis (taking account concurrent controls) using logistic model.","code":""},{"path":"/reference/sepmodel_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for binary data — sepmodel_bin","text":"","code":"sepmodel_bin(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for binary data — sepmodel_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/sepmodel_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for binary data — sepmodel_bin","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms log-odds ratio lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Separate analysis for binary data — sepmodel_bin","text":"separate analysis takes account data evaluated experimental treatment arm concurrent controls uses logistic regression model evaluate given treatment arm. Denoting \\(y_j\\) response probability patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$g(E(y_j)) = \\eta_0  + \\theta_M \\cdot (k_j=M)$$ \\(g(\\cdot)\\) denotes logit link function \\(\\eta_0\\) log odds concurrent controls; \\(\\theta_M\\) represents log odds ratio treatment \\(M\\) control.","code":""},{"path":"/reference/sepmodel_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for binary data — sepmodel_bin","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for binary data — sepmodel_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  sepmodel_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.06480012 #>  #> $treat_effect #> [1] 0.5217249 #>  #> $lower_ci #> [1] -0.1465725 #>  #> $upper_ci #> [1] 1.209249 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call:  glm(formula = response ~ as.factor(treatment), family = binomial,  #>     data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                0.9946                 0.5217   #>  #> Degrees of Freedom: 199 Total (i.e. Null);  198 Residual #> Null Deviance:\t    213.3  #> Residual Deviance: 210.9 \tAIC: 214.9 #>"},{"path":"/reference/sepmodel_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate analysis for continuous data — sepmodel_cont","title":"Separate analysis for continuous data — sepmodel_cont","text":"function performs separate analysis (taking account concurrent controls) using linear model.","code":""},{"path":"/reference/sepmodel_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate analysis for continuous data — sepmodel_cont","text":"","code":"sepmodel_cont(data, arm, alpha = 0.025, check = TRUE, ...)"},{"path":"/reference/sepmodel_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate analysis for continuous data — sepmodel_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/sepmodel_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate analysis for continuous data — sepmodel_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/sepmodel_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Separate analysis for continuous data — sepmodel_cont","text":"separate analysis takes account data evaluated experimental treatment arm concurrent controls uses linear regression model evaluate given treatment arm. Denoting \\(y_j\\) continuous response patient \\(j\\), \\(k_j\\) arm patient \\(j\\) allocated , \\(M\\) treatment arm evaluation, regression model given : $$E(y_j) = \\eta_0  + \\theta_M \\cdot (k_j=M)$$ \\(\\eta_0\\) response concurrent controls; \\(\\theta_M\\) represents treatment effect treatment \\(M\\) compared control.","code":""},{"path":"/reference/sepmodel_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate analysis for continuous data — sepmodel_cont","text":"Pavla Krotka","code":""},{"path":"/reference/sepmodel_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate analysis for continuous data — sepmodel_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  sepmodel_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.1781052 #>  #> $treat_effect #> [1] 0.1344738 #>  #> $lower_ci #> [1] -0.1522831 #>  #> $upper_ci #> [1] 0.4212306 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment), data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)3   #>                0.1586                 0.1345   #>  #>"},{"path":"/reference/sim_study.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"function performs simulation study given set scenarios, analyzing simulated data using different models indicated user. Performs inference indicated experimental treatment arms. Simulates probability reject \\(H_0\\) based given number replications.","code":""},{"path":"/reference/sim_study.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"","code":"sim_study(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint,   verbose = TRUE )"},{"path":"/reference/sim_study.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"nsim Integer. Number replications. Must larger 1. scenarios Data frame containing parameters scenarios simulated. arms Integer vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Character vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. verbose Logical. Indicates whether print message (system time number finished scenarios) simulating scenario order track progress simulations. Default=TRUE.","code":""},{"path":"/reference/sim_study.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"Data frame considered scenarios corresponding results - probability reject \\(H_0\\).","code":""},{"path":"/reference/sim_study.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"Pavla Krotka","code":""},{"path":"/reference/sim_study.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function performing simulation studies for a given set of scenarios (not parallelized) — sim_study","text":"","code":"# \\donttest{ # Create data frame with all parameters: sim_scenarios <- data.frame(num_arms = 4, n_arm = 250, d1 = 250*0, d2 = 250*1, d3 = 250*2, d4 = 250*3, period_blocks = 2, mu0 = 0, sigma = 1, theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2), trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)), alpha = 0.025, ncc = TRUE)  # Run simulation study: sim_results <- sim_study(nsim = 100, scenarios = sim_scenarios, arms = c(3, 4), models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"), endpoint = \"cont\") #> [1] \"Starting the simulations. 18 scenarios will be simulated. Starting time: 2024-12-10 11:49:14.103334\" #> [1] \"Scenario 1/18 done. Time: 2024-12-10 11:49:15.663505\" #> [1] \"Scenario 2/18 done. Time: 2024-12-10 11:49:18.00892\" #> [1] \"Scenario 3/18 done. Time: 2024-12-10 11:49:19.826789\" #> [1] \"Scenario 4/18 done. Time: 2024-12-10 11:49:21.340471\" #> [1] \"Scenario 5/18 done. Time: 2024-12-10 11:49:22.818358\" #> [1] \"Scenario 6/18 done. Time: 2024-12-10 11:49:24.246024\" #> [1] \"Scenario 7/18 done. Time: 2024-12-10 11:49:25.698796\" #> [1] \"Scenario 8/18 done. Time: 2024-12-10 11:49:27.154751\" #> [1] \"Scenario 9/18 done. Time: 2024-12-10 11:49:28.650075\" #> [1] \"Scenario 10/18 done. Time: 2024-12-10 11:49:30.351794\" #> [1] \"Scenario 11/18 done. Time: 2024-12-10 11:49:31.743338\" #> [1] \"Scenario 12/18 done. Time: 2024-12-10 11:49:33.179767\" #> [1] \"Scenario 13/18 done. Time: 2024-12-10 11:49:34.571813\" #> [1] \"Scenario 14/18 done. Time: 2024-12-10 11:49:35.945385\" #> [1] \"Scenario 15/18 done. Time: 2024-12-10 11:49:37.445288\" #> [1] \"Scenario 16/18 done. Time: 2024-12-10 11:49:38.881956\" #> [1] \"Scenario 17/18 done. Time: 2024-12-10 11:49:40.445743\" #> [1] \"Scenario 18/18 done. Time: 2024-12-10 11:49:41.83349\" # }"},{"path":"/reference/sim_study_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"function performs simulation study given set scenarios, analyzing simulated data using different models indicated user. Performs inference indicated experimental treatment arms. Simulates probability reject \\(H_0\\), bias, well mean squared error (MSE) treatment effect estimates based given number replications.","code":""},{"path":"/reference/sim_study_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"","code":"sim_study_par(   nsim,   scenarios,   arms,   models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"),   endpoint,   perc_cores = 0.9,   verbose = TRUE )"},{"path":"/reference/sim_study_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"nsim Integer. Number replications. Must larger 1. scenarios Data frame containing parameters scenarios simulated. arms Integer vector treatment arms perform inference . arms compared control group. Default - arms except first one. models Character vector models used analysis. Default=c(\"fixmodel\", \"sepmodel\", \"poolmodel\"). Available models continuous endpoints : 'fixmodel', 'fixmodel_cal', 'gam', 'MAPprior', 'mixmodel', 'mixmodel_cal', 'mixmodel_AR1', 'mixmodel_AR1_cal', 'piecewise', 'piecewise_cal', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'splines', 'splines_cal', 'timemachine'. Available models binary endpoints : 'fixmodel', 'fixmodel_cal', 'MAPprior', 'poolmodel', 'sepmodel', 'sepmodel_adj', 'timemachine'. endpoint Endpoint indicator. \"cont\" continuous endpoints, \"bin\" binary endpoints. perc_cores Double. percentage available cores used simulations. Default=0.9. verbose Logical. Indicates whether print message (system time number finished scenarios) simulating scenario order track progress simulations. Default=TRUE.","code":""},{"path":"/reference/sim_study_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"Data frame considered scenarios corresponding results - probability reject \\(H_0\\), bias, well mean squared error (MSE) treatment effect estimates.","code":""},{"path":"/reference/sim_study_par.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"Pavla Krotka","code":""},{"path":"/reference/sim_study_par.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function performing simulation studies for a given set of scenarios (parallelized on replication level) — sim_study_par","text":"","code":"# \\donttest{ # Create data frame with all parameters: sim_scenarios <- data.frame(num_arms = 4, n_arm = 250, d1 = 250*0, d2 = 250*1, d3 = 250*2, d4 = 250*3, period_blocks = 2, mu0 = 0, sigma = 1, theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, lambda0 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda1 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda2 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda3 = rep(seq(-0.15, 0.15, length.out = 9), 2), lambda4 = rep(seq(-0.15, 0.15, length.out = 9), 2), trend = c(rep(\"linear\", 9), rep(\"stepwise_2\", 9)), alpha = 0.025, ncc = TRUE)  # Run simulation study: sim_results <- sim_study_par(nsim = 100, scenarios = sim_scenarios, arms = c(3, 4), models = c(\"fixmodel\", \"sepmodel\", \"poolmodel\"), endpoint = \"cont\") #> [1] \"Starting the simulations. 18 scenarios will be simulated. Starting time: 2024-12-10 11:49:42.226503\" #> [1] \"Scenario 1/18 done. Time: 2024-12-10 11:49:53.818249\" #> [1] \"Scenario 2/18 done. Time: 2024-12-10 11:49:55.02883\" #> [1] \"Scenario 3/18 done. Time: 2024-12-10 11:49:55.469621\" #> [1] \"Scenario 4/18 done. Time: 2024-12-10 11:49:55.899863\" #> [1] \"Scenario 5/18 done. Time: 2024-12-10 11:49:56.355049\" #> [1] \"Scenario 6/18 done. Time: 2024-12-10 11:49:56.796311\" #> [1] \"Scenario 7/18 done. Time: 2024-12-10 11:49:57.18938\" #> [1] \"Scenario 8/18 done. Time: 2024-12-10 11:49:57.594078\" #> [1] \"Scenario 9/18 done. Time: 2024-12-10 11:49:57.977015\" #> [1] \"Scenario 10/18 done. Time: 2024-12-10 11:49:58.392826\" #> [1] \"Scenario 11/18 done. Time: 2024-12-10 11:49:58.809329\" #> [1] \"Scenario 12/18 done. Time: 2024-12-10 11:49:59.194282\" #> [1] \"Scenario 13/18 done. Time: 2024-12-10 11:49:59.594408\" #> [1] \"Scenario 14/18 done. Time: 2024-12-10 11:49:59.984182\" #> [1] \"Scenario 15/18 done. Time: 2024-12-10 11:50:00.380579\" #> [1] \"Scenario 16/18 done. Time: 2024-12-10 11:50:00.77969\" #> [1] \"Scenario 17/18 done. Time: 2024-12-10 11:50:01.167777\" #> [1] \"Scenario 18/18 done. Time: 2024-12-10 11:50:01.563546\" # }"},{"path":"/reference/splines_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using regression splines knots placed according calendar time units.","code":""},{"path":"/reference/splines_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"","code":"splines_cal_cont(   data,   arm,   alpha = 0.025,   unit_size = 25,   ncc = TRUE,   bs_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/splines_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'j'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. bs_degree Integer. Degree polynomial spline. Default=3 cubic spline. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/splines_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) knots - positions knots terms patient index model - fitted model","code":""},{"path":"/reference/splines_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/splines_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spline regression analysis for continuous data with knots placed according to calendar time units — splines_cal_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  splines_cal_cont(data = trial_data, arm = 3) #> $p_val #> [1] 1.956967e-05 #>  #> $treat_effect #> [1] 0.5488463 #>  #> $lower_ci #> [1] 0.2890825 #>  #> $upper_ci #> [1] 0.8086101 #>  #> $reject_h0 #> [1] TRUE #>  #> $knots #>  [1]  25  50  75 100 125 150 175 200 225 250 275 300 325 350 375 400 425 450 #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + bs(j, knots = bs_knots,  #>     degree = bs_degree), data = data_new) #>  #> Coefficients: #>                                   (Intercept)   #>                                       0.20723   #>                         as.factor(treatment)1   #>                                       0.23294   #>                         as.factor(treatment)2   #>                                       0.13747   #>                         as.factor(treatment)3   #>                                       0.54885   #>  bs(j, knots = bs_knots, degree = bs_degree)1   #>                                      -0.44304   #>  bs(j, knots = bs_knots, degree = bs_degree)2   #>                                       0.22151   #>  bs(j, knots = bs_knots, degree = bs_degree)3   #>                                      -0.60998   #>  bs(j, knots = bs_knots, degree = bs_degree)4   #>                                       1.10625   #>  bs(j, knots = bs_knots, degree = bs_degree)5   #>                                      -1.15322   #>  bs(j, knots = bs_knots, degree = bs_degree)6   #>                                       0.79721   #>  bs(j, knots = bs_knots, degree = bs_degree)7   #>                                      -0.18413   #>  bs(j, knots = bs_knots, degree = bs_degree)8   #>                                      -0.33418   #>  bs(j, knots = bs_knots, degree = bs_degree)9   #>                                      -0.88051   #> bs(j, knots = bs_knots, degree = bs_degree)10   #>                                       0.81786   #> bs(j, knots = bs_knots, degree = bs_degree)11   #>                                      -1.03584   #> bs(j, knots = bs_knots, degree = bs_degree)12   #>                                       0.53960   #> bs(j, knots = bs_knots, degree = bs_degree)13   #>                                      -0.75128   #> bs(j, knots = bs_knots, degree = bs_degree)14   #>                                       0.08619   #> bs(j, knots = bs_knots, degree = bs_degree)15   #>                                      -0.83784   #> bs(j, knots = bs_knots, degree = bs_degree)16   #>                                       0.32746   #> bs(j, knots = bs_knots, degree = bs_degree)17   #>                                      -0.82535   #> bs(j, knots = bs_knots, degree = bs_degree)18   #>                                      -0.42178   #> bs(j, knots = bs_knots, degree = bs_degree)19   #>                                       0.40940   #> bs(j, knots = bs_knots, degree = bs_degree)20   #>                                      -0.56506   #> bs(j, knots = bs_knots, degree = bs_degree)21   #>                                      -0.49957   #>  #>"},{"path":"/reference/splines_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time using regression splines knots placed according periods.","code":""},{"path":"/reference/splines_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"","code":"splines_cont(   data,   arm,   alpha = 0.025,   ncc = TRUE,   bs_degree = 3,   check = TRUE,   ... )"},{"path":"/reference/splines_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response', 'period' 'j'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. bs_degree Integer. Degree polynomial spline. Default=3 cubic spline. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/splines_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) knots - positions knots terms patient index model - fitted model","code":""},{"path":"/reference/splines_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"Pavla Krotka","code":""},{"path":"/reference/splines_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spline regression analysis for continuous data with knots placed according to periods — splines_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  splines_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.001838685 #>  #> $treat_effect #> [1] 0.4118378 #>  #> $lower_ci #> [1] 0.1345897 #>  #> $upper_ci #> [1] 0.6890859 #>  #> $reject_h0 #> [1] TRUE #>  #> $knots #> [1] 100 250 400 #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + bs(j, knots = bs_knots,  #>     degree = bs_degree), data = data_new) #>  #> Coefficients: #>                                  (Intercept)   #>                                    -0.024590   #>                        as.factor(treatment)1   #>                                     0.385147   #>                        as.factor(treatment)2   #>                                     0.423823   #>                        as.factor(treatment)3   #>                                     0.411838   #> bs(j, knots = bs_knots, degree = bs_degree)1   #>                                    -0.005839   #> bs(j, knots = bs_knots, degree = bs_degree)2   #>                                     0.085050   #> bs(j, knots = bs_knots, degree = bs_degree)3   #>                                    -0.099641   #> bs(j, knots = bs_knots, degree = bs_degree)4   #>                                     0.081261   #> bs(j, knots = bs_knots, degree = bs_degree)5   #>                                    -0.254250   #> bs(j, knots = bs_knots, degree = bs_degree)6   #>                                    -0.041273   #>  #>"},{"path":"/reference/sw_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of stepwise trend with equal jumps between periods — sw_trend","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"function generates stepwise trend given period. time trend assumed first period.","code":""},{"path":"/reference/sw_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"","code":"sw_trend(cj, lambda, trend_mean, trend_var)"},{"path":"/reference/sw_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"cj Period indicator. lambda Strength time trend. trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var).","code":""},{"path":"/reference/sw_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"Time trend period \\(c_j\\).","code":""},{"path":"/reference/sw_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"time trend generated according function \\(f(j) = \\lambda \\cdot (c_j - 1)\\), \\(c_j\\) index period patient \\(j\\) enrolled .","code":""},{"path":"/reference/sw_trend.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of stepwise trend with equal jumps between periods — sw_trend","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/sw_trend2.html","id":null,"dir":"Reference","previous_headings":"","what":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Generates stepwise trend given period. Jump sizes adapted period sample size.","code":""},{"path":"/reference/sw_trend2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"","code":"sw_trend2(cj, lambda, ss_period, ss_total)"},{"path":"/reference/sw_trend2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"cj Period indicator. lambda Strength time trend. ss_period Sample size given period. ss_total Total sample size.","code":""},{"path":"/reference/sw_trend2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Time trend period \\(c_j\\).","code":""},{"path":"/reference/sw_trend2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generation of stepwise trend with jump sizes adapted to sample size per period — sw_trend2","text":"Marta Bofill Roig, Pavla Krotka","code":""},{"path":"/reference/timemachine_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Time machine analysis for binary data — timemachine_bin","title":"Time machine analysis for binary data — timemachine_bin","text":"function performs analysis binary data using Time Machine approach. takes account data investigated arm leaves trial. based logistic regression treatment categorical variable covariate adjustment time via second-order Bayesian normal dynamic linear model (separating trial buckets pre-defined size).","code":""},{"path":"/reference/timemachine_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time machine analysis for binary data — timemachine_bin","text":"","code":"timemachine_bin(   data,   arm,   alpha = 0.025,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   bucket_size = 25,   check = TRUE,   ... )"},{"path":"/reference/timemachine_bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time machine analysis for binary data — timemachine_bin","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025. prec_theta Double. Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\) . Default=0.001. prec_eta Double. Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control log-odds \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Double. Parameter \\(a_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.1. tau_b Double. Parameter \\(b_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.01. bucket_size Integer. Number patients per time bucket. Default=25. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/timemachine_bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time machine analysis for binary data — timemachine_bin","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability log-odds ratio less zero treat_effect - posterior mean log-odds ratio lower_ci - lower limit (1-2*alpha)*100% credible interval log-odds ratio upper_ci - upper limit (1-2*alpha)*100% credible interval log-odds ratio reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/timemachine_bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time machine analysis for binary data — timemachine_bin","text":"Time Machine divides trial duration \\(C\\) calendar time intervals equal length (\"buckets\"), indexed backwards time. say, recent time interval denoted \\(c=1\\) time interval corresponding beginning trial \\(c=C\\). analysis performed soon analyzed treatment arm finishes trial. model defined follows: $$g(E(y_j)) = \\eta_0 + \\theta_{k_j} + \\alpha_{c_j}$$ \\(y_j\\) binary response patient \\(j\\) \\(g(\\cdot)\\) logit link function, maps expected value patient response linear predictors model. model intercept \\(\\eta_0\\) denotes response control group time analysis, \\(\\theta_{k_j}\\) effect treatment arm \\(k\\) patient \\(j\\) enrolled , relative control terms log odds ratio. parameters \\(\\eta_0\\) \\(\\theta_{k_j}\\), normal prior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta_0}\\) \\(\\sigma^2_{\\theta}\\), respectively: $$\\eta_0 \\sim \\mathcal{N}(0, \\sigma^2_{\\eta_0})$$ $$\\theta_{k_j} \\sim \\mathcal{N}(0, \\sigma^2_{\\theta})$$ Time Machine, time effect represented \\(\\alpha_{c_j}\\), change response time bucket \\(c_j\\) (denotes time bucket patient \\(j\\) enrolled) compared recent time bucket \\(c=1\\) modeled using Bayesian second-order normal dynamic linear model. creates smoothing control response, closer time buckets modeled similar response rates: $$\\alpha_1 = 0$$ $$\\alpha_2 \\sim \\mathcal{N}(0, 1/\\tau)$$ $$\\alpha_c \\sim \\mathcal{N}(2 \\alpha_{c-1} - \\alpha_{c-2}, 1/\\tau), 3 \\le c \\le C$$ \\(\\tau\\) denotes drift parameter controls degree smoothing time buckets assumed Gamma hyperprior distribution: $$\\tau \\sim Gamma(a_{\\tau}, b_{\\tau})$$","code":""},{"path":"/reference/timemachine_bin.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Time machine analysis for binary data — timemachine_bin","text":"Bayesian Time Machine: Accounting Temporal Drift Multi-arm Platform Trials. Saville, B. R., Berry, D. ., et al. Clinical Trials 19.5 (2022): 490-501.","code":""},{"path":"/reference/timemachine_bin.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Time machine analysis for binary data — timemachine_bin","text":"Dominic Magirr, Peter Jacko","code":""},{"path":"/reference/timemachine_bin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Time machine analysis for binary data — timemachine_bin","text":"","code":"trial_data <- datasim_bin(num_arms = 3, n_arm = 100, d = c(0, 100, 250), p0 = 0.7, OR = rep(1.8, 3), lambda = rep(0.15, 4), trend=\"stepwise\")  timemachine_bin(data = trial_data, arm = 3) #> $p_val #> [1] 0.0315 #>  #> $treat_effect #> [1] 0.680839 #>  #> $lower_ci #> [1] -0.03968198 #>  #> $upper_ci #> [1] 1.401172 #>  #> $reject_h0 #> [1] FALSE #>"},{"path":"/reference/timemachine_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Time machine analysis for continuous data — timemachine_cont","title":"Time machine analysis for continuous data — timemachine_cont","text":"function performs analysis continuous data using Time Machine approach. takes account data investigated arm leaves trial. based linear regression treatment categorical variable covariate adjustment time via second-order Bayesian normal dynamic linear model (separating trial buckets pre-defined size).","code":""},{"path":"/reference/timemachine_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time machine analysis for continuous data — timemachine_cont","text":"","code":"timemachine_cont(   data,   arm,   alpha = 0.025,   prec_theta = 0.001,   prec_eta = 0.001,   tau_a = 0.1,   tau_b = 0.01,   prec_a = 0.001,   prec_b = 0.001,   bucket_size = 25,   check = TRUE,   ... )"},{"path":"/reference/timemachine_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time machine analysis for continuous data — timemachine_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025. prec_theta Double. Precision (\\(1/\\sigma^2_{\\theta}\\)) prior regarding treatment effect \\(\\theta\\). .e. \\(\\theta \\sim N(0, \\sigma^2_{\\theta})\\). Default=0.001. prec_eta Double. Precision (\\(1/\\sigma^2_{\\eta_0}\\)) prior regarding control mean \\(\\eta_0\\). .e. \\(\\eta_0 \\sim N(0, \\sigma^2_{\\eta_0})\\). Default=0.001. tau_a Double. Parameter \\(a_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.1. tau_b Double. Parameter \\(b_{\\tau}\\) Gamma distribution precision parameter \\(\\tau\\) model time trend. .e., \\(\\tau \\sim Gamma(a_{\\tau},b_{\\tau})\\). Default=0.01. prec_a Double. Parameter \\(a_{\\sigma^2}\\) Gamma distribution regarding precision responses. .e., \\(1/\\sigma^2 \\sim Gamma(a_{\\sigma^2},b_{\\sigma^2})\\). Default=0.001. prec_b Double. Parameter \\(b_{\\sigma^2}\\) Gamma distribution regarding precision responses. .e., \\(1/\\sigma^2 \\sim Gamma(a_{\\sigma^2},b_{\\sigma^2})\\). Default=0.001. bucket_size Integer. Number patients per time bucket. Default=25. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/timemachine_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time machine analysis for continuous data — timemachine_cont","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability difference means less zero treat_effect - posterior mean difference means lower_ci - lower limit (1-2*alpha)*100% credible interval difference means upper_ci - upper limit (1-2*alpha)*100% credible interval difference means reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/timemachine_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time machine analysis for continuous data — timemachine_cont","text":"Time Machine divides trial duration \\(C\\) calendar time intervals equal length (\"buckets\"), indexed backwards time. say, recent time interval denoted \\(c=1\\) time interval corresponding beginning trial \\(c=C\\). analysis performed soon analyzed treatment arm finishes trial. model defined follows: $$E(y_j) = \\eta_0 + \\theta_{k_j} + \\alpha_{c_j}$$ \\(y_j\\) continuous response patient \\(j\\). model intercept \\(\\eta_0\\) denotes response control group time analysis, \\(\\theta_{k_j}\\) effect treatment arm \\(k\\) patient \\(j\\) enrolled , relative control. parameters \\(\\eta_0\\) \\(\\theta_{k_j}\\), normal prior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta_0}\\) \\(\\sigma^2_{\\theta}\\), respectively: $$\\eta_0 \\sim \\mathcal{N}(0, \\sigma^2_{\\eta_0})$$ $$\\theta_{k_j} \\sim \\mathcal{N}(0, \\sigma^2_{\\theta})$$ Time Machine, time effect represented \\(\\alpha_{c_j}\\), change response time bucket \\(c_j\\) (denotes time bucket patient \\(j\\) enrolled) compared recent time bucket \\(c=1\\) modeled using Bayesian second-order normal dynamic linear model. creates smoothing control response, closer time buckets modeled similar response rates: $$\\alpha_1 = 0$$ $$\\alpha_2 \\sim \\mathcal{N}(0, 1/\\tau)$$ $$\\alpha_c \\sim \\mathcal{N}(2 \\alpha_{c-1} - \\alpha_{c-2}, 1/\\tau), 3 \\le c \\le C$$ \\(\\tau\\) denotes drift parameter controls degree smoothing time buckets assumed Gamma hyperprior distribution: $$\\tau \\sim Gamma(a_{\\tau}, b_{\\tau})$$ precision individual patient responses (\\(1/\\sigma^2\\)) also assumed Gamma hyperprior distribution: $$1/\\sigma^2 \\sim Gamma(a_{\\sigma^2}, b_{\\sigma^2})$$","code":""},{"path":"/reference/timemachine_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Time machine analysis for continuous data — timemachine_cont","text":"Dominic Magirr, Peter Jacko","code":""},{"path":"/reference/timemachine_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Time machine analysis for continuous data — timemachine_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  timemachine_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.01538333 #>  #> $treat_effect #> [1] 0.284367 #>  #> $lower_ci #> [1] 0.02693069 #>  #> $upper_ci #> [1] 0.5441621 #>  #> $reject_h0 #> [1] TRUE #>"},{"path":"/reference/MAPpriorNew_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"function performs analysis continuous data using Meta-Analytic-Predictive (MAP) Prior approach. method borrows data non-concurrent controls obtain prior distribution control response concurrent periods.","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"","code":"MAPpriorNew_cont(   data,   arm,   alpha = 0.025,   opt = 2,   prior_prec_tau = 4,   prior_prec_eta = 0.001,   n_samples = 1000,   robustify = TRUE,   weight = 0.1,   check = TRUE,   ... )"},{"path":"/reference/MAPpriorNew_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"data Data frame trial data, e.g. result datasim_bin() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025 opt Integer (1 2). opt==1, former periods used one source; opt==2, periods get separately included final analysis. Default=2. prior_prec_tau Double. Precision parameter (\\(1/\\sigma^2_{\\tau}\\)) half normal hyperprior, prior study heterogeneity. Default=4. prior_prec_eta Double. Precision parameter (\\(1/\\sigma^2_{\\eta}\\)) normal hyperprior, prior hyperparameter mean control mean. Default=0.001. n_samples Integer. Number many random samples get drawn calculation posterior mean, p-value CI's. Default=1000. robustify Logical. Indicates whether robust prior used. TRUE, mixture prior considered combining MAP prior weakly non-informative component prior. Default=TRUE. weight Double. Weight given non-informative component (0 < weight < 1) robustification MAP prior according Schmidli (2014). Default=0.1. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability difference means less zero treat_effect - posterior mean difference means lower_ci - lower limit (1-2*alpha)*100% credible interval difference means upper_ci - upper limit (1-2*alpha)*100% credible interval difference means reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"MAP approach derives prior distribution control response concurrent periods combining control information non-concurrent periods non-informative prior. model continuous response \\(y_{js}\\) control patient \\(j\\) non-concurrent period \\(s\\) defined follows: $$E(y_{js}) = \\eta_s$$ \\(\\eta_s\\) represents control mean non-concurrent period \\(s\\). means non-concurrent controls period \\(s\\) assumed normal prior distribution mean \\(\\mu_{\\eta}\\) variance \\(\\tau^2\\): $$\\eta_s \\sim \\mathcal{N}(\\mu_{\\eta}, \\tau^2)$$ hyperparameters \\(\\mu_{\\eta}\\) \\(\\tau\\), normal half-normal hyperprior distributions assumed, mean 0 variances \\(\\sigma^2_{\\eta}\\) \\(\\sigma^2_{\\tau}\\), respectively: $$\\mu_{\\eta} \\sim \\mathcal{N}(0, \\sigma^2_{\\eta})$$ $$\\tau \\sim HalfNormal(0, \\sigma^2_{\\tau})$$ MAP prior distribution \\(p_{MAP}(\\eta_{CC})\\) control response concurrent periods obtained posterior distribution parameters \\(\\eta_s\\) specified model. robustify=TRUE, MAP prior robustified adding weakly-informative mixture component \\(p_{\\mathrm{non-inf}}\\), leading robustified MAP prior distribution: $$p_{rMAP}(\\eta_{CC}) = (1-w) \\cdot p_{MAP}(\\eta_{CC}) + w \\cdot p_{\\mathrm{non-inf}}(\\eta_{CC})$$ \\(w\\) (parameter weight) may interpreted degree skepticism towards borrowing strength. function, argument alpha corresponds \\(1-\\gamma\\), \\(\\gamma\\) decision boundary. Specifically, posterior probability difference distribution null hypothesis : \\(P(\\mu_{treatment}-\\mu_{control}>0) \\ge 1-\\)alpha. case non-informative prior coincides frequentist type error.","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"Robust meta-analytic-predictive priors clinical trials historical control information. Schmidli, H., et al. Biometrics 70.4 (2014): 1023-1032. Applying Meta-Analytic-Predictive Priors R Bayesian Evidence Synthesis Tools. Weber, S., et al. Journal Statistical Software 100.19 (2021): 1548-7660.","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"Marta Bofill Roig, Katharina Hees","code":""},{"path":"/reference/MAPpriorNew_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for continuous data using the MAP Prior approach — MAPpriorNew_cont","text":"","code":"# \\donttest{ trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"stepwise\")  MAPpriorNew_cont(data = trial_data, arm = 3) #> $p_val #> [1] 4.528879e-06 #>  #> $treat_effect #> [1] 0.54808 #>  #> $lower_ci #> [1] 0.3195232 #>  #> $upper_ci #> [1] 0.7935971 #>  #> $reject_h0 #> [1] TRUE #>  # }"},{"path":"/reference/mixmodel_int_cal_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting calendar time units random factors.","code":""},{"path":"/reference/mixmodel_int_cal_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"","code":"mixmodel_int_cal_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   unit_size = 25,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_int_cal_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment' 'response'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. unit_size Integer. Number patients per calendar time unit. Default=25. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_int_cal_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_int_cal_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_int_cal_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data using the covariates treatment and calendar time unit as fixed effects and the interaction between them as a random effect — mixmodel_int_cal_cont","text":"","code":"# \\donttest{ trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_int_cal_cont(data = trial_data, arm = 3, ci = TRUE) #> boundary (singular) fit: see help('isSingular') #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 0.01628808 #>  #> $treat_effect #> [1] 0.2860109 #>  #> $lower_ci #> [1] 0.03009963 #>  #> $upper_ci #> [1] 0.5419223 #>  #> $reject_h0 #> [1] TRUE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula: response ~ as.factor(treatment) + as.factor(cal_time) + (1 |   #>     treatment_aux:cal_time) #>    Data: data_new #> REML criterion at convergence: 1404.058 #> Random effects: #>  Groups                 Name        Std.Dev. #>  treatment_aux:cal_time (Intercept) 0.0000   #>  Residual                           0.9759   #> Number of obs: 499, groups:  treatment_aux:cal_time, 42 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.09716                0.29135                0.23416   #> as.factor(treatment)3   as.factor(cal_time)2   as.factor(cal_time)3   #>               0.28601               -0.16013               -0.21577   #>  as.factor(cal_time)4   as.factor(cal_time)5   as.factor(cal_time)6   #>               0.11338               -0.16546                0.27937   #>  as.factor(cal_time)7   as.factor(cal_time)8   as.factor(cal_time)9   #>              -0.27597                0.06038               -0.34488   #> as.factor(cal_time)10  as.factor(cal_time)11  as.factor(cal_time)12   #>              -0.71329               -0.08104               -0.13804   #> as.factor(cal_time)13  as.factor(cal_time)14  as.factor(cal_time)15   #>               0.59036                0.51443                0.21746   #> as.factor(cal_time)16  as.factor(cal_time)17  as.factor(cal_time)18   #>               0.04312                0.06533               -0.06903   #> as.factor(cal_time)19  as.factor(cal_time)20   #>               0.02600                0.22503   #> optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings  #>  # }"},{"path":"/reference/mixmodel_int_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"function performs linear mixed model regression taking account trial data arm study leaves trial adjusting periods random factors.","code":""},{"path":"/reference/mixmodel_int_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"","code":"mixmodel_int_cont(   data,   arm,   alpha = 0.025,   ci = FALSE,   ncc = TRUE,   check = TRUE,   ... )"},{"path":"/reference/mixmodel_int_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ci Logical. Indicates whether confidence intervals computed. Default=FALSE. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/mixmodel_int_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/mixmodel_int_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"Pavla Krotka","code":""},{"path":"/reference/mixmodel_int_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mixed regression model analysis for continuous data using the covariates treatment and period as fixed effects and the interaction between them as a random effect — mixmodel_int_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  mixmodel_int_cont(data = trial_data, arm = 3, ci = TRUE) #> Computing profile confidence intervals ... #> Computing profile confidence intervals ... #> $p_val #> [1] 0.0451817 #>  #> $treat_effect #> [1] 0.2466807 #>  #> $lower_ci #> [1] -0.07686572 #>  #> $upper_ci #> [1] 0.479386 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #> Linear mixed model fit by REML ['lmerModLmerTest'] #> Formula:  #> response ~ as.factor(treatment) + as.factor(period) + (1 | treatment_aux:period) #>    Data: data_new #> REML criterion at convergence: 1474.518 #> Random effects: #>  Groups               Name        Std.Dev. #>  treatment_aux:period (Intercept) 0.1624   #>  Residual                         1.0440   #> Number of obs: 500, groups:  treatment_aux:period, 8 #> Fixed Effects: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>               0.11493                0.27607                0.33997   #> as.factor(treatment)3     as.factor(period)2     as.factor(period)3   #>               0.24668               -0.14642               -0.04596   #>    as.factor(period)4   #>              -0.11379   #>"},{"path":"/reference/datasim_bin_2.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"function simulates data platform trial given number experimental treatment arms entering given time points shared control arm. primary endpoint binary endpoint. user specifies timing adding arms terms patients recruited trial far sample size per experimental treatment arm.","code":""},{"path":"/reference/datasim_bin_2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"","code":"datasim_bin_2(   num_arms,   n_arm,   d,   period_blocks = 2,   p0,   OR,   SS_matrix = NULL,   lambda,   trend,   N_peak,   n_wave,   trend_mean = 0,   trend_var = 0.5,   full = FALSE,   check = TRUE )"},{"path":"/reference/datasim_bin_2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"num_arms Integer. Number experimental treatment arms trial. n_arm Integer. Sample size per experimental treatment arm (assumed equal). d Integer vector timings adding new arms terms number patients recruited trial far. first entry must 0, trial starts least one experimental treatment arm, entries must non-decreasing. vector length equals num_arms. period_blocks Integer. Number define size blocks block randomization. block size period equals period_blockstimes number active arms period (see Details). Default=2. p0 Double. Response probability control arm. Double vector treatment effects terms odds ratios experimental treatment arm compared control. elements vector (odds ratios) ordered entry time experimental treatment arms (e.g., first entry vector corresponds odds ratio first experimental treatment arm). vector length equals num_arms. SS_matrix Matrix sample sizes per arm (rows) period (columns). lambda Vector containing numerical entries string \"random\", indicating strength time trend arm ordered entry time arms (e.g., first entry vector corresponds time trend control arm, second entry time trend first experimental treatment arm). vector length equals num_arms+1, time trend control also allowed. case random time trend, strenght generated normal distribution. trend String indicating time trend pattern (\"linear\", \"linear_2, \"stepwise\", \"stepwise_2\", \"inv_u\" \"seasonal\"). See Details information. N_peak Integer. Timepoint inverted-u time trend switches direction terms overall sample size (.e. many recruited participants trend direction switches). n_wave Integer. Number cycles (waves) seasonal trend . trend_mean Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). trend_var Integer. case random time trends, strength time trend generated N(trend_mean, trend_var). Default: N(0, 0.5). full Logical. Indicates whether output form data frame variables needed analysis (FALSE) form list containing information (TRUE). Default=FALSE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE.","code":""},{"path":"/reference/datasim_bin_2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"Data frame: simulated trial data (full=FALSE, .e. default) following columns: j - patient recruitment index response - binary response patient j treatment- index treatment patient j allocated period - index period patient j recruited List (full=TRUE) containing following elements: Data - simulated trial data, including additional column p probability used simulating response patient j n_total - total sample size trial num_arms - number experimental treatment arms trial SS_matrix - matrix sample sizes per arm per period period_blocks - number multiply number active arms , order get block size per period p0 - response probability control arm - odds ratios experimental treatment arm lambda - strength time trend arm time_dep_effect - time dependent treatment effects experimental treatment arm (computing bias) trend - time trend pattern","code":""},{"path":"/reference/datasim_bin_2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"Design assumptions: simulated platform trial consists given number experimental treatment arms (specified argument num_arms) one control arm shared across whole platform. Participants indexed entry order, assuming time unit exactly one participant recruited time recruitment observation response equal. participants assumed eligible arms trial, .e. inclusion exclusion criteria apply experimental control arms. Equal sample sizes (given parameter n_arm) experimental treatment arms assumed. duration trial divided -called periods, defined time intervals bounded distinct time points treatment arm entering leaving platform. Hence, multiple treatment arms entering leaving time point imply start one additional period. Allocation ratio 1:1:...:1 period. Furthermore, block randomization used assign patients active arms. Block size period = period_blocks* (number active arms period). period sample size multiple block size, arms remaining participants chosen sampling without replacement vector containing indices active arms replicated times ceiling(remaining sample size/number active arms). Data generation: binary response \\(y_j\\) patient \\(j\\) generated according : $$g(E(y_j)) = \\eta_0 + \\sum_{k=1}^K \\cdot (k_j=k) + f(j)$$ \\(g(\\cdot)\\) logit link function, \\(\\eta_0\\) (logit function parameter p0) \\(\\theta_k\\) (log parameter ) log odds control arm log odds ratio treatment \\(k\\). \\(K\\) total number treatment arms trial (parameter num_arms) \\(k_j\\) indicator treatment arm patient \\(j\\) allocated . function \\(f(j)\\) denotes time trend, whose strength indicated \\(\\lambda_{k_j}\\) (parameter lambda) can following patterns (parameter trend): \"linear\" - trend starts beginning trial log odds increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"linear_2\" - trend starts first period (.e. time trend first period) log odds increases decreases linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1}\\), \\(N\\) total sample size trial \"stepwise\" - log odds constant period increases decreases \\(\\lambda\\) time treatment arm enters leaves trial (.e. period), according function \\(f(j) = \\lambda_{k_j} \\cdot (c_j - 1)\\), \\(c_j\\) index period patient \\(j\\) enrolled \"stepwise_2\" - log odds constant period increases decreases \\(\\lambda\\) time new treatment arm added trial, according function \\(f(j) = \\lambda_{k_j} \\cdot (w_j - 1)\\), \\(w_j\\) indicator many treatment arms already entered ongoing trial, patient \\(j\\) enrolled \"inv_u\" - log odds increases point \\(N_p\\) (parameter N_peak) decreases afterwards, linearly slope \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\frac{j-1}{N-1} ((j \\leq N_p) - (j > N_p))\\), \\(N_p\\) indicates point trend turns positive negative terms sample size (note negative \\(\\lambda\\), log odds ratio decreases first increases ) \"seasonal\" - log odds increases decreases periodically magnitude \\(\\lambda\\), according function \\(f(j) = \\lambda \\cdot \\mathrm{sin} \\big( \\psi \\cdot 2\\pi \\cdot \\frac{j-1}{N-1} \\big)\\), \\(\\psi\\) indicates many cycles time trend (parameter n_wave) Trials time trend can simulated , setting elements vector lambda zero choosing arbitrary pattern.","code":""},{"path":"/reference/datasim_bin_2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"Pavla Krotka, Marta Bofill Roig","code":""},{"path":"/reference/datasim_bin_2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate binary data from a platform trial with a shared control arm and a given number of experimental treatment arms entering at given time points using a user-specified sample size matrix — datasim_bin_2","text":"","code":"ss_matrix <- matrix(c(125, 125, 125, 125, NA, 250), nrow = 3, byrow = TRUE) head(datasim_bin_2(SS_matrix = ss_matrix, p0 = 0.7, OR = rep(1.8, 2), lambda = rep(0.15, 3), trend=\"stepwise_2\")) #>   j response treatment period #> 1 1        1         1      1 #> 2 2        1         1      1 #> 3 3        1         0      1 #> 4 4        1         0      1 #> 5 5        1         1      1 #> 6 6        1         1      1"},{"path":"/reference/fixmodel_lin_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"function performs linear regression taking account trial data arm study leaves trial adjusting time continuous covariate","code":""},{"path":"/reference/fixmodel_lin_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"","code":"fixmodel_lin_cont(data, arm, alpha = 0.025, ncc = TRUE, check = TRUE, ...)"},{"path":"/reference/fixmodel_lin_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Significance level (one-sided). Default=0.025. ncc Logical. Indicates whether include non-concurrent data analysis. Default=TRUE. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/fixmodel_lin_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"List containing following elements regarding results comparing arm control: p-val - p-value (one-sided) treat_effect - estimated treatment effect terms difference means lower_ci - lower limit (1-2*alpha)*100% confidence interval upper_ci - upper limit (1-2*alpha)*100% confidence interval reject_h0 - indicator whether null hypothesis rejected (p_val < alpha) model - fitted model","code":""},{"path":"/reference/fixmodel_lin_cont.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"model-based time trend adjustments platform trials non-concurrent controls. Bofill Roig, M., Krotka, P., et al. BMC Medical Research Methodology 22.1 (2022): 1-16.","code":""},{"path":"/reference/fixmodel_lin_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"Pavla Krotka","code":""},{"path":"/reference/fixmodel_lin_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequentist linear regression model analysis for continuous data with linear adjustment for time — fixmodel_lin_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"linear\")  fixmodel_lin_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.0672881 #>  #> $treat_effect #> [1] 0.2025008 #>  #> $lower_ci #> [1] -0.06296532 #>  #> $upper_ci #> [1] 0.4679669 #>  #> $reject_h0 #> [1] FALSE #>  #> $model #>  #> Call: #> lm(formula = response ~ as.factor(treatment) + j, data = data_new) #>  #> Coefficients: #>           (Intercept)  as.factor(treatment)1  as.factor(treatment)2   #>             5.554e-02              1.331e-01              2.577e-01   #> as.factor(treatment)3                      j   #>             2.025e-01              5.544e-05   #>  #>"},{"path":"/reference/powerprior_cont.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis for continuous data using the power prior approach — powerprior_cont","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"function performs analysis continuous data using power prior approach. method allows incorporating historical data accounting likelihood power argument (weight parameter) control degree borrowing.","code":""},{"path":"/reference/powerprior_cont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"","code":"powerprior_cont(   data,   arm,   alpha = 0.025,   a_0 = 0.9,   opt = 2,   check = TRUE,   ... )"},{"path":"/reference/powerprior_cont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"data Data frame trial data, e.g. result datasim_cont() function. Must contain columns named 'treatment', 'response' 'period'. arm Integer. Index treatment arm study perform inference (vector length 1). arm compared control group. alpha Double. Decision boundary (one-sided). Default=0.025 a_0 Double. Power argument used -weighting likelihood historical datasets (0 < a_0 < 1). Default=0.9. opt Integer (1 2). opt==1, former periods used one historical dataset; opt==2, periods treated separate historical datasets. Default=2. check Logical. Indicates whether input parameters checked function. Default=TRUE, unless function called simulation function, default FALSE. ... arguments passed wrapper functions running simulations.","code":""},{"path":"/reference/powerprior_cont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"List containing following elements regarding results comparing arm control: p-val - posterior probability difference means less zero treat_effect - posterior mean difference means lower_ci - lower limit (1-2*alpha)*100% credible interval difference means upper_ci - upper limit (1-2*alpha)*100% credible interval difference means reject_h0 - indicator whether null hypothesis rejected (p_val < alpha)","code":""},{"path":"/reference/powerprior_cont.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"Pavla Krotka","code":""},{"path":"/reference/powerprior_cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis for continuous data using the power prior approach — powerprior_cont","text":"","code":"trial_data <- datasim_cont(num_arms = 3, n_arm = 100, d = c(0, 100, 250), theta = rep(0.25, 3), lambda = rep(0.15, 4), sigma = 1, trend = \"stepwise\")  powerprior_cont(data = trial_data, arm = 3) #> $p_val #> [1] 0.00095 #>  #> $treat_effect #> [1] 0.4030118 #>  #> $lower_ci #> [1] 0.152513 #>  #> $upper_ci #> [1] 0.6516613 #>  #> $reject_h0 #> [1] TRUE #>"}]
